(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Km(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function nh(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var rh={exports:{}},bo={},sh={exports:{}},q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qs=Symbol.for("react.element"),Gm=Symbol.for("react.portal"),Jm=Symbol.for("react.fragment"),Qm=Symbol.for("react.strict_mode"),Xm=Symbol.for("react.profiler"),Zm=Symbol.for("react.provider"),eg=Symbol.for("react.context"),tg=Symbol.for("react.forward_ref"),ng=Symbol.for("react.suspense"),rg=Symbol.for("react.memo"),sg=Symbol.for("react.lazy"),rc=Symbol.iterator;function ig(e){return e===null||typeof e!="object"?null:(e=rc&&e[rc]||e["@@iterator"],typeof e=="function"?e:null)}var ih={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},oh=Object.assign,ah={};function Lr(e,t,n){this.props=e,this.context=t,this.refs=ah,this.updater=n||ih}Lr.prototype.isReactComponent={};Lr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Lr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function lh(){}lh.prototype=Lr.prototype;function Kl(e,t,n){this.props=e,this.context=t,this.refs=ah,this.updater=n||ih}var Gl=Kl.prototype=new lh;Gl.constructor=Kl;oh(Gl,Lr.prototype);Gl.isPureReactComponent=!0;var sc=Array.isArray,uh=Object.prototype.hasOwnProperty,Jl={current:null},ch={key:!0,ref:!0,__self:!0,__source:!0};function dh(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)uh.call(t,r)&&!ch.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:qs,type:e,key:i,ref:o,props:s,_owner:Jl.current}}function og(e,t){return{$$typeof:qs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ql(e){return typeof e=="object"&&e!==null&&e.$$typeof===qs}function ag(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ic=/\/+/g;function Ho(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ag(""+e.key):t.toString(36)}function Pi(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case qs:case Gm:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Ho(o,0):r,sc(s)?(n="",e!=null&&(n=e.replace(ic,"$&/")+"/"),Pi(s,t,n,"",function(u){return u})):s!=null&&(Ql(s)&&(s=og(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(ic,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",sc(e))for(var a=0;a<e.length;a++){i=e[a];var l=r+Ho(i,a);o+=Pi(i,t,n,l,s)}else if(l=ig(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=r+Ho(i,a++),o+=Pi(i,t,n,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ni(e,t,n){if(e==null)return e;var r=[],s=0;return Pi(e,r,"","",function(i){return t.call(n,i,s++)}),r}function lg(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Be={current:null},Ni={transition:null},ug={ReactCurrentDispatcher:Be,ReactCurrentBatchConfig:Ni,ReactCurrentOwner:Jl};function hh(){throw Error("act(...) is not supported in production builds of React.")}q.Children={map:ni,forEach:function(e,t,n){ni(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ni(e,function(){t++}),t},toArray:function(e){return ni(e,function(t){return t})||[]},only:function(e){if(!Ql(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};q.Component=Lr;q.Fragment=Jm;q.Profiler=Xm;q.PureComponent=Kl;q.StrictMode=Qm;q.Suspense=ng;q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ug;q.act=hh;q.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=oh({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Jl.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)uh.call(t,l)&&!ch.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:qs,type:e.type,key:s,ref:i,props:r,_owner:o}};q.createContext=function(e){return e={$$typeof:eg,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Zm,_context:e},e.Consumer=e};q.createElement=dh;q.createFactory=function(e){var t=dh.bind(null,e);return t.type=e,t};q.createRef=function(){return{current:null}};q.forwardRef=function(e){return{$$typeof:tg,render:e}};q.isValidElement=Ql;q.lazy=function(e){return{$$typeof:sg,_payload:{_status:-1,_result:e},_init:lg}};q.memo=function(e,t){return{$$typeof:rg,type:e,compare:t===void 0?null:t}};q.startTransition=function(e){var t=Ni.transition;Ni.transition={};try{e()}finally{Ni.transition=t}};q.unstable_act=hh;q.useCallback=function(e,t){return Be.current.useCallback(e,t)};q.useContext=function(e){return Be.current.useContext(e)};q.useDebugValue=function(){};q.useDeferredValue=function(e){return Be.current.useDeferredValue(e)};q.useEffect=function(e,t){return Be.current.useEffect(e,t)};q.useId=function(){return Be.current.useId()};q.useImperativeHandle=function(e,t,n){return Be.current.useImperativeHandle(e,t,n)};q.useInsertionEffect=function(e,t){return Be.current.useInsertionEffect(e,t)};q.useLayoutEffect=function(e,t){return Be.current.useLayoutEffect(e,t)};q.useMemo=function(e,t){return Be.current.useMemo(e,t)};q.useReducer=function(e,t,n){return Be.current.useReducer(e,t,n)};q.useRef=function(e){return Be.current.useRef(e)};q.useState=function(e){return Be.current.useState(e)};q.useSyncExternalStore=function(e,t,n){return Be.current.useSyncExternalStore(e,t,n)};q.useTransition=function(){return Be.current.useTransition()};q.version="18.3.1";sh.exports=q;var x=sh.exports;const E=Km(x);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cg=x,dg=Symbol.for("react.element"),hg=Symbol.for("react.fragment"),fg=Object.prototype.hasOwnProperty,pg=cg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,mg={key:!0,ref:!0,__self:!0,__source:!0};function fh(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)fg.call(t,r)&&!mg.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:dg,type:e,key:i,ref:o,props:s,_owner:pg.current}}bo.Fragment=hg;bo.jsx=fh;bo.jsxs=fh;rh.exports=bo;var v=rh.exports,Oa={},ph={exports:{}},et={},mh={exports:{}},gh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,U){var F=O.length;O.push(U);e:for(;0<F;){var te=F-1>>>1,C=O[te];if(0<s(C,U))O[te]=U,O[F]=C,F=te;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var U=O[0],F=O.pop();if(F!==U){O[0]=F;e:for(var te=0,C=O.length,A=C>>>1;te<A;){var W=2*(te+1)-1,H=O[W],M=W+1,se=O[M];if(0>s(H,F))M<C&&0>s(se,H)?(O[te]=se,O[M]=F,te=M):(O[te]=H,O[W]=F,te=W);else if(M<C&&0>s(se,F))O[te]=se,O[M]=F,te=M;else break e}}return U}function s(O,U){var F=O.sortIndex-U.sortIndex;return F!==0?F:O.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,d=3,g=!1,w=!1,y=!1,S=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(O){for(var U=n(u);U!==null;){if(U.callback===null)r(u);else if(U.startTime<=O)r(u),U.sortIndex=U.expirationTime,t(l,U);else break;U=n(u)}}function _(O){if(y=!1,m(O),!w)if(n(l)!==null)w=!0,oe(b);else{var U=n(u);U!==null&&rt(_,U.startTime-O)}}function b(O,U){w=!1,y&&(y=!1,f(P),P=-1),g=!0;var F=d;try{for(m(U),h=n(l);h!==null&&(!(h.expirationTime>U)||O&&!V());){var te=h.callback;if(typeof te=="function"){h.callback=null,d=h.priorityLevel;var C=te(h.expirationTime<=U);U=e.unstable_now(),typeof C=="function"?h.callback=C:h===n(l)&&r(l),m(U)}else r(l);h=n(l)}if(h!==null)var A=!0;else{var W=n(u);W!==null&&rt(_,W.startTime-U),A=!1}return A}finally{h=null,d=F,g=!1}}var j=!1,k=null,P=-1,L=5,R=-1;function V(){return!(e.unstable_now()-R<L)}function ke(){if(k!==null){var O=e.unstable_now();R=O;var U=!0;try{U=k(!0,O)}finally{U?Ue():(j=!1,k=null)}}else j=!1}var Ue;if(typeof p=="function")Ue=function(){p(ke)};else if(typeof MessageChannel<"u"){var nt=new MessageChannel,me=nt.port2;nt.port1.onmessage=ke,Ue=function(){me.postMessage(null)}}else Ue=function(){S(ke,0)};function oe(O){k=O,j||(j=!0,Ue())}function rt(O,U){P=S(function(){O(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){w||g||(w=!0,oe(b))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(O){switch(d){case 1:case 2:case 3:var U=3;break;default:U=d}var F=d;d=U;try{return O()}finally{d=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,U){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var F=d;d=O;try{return U()}finally{d=F}},e.unstable_scheduleCallback=function(O,U,F){var te=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?te+F:te):F=te,O){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=F+C,O={id:c++,callback:U,priorityLevel:O,startTime:F,expirationTime:C,sortIndex:-1},F>te?(O.sortIndex=F,t(u,O),n(l)===null&&O===n(u)&&(y?(f(P),P=-1):y=!0,rt(_,F-te))):(O.sortIndex=C,t(l,O),w||g||(w=!0,oe(b))),O},e.unstable_shouldYield=V,e.unstable_wrapCallback=function(O){var U=d;return function(){var F=d;d=U;try{return O.apply(this,arguments)}finally{d=F}}}})(gh);mh.exports=gh;var gg=mh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vg=x,Ze=gg;function T(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var vh=new Set,bs={};function qn(e,t){Cr(e,t),Cr(e+"Capture",t)}function Cr(e,t){for(bs[e]=t,e=0;e<t.length;e++)vh.add(t[e])}var zt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ra=Object.prototype.hasOwnProperty,yg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,oc={},ac={};function wg(e){return Ra.call(ac,e)?!0:Ra.call(oc,e)?!1:yg.test(e)?ac[e]=!0:(oc[e]=!0,!1)}function _g(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Sg(e,t,n,r){if(t===null||typeof t>"u"||_g(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Me(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Te={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Te[e]=new Me(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Te[t]=new Me(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Te[e]=new Me(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Te[e]=new Me(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Te[e]=new Me(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Te[e]=new Me(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Te[e]=new Me(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Te[e]=new Me(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Te[e]=new Me(e,5,!1,e.toLowerCase(),null,!1,!1)});var Xl=/[\-:]([a-z])/g;function Zl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Xl,Zl);Te[t]=new Me(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Xl,Zl);Te[t]=new Me(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Xl,Zl);Te[t]=new Me(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Te[e]=new Me(e,1,!1,e.toLowerCase(),null,!1,!1)});Te.xlinkHref=new Me("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Te[e]=new Me(e,1,!1,e.toLowerCase(),null,!0,!0)});function eu(e,t,n,r){var s=Te.hasOwnProperty(t)?Te[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Sg(t,n,s,r)&&(n=null),r||s===null?wg(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Kt=vg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ri=Symbol.for("react.element"),ir=Symbol.for("react.portal"),or=Symbol.for("react.fragment"),tu=Symbol.for("react.strict_mode"),Ia=Symbol.for("react.profiler"),yh=Symbol.for("react.provider"),wh=Symbol.for("react.context"),nu=Symbol.for("react.forward_ref"),$a=Symbol.for("react.suspense"),Aa=Symbol.for("react.suspense_list"),ru=Symbol.for("react.memo"),en=Symbol.for("react.lazy"),_h=Symbol.for("react.offscreen"),lc=Symbol.iterator;function Yr(e){return e===null||typeof e!="object"?null:(e=lc&&e[lc]||e["@@iterator"],typeof e=="function"?e:null)}var de=Object.assign,Vo;function rs(e){if(Vo===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Vo=t&&t[1]||""}return`
`+Vo+e}var qo=!1;function Yo(e,t){if(!e||qo)return"";qo=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{qo=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?rs(e):""}function xg(e){switch(e.tag){case 5:return rs(e.type);case 16:return rs("Lazy");case 13:return rs("Suspense");case 19:return rs("SuspenseList");case 0:case 2:case 15:return e=Yo(e.type,!1),e;case 11:return e=Yo(e.type.render,!1),e;case 1:return e=Yo(e.type,!0),e;default:return""}}function La(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case or:return"Fragment";case ir:return"Portal";case Ia:return"Profiler";case tu:return"StrictMode";case $a:return"Suspense";case Aa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case wh:return(e.displayName||"Context")+".Consumer";case yh:return(e._context.displayName||"Context")+".Provider";case nu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ru:return t=e.displayName||null,t!==null?t:La(e.type)||"Memo";case en:t=e._payload,e=e._init;try{return La(e(t))}catch{}}return null}function Eg(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return La(t);case 8:return t===tu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function wn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Sh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function bg(e){var t=Sh(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function si(e){e._valueTracker||(e._valueTracker=bg(e))}function xh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Sh(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Yi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Da(e,t){var n=t.checked;return de({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function uc(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=wn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Eh(e,t){t=t.checked,t!=null&&eu(e,"checked",t,!1)}function Ba(e,t){Eh(e,t);var n=wn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ma(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ma(e,t.type,wn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function cc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ma(e,t,n){(t!=="number"||Yi(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ss=Array.isArray;function yr(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+wn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Ua(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(T(91));return de({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function dc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(T(92));if(ss(n)){if(1<n.length)throw Error(T(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:wn(n)}}function bh(e,t){var n=wn(t.value),r=wn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function hc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function kh(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fa(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?kh(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ii,Ch=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ii=ii||document.createElement("div"),ii.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ii.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ks(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var cs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kg=["Webkit","ms","Moz","O"];Object.keys(cs).forEach(function(e){kg.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),cs[t]=cs[e]})});function jh(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||cs.hasOwnProperty(e)&&cs[e]?(""+t).trim():t+"px"}function Th(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=jh(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Cg=de({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function za(e,t){if(t){if(Cg[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(T(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(T(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(T(61))}if(t.style!=null&&typeof t.style!="object")throw Error(T(62))}}function Wa(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ha=null;function su(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Va=null,wr=null,_r=null;function fc(e){if(e=Gs(e)){if(typeof Va!="function")throw Error(T(280));var t=e.stateNode;t&&(t=Po(t),Va(e.stateNode,e.type,t))}}function Ph(e){wr?_r?_r.push(e):_r=[e]:wr=e}function Nh(){if(wr){var e=wr,t=_r;if(_r=wr=null,fc(e),t)for(e=0;e<t.length;e++)fc(t[e])}}function Oh(e,t){return e(t)}function Rh(){}var Ko=!1;function Ih(e,t,n){if(Ko)return e(t,n);Ko=!0;try{return Oh(e,t,n)}finally{Ko=!1,(wr!==null||_r!==null)&&(Rh(),Nh())}}function Cs(e,t){var n=e.stateNode;if(n===null)return null;var r=Po(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(T(231,t,typeof n));return n}var qa=!1;if(zt)try{var Kr={};Object.defineProperty(Kr,"passive",{get:function(){qa=!0}}),window.addEventListener("test",Kr,Kr),window.removeEventListener("test",Kr,Kr)}catch{qa=!1}function jg(e,t,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var ds=!1,Ki=null,Gi=!1,Ya=null,Tg={onError:function(e){ds=!0,Ki=e}};function Pg(e,t,n,r,s,i,o,a,l){ds=!1,Ki=null,jg.apply(Tg,arguments)}function Ng(e,t,n,r,s,i,o,a,l){if(Pg.apply(this,arguments),ds){if(ds){var u=Ki;ds=!1,Ki=null}else throw Error(T(198));Gi||(Gi=!0,Ya=u)}}function Yn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function $h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function pc(e){if(Yn(e)!==e)throw Error(T(188))}function Og(e){var t=e.alternate;if(!t){if(t=Yn(e),t===null)throw Error(T(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return pc(s),e;if(i===r)return pc(s),t;i=i.sibling}throw Error(T(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(T(189))}}if(n.alternate!==r)throw Error(T(190))}if(n.tag!==3)throw Error(T(188));return n.stateNode.current===n?e:t}function Ah(e){return e=Og(e),e!==null?Lh(e):null}function Lh(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Lh(e);if(t!==null)return t;e=e.sibling}return null}var Dh=Ze.unstable_scheduleCallback,mc=Ze.unstable_cancelCallback,Rg=Ze.unstable_shouldYield,Ig=Ze.unstable_requestPaint,pe=Ze.unstable_now,$g=Ze.unstable_getCurrentPriorityLevel,iu=Ze.unstable_ImmediatePriority,Bh=Ze.unstable_UserBlockingPriority,Ji=Ze.unstable_NormalPriority,Ag=Ze.unstable_LowPriority,Mh=Ze.unstable_IdlePriority,ko=null,jt=null;function Lg(e){if(jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(ko,e,void 0,(e.current.flags&128)===128)}catch{}}var wt=Math.clz32?Math.clz32:Mg,Dg=Math.log,Bg=Math.LN2;function Mg(e){return e>>>=0,e===0?32:31-(Dg(e)/Bg|0)|0}var oi=64,ai=4194304;function is(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Qi(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=is(a):(i&=o,i!==0&&(r=is(i)))}else o=n&~s,o!==0?r=is(o):i!==0&&(r=is(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-wt(t),s=1<<n,r|=e[n],t&=~s;return r}function Ug(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fg(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-wt(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=Ug(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function Ka(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Uh(){var e=oi;return oi<<=1,!(oi&4194240)&&(oi=64),e}function Go(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ys(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-wt(t),e[t]=n}function zg(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-wt(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function ou(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-wt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var J=0;function Fh(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var zh,au,Wh,Hh,Vh,Ga=!1,li=[],un=null,cn=null,dn=null,js=new Map,Ts=new Map,nn=[],Wg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gc(e,t){switch(e){case"focusin":case"focusout":un=null;break;case"dragenter":case"dragleave":cn=null;break;case"mouseover":case"mouseout":dn=null;break;case"pointerover":case"pointerout":js.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ts.delete(t.pointerId)}}function Gr(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Gs(t),t!==null&&au(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Hg(e,t,n,r,s){switch(t){case"focusin":return un=Gr(un,e,t,n,r,s),!0;case"dragenter":return cn=Gr(cn,e,t,n,r,s),!0;case"mouseover":return dn=Gr(dn,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return js.set(i,Gr(js.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ts.set(i,Gr(Ts.get(i)||null,e,t,n,r,s)),!0}return!1}function qh(e){var t=In(e.target);if(t!==null){var n=Yn(t);if(n!==null){if(t=n.tag,t===13){if(t=$h(n),t!==null){e.blockedOn=t,Vh(e.priority,function(){Wh(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Oi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ja(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ha=r,n.target.dispatchEvent(r),Ha=null}else return t=Gs(n),t!==null&&au(t),e.blockedOn=n,!1;t.shift()}return!0}function vc(e,t,n){Oi(e)&&n.delete(t)}function Vg(){Ga=!1,un!==null&&Oi(un)&&(un=null),cn!==null&&Oi(cn)&&(cn=null),dn!==null&&Oi(dn)&&(dn=null),js.forEach(vc),Ts.forEach(vc)}function Jr(e,t){e.blockedOn===t&&(e.blockedOn=null,Ga||(Ga=!0,Ze.unstable_scheduleCallback(Ze.unstable_NormalPriority,Vg)))}function Ps(e){function t(s){return Jr(s,e)}if(0<li.length){Jr(li[0],e);for(var n=1;n<li.length;n++){var r=li[n];r.blockedOn===e&&(r.blockedOn=null)}}for(un!==null&&Jr(un,e),cn!==null&&Jr(cn,e),dn!==null&&Jr(dn,e),js.forEach(t),Ts.forEach(t),n=0;n<nn.length;n++)r=nn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<nn.length&&(n=nn[0],n.blockedOn===null);)qh(n),n.blockedOn===null&&nn.shift()}var Sr=Kt.ReactCurrentBatchConfig,Xi=!0;function qg(e,t,n,r){var s=J,i=Sr.transition;Sr.transition=null;try{J=1,lu(e,t,n,r)}finally{J=s,Sr.transition=i}}function Yg(e,t,n,r){var s=J,i=Sr.transition;Sr.transition=null;try{J=4,lu(e,t,n,r)}finally{J=s,Sr.transition=i}}function lu(e,t,n,r){if(Xi){var s=Ja(e,t,n,r);if(s===null)ia(e,t,r,Zi,n),gc(e,r);else if(Hg(s,e,t,n,r))r.stopPropagation();else if(gc(e,r),t&4&&-1<Wg.indexOf(e)){for(;s!==null;){var i=Gs(s);if(i!==null&&zh(i),i=Ja(e,t,n,r),i===null&&ia(e,t,r,Zi,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else ia(e,t,r,null,n)}}var Zi=null;function Ja(e,t,n,r){if(Zi=null,e=su(r),e=In(e),e!==null)if(t=Yn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=$h(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Zi=e,null}function Yh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($g()){case iu:return 1;case Bh:return 4;case Ji:case Ag:return 16;case Mh:return 536870912;default:return 16}default:return 16}}var on=null,uu=null,Ri=null;function Kh(){if(Ri)return Ri;var e,t=uu,n=t.length,r,s="value"in on?on.value:on.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return Ri=s.slice(e,1<r?1-r:void 0)}function Ii(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ui(){return!0}function yc(){return!1}function tt(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ui:yc,this.isPropagationStopped=yc,this}return de(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ui)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ui)},persist:function(){},isPersistent:ui}),t}var Dr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cu=tt(Dr),Ks=de({},Dr,{view:0,detail:0}),Kg=tt(Ks),Jo,Qo,Qr,Co=de({},Ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:du,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qr&&(Qr&&e.type==="mousemove"?(Jo=e.screenX-Qr.screenX,Qo=e.screenY-Qr.screenY):Qo=Jo=0,Qr=e),Jo)},movementY:function(e){return"movementY"in e?e.movementY:Qo}}),wc=tt(Co),Gg=de({},Co,{dataTransfer:0}),Jg=tt(Gg),Qg=de({},Ks,{relatedTarget:0}),Xo=tt(Qg),Xg=de({},Dr,{animationName:0,elapsedTime:0,pseudoElement:0}),Zg=tt(Xg),e0=de({},Dr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),t0=tt(e0),n0=de({},Dr,{data:0}),_c=tt(n0),r0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},s0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},i0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function o0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=i0[e])?!!t[e]:!1}function du(){return o0}var a0=de({},Ks,{key:function(e){if(e.key){var t=r0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ii(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?s0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:du,charCode:function(e){return e.type==="keypress"?Ii(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ii(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),l0=tt(a0),u0=de({},Co,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sc=tt(u0),c0=de({},Ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:du}),d0=tt(c0),h0=de({},Dr,{propertyName:0,elapsedTime:0,pseudoElement:0}),f0=tt(h0),p0=de({},Co,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),m0=tt(p0),g0=[9,13,27,32],hu=zt&&"CompositionEvent"in window,hs=null;zt&&"documentMode"in document&&(hs=document.documentMode);var v0=zt&&"TextEvent"in window&&!hs,Gh=zt&&(!hu||hs&&8<hs&&11>=hs),xc=" ",Ec=!1;function Jh(e,t){switch(e){case"keyup":return g0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ar=!1;function y0(e,t){switch(e){case"compositionend":return Qh(t);case"keypress":return t.which!==32?null:(Ec=!0,xc);case"textInput":return e=t.data,e===xc&&Ec?null:e;default:return null}}function w0(e,t){if(ar)return e==="compositionend"||!hu&&Jh(e,t)?(e=Kh(),Ri=uu=on=null,ar=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Gh&&t.locale!=="ko"?null:t.data;default:return null}}var _0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!_0[e.type]:t==="textarea"}function Xh(e,t,n,r){Ph(r),t=eo(t,"onChange"),0<t.length&&(n=new cu("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var fs=null,Ns=null;function S0(e){cf(e,0)}function jo(e){var t=cr(e);if(xh(t))return e}function x0(e,t){if(e==="change")return t}var Zh=!1;if(zt){var Zo;if(zt){var ea="oninput"in document;if(!ea){var kc=document.createElement("div");kc.setAttribute("oninput","return;"),ea=typeof kc.oninput=="function"}Zo=ea}else Zo=!1;Zh=Zo&&(!document.documentMode||9<document.documentMode)}function Cc(){fs&&(fs.detachEvent("onpropertychange",ef),Ns=fs=null)}function ef(e){if(e.propertyName==="value"&&jo(Ns)){var t=[];Xh(t,Ns,e,su(e)),Ih(S0,t)}}function E0(e,t,n){e==="focusin"?(Cc(),fs=t,Ns=n,fs.attachEvent("onpropertychange",ef)):e==="focusout"&&Cc()}function b0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return jo(Ns)}function k0(e,t){if(e==="click")return jo(t)}function C0(e,t){if(e==="input"||e==="change")return jo(t)}function j0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xt=typeof Object.is=="function"?Object.is:j0;function Os(e,t){if(xt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Ra.call(t,s)||!xt(e[s],t[s]))return!1}return!0}function jc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Tc(e,t){var n=jc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=jc(n)}}function tf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?tf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function nf(){for(var e=window,t=Yi();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Yi(e.document)}return t}function fu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function T0(e){var t=nf(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&tf(n.ownerDocument.documentElement,n)){if(r!==null&&fu(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=Tc(n,i);var o=Tc(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var P0=zt&&"documentMode"in document&&11>=document.documentMode,lr=null,Qa=null,ps=null,Xa=!1;function Pc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Xa||lr==null||lr!==Yi(r)||(r=lr,"selectionStart"in r&&fu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ps&&Os(ps,r)||(ps=r,r=eo(Qa,"onSelect"),0<r.length&&(t=new cu("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=lr)))}function ci(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ur={animationend:ci("Animation","AnimationEnd"),animationiteration:ci("Animation","AnimationIteration"),animationstart:ci("Animation","AnimationStart"),transitionend:ci("Transition","TransitionEnd")},ta={},rf={};zt&&(rf=document.createElement("div").style,"AnimationEvent"in window||(delete ur.animationend.animation,delete ur.animationiteration.animation,delete ur.animationstart.animation),"TransitionEvent"in window||delete ur.transitionend.transition);function To(e){if(ta[e])return ta[e];if(!ur[e])return e;var t=ur[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in rf)return ta[e]=t[n];return e}var sf=To("animationend"),of=To("animationiteration"),af=To("animationstart"),lf=To("transitionend"),uf=new Map,Nc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sn(e,t){uf.set(e,t),qn(t,[e])}for(var na=0;na<Nc.length;na++){var ra=Nc[na],N0=ra.toLowerCase(),O0=ra[0].toUpperCase()+ra.slice(1);Sn(N0,"on"+O0)}Sn(sf,"onAnimationEnd");Sn(of,"onAnimationIteration");Sn(af,"onAnimationStart");Sn("dblclick","onDoubleClick");Sn("focusin","onFocus");Sn("focusout","onBlur");Sn(lf,"onTransitionEnd");Cr("onMouseEnter",["mouseout","mouseover"]);Cr("onMouseLeave",["mouseout","mouseover"]);Cr("onPointerEnter",["pointerout","pointerover"]);Cr("onPointerLeave",["pointerout","pointerover"]);qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qn("onBeforeInput",["compositionend","keypress","textInput","paste"]);qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var os="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),R0=new Set("cancel close invalid load scroll toggle".split(" ").concat(os));function Oc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Ng(r,t,void 0,e),e.currentTarget=null}function cf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Oc(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Oc(s,a,u),i=l}}}if(Gi)throw e=Ya,Gi=!1,Ya=null,e}function ne(e,t){var n=t[rl];n===void 0&&(n=t[rl]=new Set);var r=e+"__bubble";n.has(r)||(df(t,e,2,!1),n.add(r))}function sa(e,t,n){var r=0;t&&(r|=4),df(n,e,r,t)}var di="_reactListening"+Math.random().toString(36).slice(2);function Rs(e){if(!e[di]){e[di]=!0,vh.forEach(function(n){n!=="selectionchange"&&(R0.has(n)||sa(n,!1,e),sa(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[di]||(t[di]=!0,sa("selectionchange",!1,t))}}function df(e,t,n,r){switch(Yh(t)){case 1:var s=qg;break;case 4:s=Yg;break;default:s=lu}n=s.bind(null,t,n,e),s=void 0,!qa||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function ia(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=In(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Ih(function(){var u=i,c=su(n),h=[];e:{var d=uf.get(e);if(d!==void 0){var g=cu,w=e;switch(e){case"keypress":if(Ii(n)===0)break e;case"keydown":case"keyup":g=l0;break;case"focusin":w="focus",g=Xo;break;case"focusout":w="blur",g=Xo;break;case"beforeblur":case"afterblur":g=Xo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=wc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Jg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=d0;break;case sf:case of:case af:g=Zg;break;case lf:g=f0;break;case"scroll":g=Kg;break;case"wheel":g=m0;break;case"copy":case"cut":case"paste":g=t0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Sc}var y=(t&4)!==0,S=!y&&e==="scroll",f=y?d!==null?d+"Capture":null:d;y=[];for(var p=u,m;p!==null;){m=p;var _=m.stateNode;if(m.tag===5&&_!==null&&(m=_,f!==null&&(_=Cs(p,f),_!=null&&y.push(Is(p,_,m)))),S)break;p=p.return}0<y.length&&(d=new g(d,w,null,n,c),h.push({event:d,listeners:y}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",d&&n!==Ha&&(w=n.relatedTarget||n.fromElement)&&(In(w)||w[Wt]))break e;if((g||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,g?(w=n.relatedTarget||n.toElement,g=u,w=w?In(w):null,w!==null&&(S=Yn(w),w!==S||w.tag!==5&&w.tag!==6)&&(w=null)):(g=null,w=u),g!==w)){if(y=wc,_="onMouseLeave",f="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(y=Sc,_="onPointerLeave",f="onPointerEnter",p="pointer"),S=g==null?d:cr(g),m=w==null?d:cr(w),d=new y(_,p+"leave",g,n,c),d.target=S,d.relatedTarget=m,_=null,In(c)===u&&(y=new y(f,p+"enter",w,n,c),y.target=m,y.relatedTarget=S,_=y),S=_,g&&w)t:{for(y=g,f=w,p=0,m=y;m;m=Jn(m))p++;for(m=0,_=f;_;_=Jn(_))m++;for(;0<p-m;)y=Jn(y),p--;for(;0<m-p;)f=Jn(f),m--;for(;p--;){if(y===f||f!==null&&y===f.alternate)break t;y=Jn(y),f=Jn(f)}y=null}else y=null;g!==null&&Rc(h,d,g,y,!1),w!==null&&S!==null&&Rc(h,S,w,y,!0)}}e:{if(d=u?cr(u):window,g=d.nodeName&&d.nodeName.toLowerCase(),g==="select"||g==="input"&&d.type==="file")var b=x0;else if(bc(d))if(Zh)b=C0;else{b=b0;var j=E0}else(g=d.nodeName)&&g.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(b=k0);if(b&&(b=b(e,u))){Xh(h,b,n,c);break e}j&&j(e,d,u),e==="focusout"&&(j=d._wrapperState)&&j.controlled&&d.type==="number"&&Ma(d,"number",d.value)}switch(j=u?cr(u):window,e){case"focusin":(bc(j)||j.contentEditable==="true")&&(lr=j,Qa=u,ps=null);break;case"focusout":ps=Qa=lr=null;break;case"mousedown":Xa=!0;break;case"contextmenu":case"mouseup":case"dragend":Xa=!1,Pc(h,n,c);break;case"selectionchange":if(P0)break;case"keydown":case"keyup":Pc(h,n,c)}var k;if(hu)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else ar?Jh(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(Gh&&n.locale!=="ko"&&(ar||P!=="onCompositionStart"?P==="onCompositionEnd"&&ar&&(k=Kh()):(on=c,uu="value"in on?on.value:on.textContent,ar=!0)),j=eo(u,P),0<j.length&&(P=new _c(P,e,null,n,c),h.push({event:P,listeners:j}),k?P.data=k:(k=Qh(n),k!==null&&(P.data=k)))),(k=v0?y0(e,n):w0(e,n))&&(u=eo(u,"onBeforeInput"),0<u.length&&(c=new _c("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=k))}cf(h,t)})}function Is(e,t,n){return{instance:e,listener:t,currentTarget:n}}function eo(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Cs(e,n),i!=null&&r.unshift(Is(e,i,s)),i=Cs(e,t),i!=null&&r.push(Is(e,i,s))),e=e.return}return r}function Jn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Rc(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=Cs(n,i),l!=null&&o.unshift(Is(n,l,a))):s||(l=Cs(n,i),l!=null&&o.push(Is(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var I0=/\r\n?/g,$0=/\u0000|\uFFFD/g;function Ic(e){return(typeof e=="string"?e:""+e).replace(I0,`
`).replace($0,"")}function hi(e,t,n){if(t=Ic(t),Ic(e)!==t&&n)throw Error(T(425))}function to(){}var Za=null,el=null;function tl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var nl=typeof setTimeout=="function"?setTimeout:void 0,A0=typeof clearTimeout=="function"?clearTimeout:void 0,$c=typeof Promise=="function"?Promise:void 0,L0=typeof queueMicrotask=="function"?queueMicrotask:typeof $c<"u"?function(e){return $c.resolve(null).then(e).catch(D0)}:nl;function D0(e){setTimeout(function(){throw e})}function oa(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Ps(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ps(t)}function hn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ac(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Br=Math.random().toString(36).slice(2),Ct="__reactFiber$"+Br,$s="__reactProps$"+Br,Wt="__reactContainer$"+Br,rl="__reactEvents$"+Br,B0="__reactListeners$"+Br,M0="__reactHandles$"+Br;function In(e){var t=e[Ct];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Wt]||n[Ct]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ac(e);e!==null;){if(n=e[Ct])return n;e=Ac(e)}return t}e=n,n=e.parentNode}return null}function Gs(e){return e=e[Ct]||e[Wt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function cr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(T(33))}function Po(e){return e[$s]||null}var sl=[],dr=-1;function xn(e){return{current:e}}function re(e){0>dr||(e.current=sl[dr],sl[dr]=null,dr--)}function ee(e,t){dr++,sl[dr]=e.current,e.current=t}var _n={},Ie=xn(_n),He=xn(!1),Fn=_n;function jr(e,t){var n=e.type.contextTypes;if(!n)return _n;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ve(e){return e=e.childContextTypes,e!=null}function no(){re(He),re(Ie)}function Lc(e,t,n){if(Ie.current!==_n)throw Error(T(168));ee(Ie,t),ee(He,n)}function hf(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(T(108,Eg(e)||"Unknown",s));return de({},n,r)}function ro(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_n,Fn=Ie.current,ee(Ie,e),ee(He,He.current),!0}function Dc(e,t,n){var r=e.stateNode;if(!r)throw Error(T(169));n?(e=hf(e,t,Fn),r.__reactInternalMemoizedMergedChildContext=e,re(He),re(Ie),ee(Ie,e)):re(He),ee(He,n)}var Dt=null,No=!1,aa=!1;function ff(e){Dt===null?Dt=[e]:Dt.push(e)}function U0(e){No=!0,ff(e)}function En(){if(!aa&&Dt!==null){aa=!0;var e=0,t=J;try{var n=Dt;for(J=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Dt=null,No=!1}catch(s){throw Dt!==null&&(Dt=Dt.slice(e+1)),Dh(iu,En),s}finally{J=t,aa=!1}}return null}var hr=[],fr=0,so=null,io=0,ot=[],at=0,zn=null,Bt=1,Mt="";function Tn(e,t){hr[fr++]=io,hr[fr++]=so,so=e,io=t}function pf(e,t,n){ot[at++]=Bt,ot[at++]=Mt,ot[at++]=zn,zn=e;var r=Bt;e=Mt;var s=32-wt(r)-1;r&=~(1<<s),n+=1;var i=32-wt(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Bt=1<<32-wt(t)+s|n<<s|r,Mt=i+e}else Bt=1<<i|n<<s|r,Mt=e}function pu(e){e.return!==null&&(Tn(e,1),pf(e,1,0))}function mu(e){for(;e===so;)so=hr[--fr],hr[fr]=null,io=hr[--fr],hr[fr]=null;for(;e===zn;)zn=ot[--at],ot[at]=null,Mt=ot[--at],ot[at]=null,Bt=ot[--at],ot[at]=null}var Xe=null,Qe=null,ie=!1,yt=null;function mf(e,t){var n=lt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Bc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Xe=e,Qe=hn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Xe=e,Qe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=zn!==null?{id:Bt,overflow:Mt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=lt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Xe=e,Qe=null,!0):!1;default:return!1}}function il(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ol(e){if(ie){var t=Qe;if(t){var n=t;if(!Bc(e,t)){if(il(e))throw Error(T(418));t=hn(n.nextSibling);var r=Xe;t&&Bc(e,t)?mf(r,n):(e.flags=e.flags&-4097|2,ie=!1,Xe=e)}}else{if(il(e))throw Error(T(418));e.flags=e.flags&-4097|2,ie=!1,Xe=e}}}function Mc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Xe=e}function fi(e){if(e!==Xe)return!1;if(!ie)return Mc(e),ie=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!tl(e.type,e.memoizedProps)),t&&(t=Qe)){if(il(e))throw gf(),Error(T(418));for(;t;)mf(e,t),t=hn(t.nextSibling)}if(Mc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(T(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Qe=hn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Qe=null}}else Qe=Xe?hn(e.stateNode.nextSibling):null;return!0}function gf(){for(var e=Qe;e;)e=hn(e.nextSibling)}function Tr(){Qe=Xe=null,ie=!1}function gu(e){yt===null?yt=[e]:yt.push(e)}var F0=Kt.ReactCurrentBatchConfig;function Xr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(T(309));var r=n.stateNode}if(!r)throw Error(T(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(T(284));if(!n._owner)throw Error(T(290,e))}return e}function pi(e,t){throw e=Object.prototype.toString.call(t),Error(T(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Uc(e){var t=e._init;return t(e._payload)}function vf(e){function t(f,p){if(e){var m=f.deletions;m===null?(f.deletions=[p],f.flags|=16):m.push(p)}}function n(f,p){if(!e)return null;for(;p!==null;)t(f,p),p=p.sibling;return null}function r(f,p){for(f=new Map;p!==null;)p.key!==null?f.set(p.key,p):f.set(p.index,p),p=p.sibling;return f}function s(f,p){return f=gn(f,p),f.index=0,f.sibling=null,f}function i(f,p,m){return f.index=m,e?(m=f.alternate,m!==null?(m=m.index,m<p?(f.flags|=2,p):m):(f.flags|=2,p)):(f.flags|=1048576,p)}function o(f){return e&&f.alternate===null&&(f.flags|=2),f}function a(f,p,m,_){return p===null||p.tag!==6?(p=pa(m,f.mode,_),p.return=f,p):(p=s(p,m),p.return=f,p)}function l(f,p,m,_){var b=m.type;return b===or?c(f,p,m.props.children,_,m.key):p!==null&&(p.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===en&&Uc(b)===p.type)?(_=s(p,m.props),_.ref=Xr(f,p,m),_.return=f,_):(_=Ui(m.type,m.key,m.props,null,f.mode,_),_.ref=Xr(f,p,m),_.return=f,_)}function u(f,p,m,_){return p===null||p.tag!==4||p.stateNode.containerInfo!==m.containerInfo||p.stateNode.implementation!==m.implementation?(p=ma(m,f.mode,_),p.return=f,p):(p=s(p,m.children||[]),p.return=f,p)}function c(f,p,m,_,b){return p===null||p.tag!==7?(p=Mn(m,f.mode,_,b),p.return=f,p):(p=s(p,m),p.return=f,p)}function h(f,p,m){if(typeof p=="string"&&p!==""||typeof p=="number")return p=pa(""+p,f.mode,m),p.return=f,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case ri:return m=Ui(p.type,p.key,p.props,null,f.mode,m),m.ref=Xr(f,null,p),m.return=f,m;case ir:return p=ma(p,f.mode,m),p.return=f,p;case en:var _=p._init;return h(f,_(p._payload),m)}if(ss(p)||Yr(p))return p=Mn(p,f.mode,m,null),p.return=f,p;pi(f,p)}return null}function d(f,p,m,_){var b=p!==null?p.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return b!==null?null:a(f,p,""+m,_);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case ri:return m.key===b?l(f,p,m,_):null;case ir:return m.key===b?u(f,p,m,_):null;case en:return b=m._init,d(f,p,b(m._payload),_)}if(ss(m)||Yr(m))return b!==null?null:c(f,p,m,_,null);pi(f,m)}return null}function g(f,p,m,_,b){if(typeof _=="string"&&_!==""||typeof _=="number")return f=f.get(m)||null,a(p,f,""+_,b);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ri:return f=f.get(_.key===null?m:_.key)||null,l(p,f,_,b);case ir:return f=f.get(_.key===null?m:_.key)||null,u(p,f,_,b);case en:var j=_._init;return g(f,p,m,j(_._payload),b)}if(ss(_)||Yr(_))return f=f.get(m)||null,c(p,f,_,b,null);pi(p,_)}return null}function w(f,p,m,_){for(var b=null,j=null,k=p,P=p=0,L=null;k!==null&&P<m.length;P++){k.index>P?(L=k,k=null):L=k.sibling;var R=d(f,k,m[P],_);if(R===null){k===null&&(k=L);break}e&&k&&R.alternate===null&&t(f,k),p=i(R,p,P),j===null?b=R:j.sibling=R,j=R,k=L}if(P===m.length)return n(f,k),ie&&Tn(f,P),b;if(k===null){for(;P<m.length;P++)k=h(f,m[P],_),k!==null&&(p=i(k,p,P),j===null?b=k:j.sibling=k,j=k);return ie&&Tn(f,P),b}for(k=r(f,k);P<m.length;P++)L=g(k,f,P,m[P],_),L!==null&&(e&&L.alternate!==null&&k.delete(L.key===null?P:L.key),p=i(L,p,P),j===null?b=L:j.sibling=L,j=L);return e&&k.forEach(function(V){return t(f,V)}),ie&&Tn(f,P),b}function y(f,p,m,_){var b=Yr(m);if(typeof b!="function")throw Error(T(150));if(m=b.call(m),m==null)throw Error(T(151));for(var j=b=null,k=p,P=p=0,L=null,R=m.next();k!==null&&!R.done;P++,R=m.next()){k.index>P?(L=k,k=null):L=k.sibling;var V=d(f,k,R.value,_);if(V===null){k===null&&(k=L);break}e&&k&&V.alternate===null&&t(f,k),p=i(V,p,P),j===null?b=V:j.sibling=V,j=V,k=L}if(R.done)return n(f,k),ie&&Tn(f,P),b;if(k===null){for(;!R.done;P++,R=m.next())R=h(f,R.value,_),R!==null&&(p=i(R,p,P),j===null?b=R:j.sibling=R,j=R);return ie&&Tn(f,P),b}for(k=r(f,k);!R.done;P++,R=m.next())R=g(k,f,P,R.value,_),R!==null&&(e&&R.alternate!==null&&k.delete(R.key===null?P:R.key),p=i(R,p,P),j===null?b=R:j.sibling=R,j=R);return e&&k.forEach(function(ke){return t(f,ke)}),ie&&Tn(f,P),b}function S(f,p,m,_){if(typeof m=="object"&&m!==null&&m.type===or&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case ri:e:{for(var b=m.key,j=p;j!==null;){if(j.key===b){if(b=m.type,b===or){if(j.tag===7){n(f,j.sibling),p=s(j,m.props.children),p.return=f,f=p;break e}}else if(j.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===en&&Uc(b)===j.type){n(f,j.sibling),p=s(j,m.props),p.ref=Xr(f,j,m),p.return=f,f=p;break e}n(f,j);break}else t(f,j);j=j.sibling}m.type===or?(p=Mn(m.props.children,f.mode,_,m.key),p.return=f,f=p):(_=Ui(m.type,m.key,m.props,null,f.mode,_),_.ref=Xr(f,p,m),_.return=f,f=_)}return o(f);case ir:e:{for(j=m.key;p!==null;){if(p.key===j)if(p.tag===4&&p.stateNode.containerInfo===m.containerInfo&&p.stateNode.implementation===m.implementation){n(f,p.sibling),p=s(p,m.children||[]),p.return=f,f=p;break e}else{n(f,p);break}else t(f,p);p=p.sibling}p=ma(m,f.mode,_),p.return=f,f=p}return o(f);case en:return j=m._init,S(f,p,j(m._payload),_)}if(ss(m))return w(f,p,m,_);if(Yr(m))return y(f,p,m,_);pi(f,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,p!==null&&p.tag===6?(n(f,p.sibling),p=s(p,m),p.return=f,f=p):(n(f,p),p=pa(m,f.mode,_),p.return=f,f=p),o(f)):n(f,p)}return S}var Pr=vf(!0),yf=vf(!1),oo=xn(null),ao=null,pr=null,vu=null;function yu(){vu=pr=ao=null}function wu(e){var t=oo.current;re(oo),e._currentValue=t}function al(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function xr(e,t){ao=e,vu=pr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(We=!0),e.firstContext=null)}function ct(e){var t=e._currentValue;if(vu!==e)if(e={context:e,memoizedValue:t,next:null},pr===null){if(ao===null)throw Error(T(308));pr=e,ao.dependencies={lanes:0,firstContext:e}}else pr=pr.next=e;return t}var $n=null;function _u(e){$n===null?$n=[e]:$n.push(e)}function wf(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,_u(t)):(n.next=s.next,s.next=n),t.interleaved=n,Ht(e,r)}function Ht(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var tn=!1;function Su(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _f(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ut(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,G&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Ht(e,n)}return s=r.interleaved,s===null?(t.next=t,_u(r)):(t.next=s.next,s.next=t),r.interleaved=t,Ht(e,n)}function $i(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ou(e,n)}}function Fc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function lo(e,t,n,r){var s=e.updateQueue;tn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,c=u=l=null,a=i;do{var d=a.lane,g=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=e,y=a;switch(d=t,g=n,y.tag){case 1:if(w=y.payload,typeof w=="function"){h=w.call(g,h,d);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=y.payload,d=typeof w=="function"?w.call(g,h,d):w,d==null)break e;h=de({},h,d);break e;case 2:tn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,d=s.effects,d===null?s.effects=[a]:d.push(a))}else g={eventTime:g,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=g,l=h):c=c.next=g,o|=d;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;d=a,a=d.next,d.next=null,s.lastBaseUpdate=d,s.shared.pending=null}}while(!0);if(c===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=c,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Hn|=o,e.lanes=o,e.memoizedState=h}}function zc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(T(191,s));s.call(r)}}}var Js={},Tt=xn(Js),As=xn(Js),Ls=xn(Js);function An(e){if(e===Js)throw Error(T(174));return e}function xu(e,t){switch(ee(Ls,t),ee(As,e),ee(Tt,Js),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Fa(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Fa(t,e)}re(Tt),ee(Tt,t)}function Nr(){re(Tt),re(As),re(Ls)}function Sf(e){An(Ls.current);var t=An(Tt.current),n=Fa(t,e.type);t!==n&&(ee(As,e),ee(Tt,n))}function Eu(e){As.current===e&&(re(Tt),re(As))}var le=xn(0);function uo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var la=[];function bu(){for(var e=0;e<la.length;e++)la[e]._workInProgressVersionPrimary=null;la.length=0}var Ai=Kt.ReactCurrentDispatcher,ua=Kt.ReactCurrentBatchConfig,Wn=0,ue=null,Se=null,Ee=null,co=!1,ms=!1,Ds=0,z0=0;function Ne(){throw Error(T(321))}function ku(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!xt(e[n],t[n]))return!1;return!0}function Cu(e,t,n,r,s,i){if(Wn=i,ue=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ai.current=e===null||e.memoizedState===null?q0:Y0,e=n(r,s),ms){i=0;do{if(ms=!1,Ds=0,25<=i)throw Error(T(301));i+=1,Ee=Se=null,t.updateQueue=null,Ai.current=K0,e=n(r,s)}while(ms)}if(Ai.current=ho,t=Se!==null&&Se.next!==null,Wn=0,Ee=Se=ue=null,co=!1,t)throw Error(T(300));return e}function ju(){var e=Ds!==0;return Ds=0,e}function kt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ee===null?ue.memoizedState=Ee=e:Ee=Ee.next=e,Ee}function dt(){if(Se===null){var e=ue.alternate;e=e!==null?e.memoizedState:null}else e=Se.next;var t=Ee===null?ue.memoizedState:Ee.next;if(t!==null)Ee=t,Se=e;else{if(e===null)throw Error(T(310));Se=e,e={memoizedState:Se.memoizedState,baseState:Se.baseState,baseQueue:Se.baseQueue,queue:Se.queue,next:null},Ee===null?ue.memoizedState=Ee=e:Ee=Ee.next=e}return Ee}function Bs(e,t){return typeof t=="function"?t(e):t}function ca(e){var t=dt(),n=t.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=e;var r=Se,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var c=u.lane;if((Wn&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,ue.lanes|=c,Hn|=c}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,xt(r,t.memoizedState)||(We=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,ue.lanes|=i,Hn|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function da(e){var t=dt(),n=t.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);xt(i,t.memoizedState)||(We=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function xf(){}function Ef(e,t){var n=ue,r=dt(),s=t(),i=!xt(r.memoizedState,s);if(i&&(r.memoizedState=s,We=!0),r=r.queue,Tu(Cf.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Ee!==null&&Ee.memoizedState.tag&1){if(n.flags|=2048,Ms(9,kf.bind(null,n,r,s,t),void 0,null),be===null)throw Error(T(349));Wn&30||bf(n,t,s)}return s}function bf(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ue.updateQueue,t===null?(t={lastEffect:null,stores:null},ue.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function kf(e,t,n,r){t.value=n,t.getSnapshot=r,jf(t)&&Tf(e)}function Cf(e,t,n){return n(function(){jf(t)&&Tf(e)})}function jf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!xt(e,n)}catch{return!0}}function Tf(e){var t=Ht(e,1);t!==null&&_t(t,e,1,-1)}function Wc(e){var t=kt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bs,lastRenderedState:e},t.queue=e,e=e.dispatch=V0.bind(null,ue,e),[t.memoizedState,e]}function Ms(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ue.updateQueue,t===null?(t={lastEffect:null,stores:null},ue.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Pf(){return dt().memoizedState}function Li(e,t,n,r){var s=kt();ue.flags|=e,s.memoizedState=Ms(1|t,n,void 0,r===void 0?null:r)}function Oo(e,t,n,r){var s=dt();r=r===void 0?null:r;var i=void 0;if(Se!==null){var o=Se.memoizedState;if(i=o.destroy,r!==null&&ku(r,o.deps)){s.memoizedState=Ms(t,n,i,r);return}}ue.flags|=e,s.memoizedState=Ms(1|t,n,i,r)}function Hc(e,t){return Li(8390656,8,e,t)}function Tu(e,t){return Oo(2048,8,e,t)}function Nf(e,t){return Oo(4,2,e,t)}function Of(e,t){return Oo(4,4,e,t)}function Rf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function If(e,t,n){return n=n!=null?n.concat([e]):null,Oo(4,4,Rf.bind(null,t,e),n)}function Pu(){}function $f(e,t){var n=dt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ku(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Af(e,t){var n=dt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ku(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Lf(e,t,n){return Wn&21?(xt(n,t)||(n=Uh(),ue.lanes|=n,Hn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,We=!0),e.memoizedState=n)}function W0(e,t){var n=J;J=n!==0&&4>n?n:4,e(!0);var r=ua.transition;ua.transition={};try{e(!1),t()}finally{J=n,ua.transition=r}}function Df(){return dt().memoizedState}function H0(e,t,n){var r=mn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Bf(e))Mf(t,n);else if(n=wf(e,t,n,r),n!==null){var s=De();_t(n,e,r,s),Uf(n,t,r)}}function V0(e,t,n){var r=mn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Bf(e))Mf(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,xt(a,o)){var l=t.interleaved;l===null?(s.next=s,_u(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=wf(e,t,s,r),n!==null&&(s=De(),_t(n,e,r,s),Uf(n,t,r))}}function Bf(e){var t=e.alternate;return e===ue||t!==null&&t===ue}function Mf(e,t){ms=co=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Uf(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ou(e,n)}}var ho={readContext:ct,useCallback:Ne,useContext:Ne,useEffect:Ne,useImperativeHandle:Ne,useInsertionEffect:Ne,useLayoutEffect:Ne,useMemo:Ne,useReducer:Ne,useRef:Ne,useState:Ne,useDebugValue:Ne,useDeferredValue:Ne,useTransition:Ne,useMutableSource:Ne,useSyncExternalStore:Ne,useId:Ne,unstable_isNewReconciler:!1},q0={readContext:ct,useCallback:function(e,t){return kt().memoizedState=[e,t===void 0?null:t],e},useContext:ct,useEffect:Hc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Li(4194308,4,Rf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Li(4194308,4,e,t)},useInsertionEffect:function(e,t){return Li(4,2,e,t)},useMemo:function(e,t){var n=kt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=kt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=H0.bind(null,ue,e),[r.memoizedState,e]},useRef:function(e){var t=kt();return e={current:e},t.memoizedState=e},useState:Wc,useDebugValue:Pu,useDeferredValue:function(e){return kt().memoizedState=e},useTransition:function(){var e=Wc(!1),t=e[0];return e=W0.bind(null,e[1]),kt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ue,s=kt();if(ie){if(n===void 0)throw Error(T(407));n=n()}else{if(n=t(),be===null)throw Error(T(349));Wn&30||bf(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Hc(Cf.bind(null,r,i,e),[e]),r.flags|=2048,Ms(9,kf.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=kt(),t=be.identifierPrefix;if(ie){var n=Mt,r=Bt;n=(r&~(1<<32-wt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ds++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=z0++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Y0={readContext:ct,useCallback:$f,useContext:ct,useEffect:Tu,useImperativeHandle:If,useInsertionEffect:Nf,useLayoutEffect:Of,useMemo:Af,useReducer:ca,useRef:Pf,useState:function(){return ca(Bs)},useDebugValue:Pu,useDeferredValue:function(e){var t=dt();return Lf(t,Se.memoizedState,e)},useTransition:function(){var e=ca(Bs)[0],t=dt().memoizedState;return[e,t]},useMutableSource:xf,useSyncExternalStore:Ef,useId:Df,unstable_isNewReconciler:!1},K0={readContext:ct,useCallback:$f,useContext:ct,useEffect:Tu,useImperativeHandle:If,useInsertionEffect:Nf,useLayoutEffect:Of,useMemo:Af,useReducer:da,useRef:Pf,useState:function(){return da(Bs)},useDebugValue:Pu,useDeferredValue:function(e){var t=dt();return Se===null?t.memoizedState=e:Lf(t,Se.memoizedState,e)},useTransition:function(){var e=da(Bs)[0],t=dt().memoizedState;return[e,t]},useMutableSource:xf,useSyncExternalStore:Ef,useId:Df,unstable_isNewReconciler:!1};function pt(e,t){if(e&&e.defaultProps){t=de({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ll(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:de({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ro={isMounted:function(e){return(e=e._reactInternals)?Yn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=De(),s=mn(e),i=Ut(r,s);i.payload=t,n!=null&&(i.callback=n),t=fn(e,i,s),t!==null&&(_t(t,e,s,r),$i(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=De(),s=mn(e),i=Ut(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=fn(e,i,s),t!==null&&(_t(t,e,s,r),$i(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=De(),r=mn(e),s=Ut(n,r);s.tag=2,t!=null&&(s.callback=t),t=fn(e,s,r),t!==null&&(_t(t,e,r,n),$i(t,e,r))}};function Vc(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Os(n,r)||!Os(s,i):!0}function Ff(e,t,n){var r=!1,s=_n,i=t.contextType;return typeof i=="object"&&i!==null?i=ct(i):(s=Ve(t)?Fn:Ie.current,r=t.contextTypes,i=(r=r!=null)?jr(e,s):_n),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ro,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function qc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ro.enqueueReplaceState(t,t.state,null)}function ul(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Su(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=ct(i):(i=Ve(t)?Fn:Ie.current,s.context=jr(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(ll(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Ro.enqueueReplaceState(s,s.state,null),lo(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Or(e,t){try{var n="",r=t;do n+=xg(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function ha(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function cl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var G0=typeof WeakMap=="function"?WeakMap:Map;function zf(e,t,n){n=Ut(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){po||(po=!0,_l=r),cl(e,t)},n}function Wf(e,t,n){n=Ut(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){cl(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){cl(e,t),typeof r!="function"&&(pn===null?pn=new Set([this]):pn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Yc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new G0;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=uv.bind(null,e,t,n),t.then(e,e))}function Kc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Gc(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ut(-1,1),t.tag=2,fn(n,t,1))),n.lanes|=1),e)}var J0=Kt.ReactCurrentOwner,We=!1;function Le(e,t,n,r){t.child=e===null?yf(t,null,n,r):Pr(t,e.child,n,r)}function Jc(e,t,n,r,s){n=n.render;var i=t.ref;return xr(t,s),r=Cu(e,t,n,r,i,s),n=ju(),e!==null&&!We?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Vt(e,t,s)):(ie&&n&&pu(t),t.flags|=1,Le(e,t,r,s),t.child)}function Qc(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Du(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Hf(e,t,i,r,s)):(e=Ui(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Os,n(o,r)&&e.ref===t.ref)return Vt(e,t,s)}return t.flags|=1,e=gn(i,r),e.ref=t.ref,e.return=t,t.child=e}function Hf(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Os(i,r)&&e.ref===t.ref)if(We=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(We=!0);else return t.lanes=e.lanes,Vt(e,t,s)}return dl(e,t,n,r,s)}function Vf(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ee(gr,Ke),Ke|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ee(gr,Ke),Ke|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ee(gr,Ke),Ke|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,ee(gr,Ke),Ke|=r;return Le(e,t,s,n),t.child}function qf(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function dl(e,t,n,r,s){var i=Ve(n)?Fn:Ie.current;return i=jr(t,i),xr(t,s),n=Cu(e,t,n,r,i,s),r=ju(),e!==null&&!We?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Vt(e,t,s)):(ie&&r&&pu(t),t.flags|=1,Le(e,t,n,s),t.child)}function Xc(e,t,n,r,s){if(Ve(n)){var i=!0;ro(t)}else i=!1;if(xr(t,s),t.stateNode===null)Di(e,t),Ff(t,n,r),ul(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=ct(u):(u=Ve(n)?Fn:Ie.current,u=jr(t,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&qc(t,o,r,u),tn=!1;var d=t.memoizedState;o.state=d,lo(t,r,o,s),l=t.memoizedState,a!==r||d!==l||He.current||tn?(typeof c=="function"&&(ll(t,n,c,r),l=t.memoizedState),(a=tn||Vc(t,n,a,r,d,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,_f(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:pt(t.type,a),o.props=u,h=t.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=ct(l):(l=Ve(n)?Fn:Ie.current,l=jr(t,l));var g=n.getDerivedStateFromProps;(c=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==l)&&qc(t,o,r,l),tn=!1,d=t.memoizedState,o.state=d,lo(t,r,o,s);var w=t.memoizedState;a!==h||d!==w||He.current||tn?(typeof g=="function"&&(ll(t,n,g,r),w=t.memoizedState),(u=tn||Vc(t,n,u,r,d,w,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),o.props=r,o.state=w,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return hl(e,t,n,r,i,s)}function hl(e,t,n,r,s,i){qf(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&Dc(t,n,!1),Vt(e,t,i);r=t.stateNode,J0.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Pr(t,e.child,null,i),t.child=Pr(t,null,a,i)):Le(e,t,a,i),t.memoizedState=r.state,s&&Dc(t,n,!0),t.child}function Yf(e){var t=e.stateNode;t.pendingContext?Lc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Lc(e,t.context,!1),xu(e,t.containerInfo)}function Zc(e,t,n,r,s){return Tr(),gu(s),t.flags|=256,Le(e,t,n,r),t.child}var fl={dehydrated:null,treeContext:null,retryLane:0};function pl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Kf(e,t,n){var r=t.pendingProps,s=le.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ee(le,s&1),e===null)return ol(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Ao(o,r,0,null),e=Mn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=pl(n),t.memoizedState=fl,e):Nu(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Q0(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=gn(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=gn(a,i):(i=Mn(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?pl(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=fl,r}return i=e.child,e=i.sibling,r=gn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Nu(e,t){return t=Ao({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function mi(e,t,n,r){return r!==null&&gu(r),Pr(t,e.child,null,n),e=Nu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Q0(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=ha(Error(T(422))),mi(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Ao({mode:"visible",children:r.children},s,0,null),i=Mn(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Pr(t,e.child,null,o),t.child.memoizedState=pl(o),t.memoizedState=fl,i);if(!(t.mode&1))return mi(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(T(419)),r=ha(i,r,void 0),mi(e,t,o,r)}if(a=(o&e.childLanes)!==0,We||a){if(r=be,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ht(e,s),_t(r,e,s,-1))}return Lu(),r=ha(Error(T(421))),mi(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=cv.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Qe=hn(s.nextSibling),Xe=t,ie=!0,yt=null,e!==null&&(ot[at++]=Bt,ot[at++]=Mt,ot[at++]=zn,Bt=e.id,Mt=e.overflow,zn=t),t=Nu(t,r.children),t.flags|=4096,t)}function ed(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),al(e.return,t,n)}function fa(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Gf(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Le(e,t,r.children,n),r=le.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ed(e,n,t);else if(e.tag===19)ed(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ee(le,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&uo(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),fa(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&uo(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}fa(t,!0,n,null,i);break;case"together":fa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Di(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Hn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(T(153));if(t.child!==null){for(e=t.child,n=gn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=gn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function X0(e,t,n){switch(t.tag){case 3:Yf(t),Tr();break;case 5:Sf(t);break;case 1:Ve(t.type)&&ro(t);break;case 4:xu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;ee(oo,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ee(le,le.current&1),t.flags|=128,null):n&t.child.childLanes?Kf(e,t,n):(ee(le,le.current&1),e=Vt(e,t,n),e!==null?e.sibling:null);ee(le,le.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Gf(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ee(le,le.current),r)break;return null;case 22:case 23:return t.lanes=0,Vf(e,t,n)}return Vt(e,t,n)}var Jf,ml,Qf,Xf;Jf=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ml=function(){};Qf=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,An(Tt.current);var i=null;switch(n){case"input":s=Da(e,s),r=Da(e,r),i=[];break;case"select":s=de({},s,{value:void 0}),r=de({},r,{value:void 0}),i=[];break;case"textarea":s=Ua(e,s),r=Ua(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=to)}za(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(bs.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(bs.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ne("scroll",e),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Xf=function(e,t,n,r){n!==r&&(t.flags|=4)};function Zr(e,t){if(!ie)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Oe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Z0(e,t,n){var r=t.pendingProps;switch(mu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oe(t),null;case 1:return Ve(t.type)&&no(),Oe(t),null;case 3:return r=t.stateNode,Nr(),re(He),re(Ie),bu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(fi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,yt!==null&&(El(yt),yt=null))),ml(e,t),Oe(t),null;case 5:Eu(t);var s=An(Ls.current);if(n=t.type,e!==null&&t.stateNode!=null)Qf(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(T(166));return Oe(t),null}if(e=An(Tt.current),fi(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Ct]=t,r[$s]=i,e=(t.mode&1)!==0,n){case"dialog":ne("cancel",r),ne("close",r);break;case"iframe":case"object":case"embed":ne("load",r);break;case"video":case"audio":for(s=0;s<os.length;s++)ne(os[s],r);break;case"source":ne("error",r);break;case"img":case"image":case"link":ne("error",r),ne("load",r);break;case"details":ne("toggle",r);break;case"input":uc(r,i),ne("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ne("invalid",r);break;case"textarea":dc(r,i),ne("invalid",r)}za(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&hi(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&hi(r.textContent,a,e),s=["children",""+a]):bs.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ne("scroll",r)}switch(n){case"input":si(r),cc(r,i,!0);break;case"textarea":si(r),hc(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=to)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=kh(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Ct]=t,e[$s]=r,Jf(e,t,!1,!1),t.stateNode=e;e:{switch(o=Wa(n,r),n){case"dialog":ne("cancel",e),ne("close",e),s=r;break;case"iframe":case"object":case"embed":ne("load",e),s=r;break;case"video":case"audio":for(s=0;s<os.length;s++)ne(os[s],e);s=r;break;case"source":ne("error",e),s=r;break;case"img":case"image":case"link":ne("error",e),ne("load",e),s=r;break;case"details":ne("toggle",e),s=r;break;case"input":uc(e,r),s=Da(e,r),ne("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=de({},r,{value:void 0}),ne("invalid",e);break;case"textarea":dc(e,r),s=Ua(e,r),ne("invalid",e);break;default:s=r}za(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Th(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Ch(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ks(e,l):typeof l=="number"&&ks(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(bs.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ne("scroll",e):l!=null&&eu(e,i,l,o))}switch(n){case"input":si(e),cc(e,r,!1);break;case"textarea":si(e),hc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+wn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?yr(e,!!r.multiple,i,!1):r.defaultValue!=null&&yr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=to)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Oe(t),null;case 6:if(e&&t.stateNode!=null)Xf(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(T(166));if(n=An(Ls.current),An(Tt.current),fi(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ct]=t,(i=r.nodeValue!==n)&&(e=Xe,e!==null))switch(e.tag){case 3:hi(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&hi(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ct]=t,t.stateNode=r}return Oe(t),null;case 13:if(re(le),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ie&&Qe!==null&&t.mode&1&&!(t.flags&128))gf(),Tr(),t.flags|=98560,i=!1;else if(i=fi(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(T(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(T(317));i[Ct]=t}else Tr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Oe(t),i=!1}else yt!==null&&(El(yt),yt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||le.current&1?xe===0&&(xe=3):Lu())),t.updateQueue!==null&&(t.flags|=4),Oe(t),null);case 4:return Nr(),ml(e,t),e===null&&Rs(t.stateNode.containerInfo),Oe(t),null;case 10:return wu(t.type._context),Oe(t),null;case 17:return Ve(t.type)&&no(),Oe(t),null;case 19:if(re(le),i=t.memoizedState,i===null)return Oe(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)Zr(i,!1);else{if(xe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=uo(e),o!==null){for(t.flags|=128,Zr(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ee(le,le.current&1|2),t.child}e=e.sibling}i.tail!==null&&pe()>Rr&&(t.flags|=128,r=!0,Zr(i,!1),t.lanes=4194304)}else{if(!r)if(e=uo(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Zr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ie)return Oe(t),null}else 2*pe()-i.renderingStartTime>Rr&&n!==1073741824&&(t.flags|=128,r=!0,Zr(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=pe(),t.sibling=null,n=le.current,ee(le,r?n&1|2:n&1),t):(Oe(t),null);case 22:case 23:return Au(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ke&1073741824&&(Oe(t),t.subtreeFlags&6&&(t.flags|=8192)):Oe(t),null;case 24:return null;case 25:return null}throw Error(T(156,t.tag))}function ev(e,t){switch(mu(t),t.tag){case 1:return Ve(t.type)&&no(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Nr(),re(He),re(Ie),bu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Eu(t),null;case 13:if(re(le),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(T(340));Tr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return re(le),null;case 4:return Nr(),null;case 10:return wu(t.type._context),null;case 22:case 23:return Au(),null;case 24:return null;default:return null}}var gi=!1,Re=!1,tv=typeof WeakSet=="function"?WeakSet:Set,I=null;function mr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){he(e,t,r)}else n.current=null}function gl(e,t,n){try{n()}catch(r){he(e,t,r)}}var td=!1;function nv(e,t){if(Za=Xi,e=nf(),fu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=e,d=null;t:for(;;){for(var g;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)d=h,h=g;for(;;){if(h===e)break t;if(d===n&&++u===s&&(a=o),d===i&&++c===r&&(l=o),(g=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(el={focusedElem:e,selectionRange:n},Xi=!1,I=t;I!==null;)if(t=I,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,I=e;else for(;I!==null;){t=I;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var y=w.memoizedProps,S=w.memoizedState,f=t.stateNode,p=f.getSnapshotBeforeUpdate(t.elementType===t.type?y:pt(t.type,y),S);f.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(T(163))}}catch(_){he(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,I=e;break}I=t.return}return w=td,td=!1,w}function gs(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&gl(t,n,i)}s=s.next}while(s!==r)}}function Io(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function vl(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Zf(e){var t=e.alternate;t!==null&&(e.alternate=null,Zf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ct],delete t[$s],delete t[rl],delete t[B0],delete t[M0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ep(e){return e.tag===5||e.tag===3||e.tag===4}function nd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ep(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function yl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=to));else if(r!==4&&(e=e.child,e!==null))for(yl(e,t,n),e=e.sibling;e!==null;)yl(e,t,n),e=e.sibling}function wl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(wl(e,t,n),e=e.sibling;e!==null;)wl(e,t,n),e=e.sibling}var Ce=null,gt=!1;function Qt(e,t,n){for(n=n.child;n!==null;)tp(e,t,n),n=n.sibling}function tp(e,t,n){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(ko,n)}catch{}switch(n.tag){case 5:Re||mr(n,t);case 6:var r=Ce,s=gt;Ce=null,Qt(e,t,n),Ce=r,gt=s,Ce!==null&&(gt?(e=Ce,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ce.removeChild(n.stateNode));break;case 18:Ce!==null&&(gt?(e=Ce,n=n.stateNode,e.nodeType===8?oa(e.parentNode,n):e.nodeType===1&&oa(e,n),Ps(e)):oa(Ce,n.stateNode));break;case 4:r=Ce,s=gt,Ce=n.stateNode.containerInfo,gt=!0,Qt(e,t,n),Ce=r,gt=s;break;case 0:case 11:case 14:case 15:if(!Re&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&gl(n,t,o),s=s.next}while(s!==r)}Qt(e,t,n);break;case 1:if(!Re&&(mr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){he(n,t,a)}Qt(e,t,n);break;case 21:Qt(e,t,n);break;case 22:n.mode&1?(Re=(r=Re)||n.memoizedState!==null,Qt(e,t,n),Re=r):Qt(e,t,n);break;default:Qt(e,t,n)}}function rd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new tv),t.forEach(function(r){var s=dv.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function ht(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ce=a.stateNode,gt=!1;break e;case 3:Ce=a.stateNode.containerInfo,gt=!0;break e;case 4:Ce=a.stateNode.containerInfo,gt=!0;break e}a=a.return}if(Ce===null)throw Error(T(160));tp(i,o,s),Ce=null,gt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){he(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)np(t,e),t=t.sibling}function np(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ht(t,e),Et(e),r&4){try{gs(3,e,e.return),Io(3,e)}catch(y){he(e,e.return,y)}try{gs(5,e,e.return)}catch(y){he(e,e.return,y)}}break;case 1:ht(t,e),Et(e),r&512&&n!==null&&mr(n,n.return);break;case 5:if(ht(t,e),Et(e),r&512&&n!==null&&mr(n,n.return),e.flags&32){var s=e.stateNode;try{ks(s,"")}catch(y){he(e,e.return,y)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Eh(s,i),Wa(a,o);var u=Wa(a,i);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?Th(s,h):c==="dangerouslySetInnerHTML"?Ch(s,h):c==="children"?ks(s,h):eu(s,c,h,u)}switch(a){case"input":Ba(s,i);break;case"textarea":bh(s,i);break;case"select":var d=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?yr(s,!!i.multiple,g,!1):d!==!!i.multiple&&(i.defaultValue!=null?yr(s,!!i.multiple,i.defaultValue,!0):yr(s,!!i.multiple,i.multiple?[]:"",!1))}s[$s]=i}catch(y){he(e,e.return,y)}}break;case 6:if(ht(t,e),Et(e),r&4){if(e.stateNode===null)throw Error(T(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(y){he(e,e.return,y)}}break;case 3:if(ht(t,e),Et(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ps(t.containerInfo)}catch(y){he(e,e.return,y)}break;case 4:ht(t,e),Et(e);break;case 13:ht(t,e),Et(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Iu=pe())),r&4&&rd(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Re=(u=Re)||c,ht(t,e),Re=u):ht(t,e),Et(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(I=e,c=e.child;c!==null;){for(h=I=c;I!==null;){switch(d=I,g=d.child,d.tag){case 0:case 11:case 14:case 15:gs(4,d,d.return);break;case 1:mr(d,d.return);var w=d.stateNode;if(typeof w.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(y){he(r,n,y)}}break;case 5:mr(d,d.return);break;case 22:if(d.memoizedState!==null){id(h);continue}}g!==null?(g.return=d,I=g):id(h)}c=c.sibling}e:for(c=null,h=e;;){if(h.tag===5){if(c===null){c=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=jh("display",o))}catch(y){he(e,e.return,y)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){he(e,e.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ht(t,e),Et(e),r&4&&rd(e);break;case 21:break;default:ht(t,e),Et(e)}}function Et(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(ep(n)){var r=n;break e}n=n.return}throw Error(T(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ks(s,""),r.flags&=-33);var i=nd(e);wl(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=nd(e);yl(e,a,o);break;default:throw Error(T(161))}}catch(l){he(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function rv(e,t,n){I=e,rp(e)}function rp(e,t,n){for(var r=(e.mode&1)!==0;I!==null;){var s=I,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||gi;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Re;a=gi;var u=Re;if(gi=o,(Re=l)&&!u)for(I=s;I!==null;)o=I,l=o.child,o.tag===22&&o.memoizedState!==null?od(s):l!==null?(l.return=o,I=l):od(s);for(;i!==null;)I=i,rp(i),i=i.sibling;I=s,gi=a,Re=u}sd(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,I=i):sd(e)}}function sd(e){for(;I!==null;){var t=I;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Re||Io(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Re)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:pt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&zc(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}zc(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&Ps(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(T(163))}Re||t.flags&512&&vl(t)}catch(d){he(t,t.return,d)}}if(t===e){I=null;break}if(n=t.sibling,n!==null){n.return=t.return,I=n;break}I=t.return}}function id(e){for(;I!==null;){var t=I;if(t===e){I=null;break}var n=t.sibling;if(n!==null){n.return=t.return,I=n;break}I=t.return}}function od(e){for(;I!==null;){var t=I;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Io(4,t)}catch(l){he(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){he(t,s,l)}}var i=t.return;try{vl(t)}catch(l){he(t,i,l)}break;case 5:var o=t.return;try{vl(t)}catch(l){he(t,o,l)}}}catch(l){he(t,t.return,l)}if(t===e){I=null;break}var a=t.sibling;if(a!==null){a.return=t.return,I=a;break}I=t.return}}var sv=Math.ceil,fo=Kt.ReactCurrentDispatcher,Ou=Kt.ReactCurrentOwner,ut=Kt.ReactCurrentBatchConfig,G=0,be=null,ye=null,je=0,Ke=0,gr=xn(0),xe=0,Us=null,Hn=0,$o=0,Ru=0,vs=null,Fe=null,Iu=0,Rr=1/0,At=null,po=!1,_l=null,pn=null,vi=!1,an=null,mo=0,ys=0,Sl=null,Bi=-1,Mi=0;function De(){return G&6?pe():Bi!==-1?Bi:Bi=pe()}function mn(e){return e.mode&1?G&2&&je!==0?je&-je:F0.transition!==null?(Mi===0&&(Mi=Uh()),Mi):(e=J,e!==0||(e=window.event,e=e===void 0?16:Yh(e.type)),e):1}function _t(e,t,n,r){if(50<ys)throw ys=0,Sl=null,Error(T(185));Ys(e,n,r),(!(G&2)||e!==be)&&(e===be&&(!(G&2)&&($o|=n),xe===4&&rn(e,je)),qe(e,r),n===1&&G===0&&!(t.mode&1)&&(Rr=pe()+500,No&&En()))}function qe(e,t){var n=e.callbackNode;Fg(e,t);var r=Qi(e,e===be?je:0);if(r===0)n!==null&&mc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&mc(n),t===1)e.tag===0?U0(ad.bind(null,e)):ff(ad.bind(null,e)),L0(function(){!(G&6)&&En()}),n=null;else{switch(Fh(r)){case 1:n=iu;break;case 4:n=Bh;break;case 16:n=Ji;break;case 536870912:n=Mh;break;default:n=Ji}n=dp(n,sp.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sp(e,t){if(Bi=-1,Mi=0,G&6)throw Error(T(327));var n=e.callbackNode;if(Er()&&e.callbackNode!==n)return null;var r=Qi(e,e===be?je:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=go(e,r);else{t=r;var s=G;G|=2;var i=op();(be!==e||je!==t)&&(At=null,Rr=pe()+500,Bn(e,t));do try{av();break}catch(a){ip(e,a)}while(!0);yu(),fo.current=i,G=s,ye!==null?t=0:(be=null,je=0,t=xe)}if(t!==0){if(t===2&&(s=Ka(e),s!==0&&(r=s,t=xl(e,s))),t===1)throw n=Us,Bn(e,0),rn(e,r),qe(e,pe()),n;if(t===6)rn(e,r);else{if(s=e.current.alternate,!(r&30)&&!iv(s)&&(t=go(e,r),t===2&&(i=Ka(e),i!==0&&(r=i,t=xl(e,i))),t===1))throw n=Us,Bn(e,0),rn(e,r),qe(e,pe()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(T(345));case 2:Pn(e,Fe,At);break;case 3:if(rn(e,r),(r&130023424)===r&&(t=Iu+500-pe(),10<t)){if(Qi(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){De(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=nl(Pn.bind(null,e,Fe,At),t);break}Pn(e,Fe,At);break;case 4:if(rn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-wt(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=pe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*sv(r/1960))-r,10<r){e.timeoutHandle=nl(Pn.bind(null,e,Fe,At),r);break}Pn(e,Fe,At);break;case 5:Pn(e,Fe,At);break;default:throw Error(T(329))}}}return qe(e,pe()),e.callbackNode===n?sp.bind(null,e):null}function xl(e,t){var n=vs;return e.current.memoizedState.isDehydrated&&(Bn(e,t).flags|=256),e=go(e,t),e!==2&&(t=Fe,Fe=n,t!==null&&El(t)),e}function El(e){Fe===null?Fe=e:Fe.push.apply(Fe,e)}function iv(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!xt(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function rn(e,t){for(t&=~Ru,t&=~$o,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-wt(t),r=1<<n;e[n]=-1,t&=~r}}function ad(e){if(G&6)throw Error(T(327));Er();var t=Qi(e,0);if(!(t&1))return qe(e,pe()),null;var n=go(e,t);if(e.tag!==0&&n===2){var r=Ka(e);r!==0&&(t=r,n=xl(e,r))}if(n===1)throw n=Us,Bn(e,0),rn(e,t),qe(e,pe()),n;if(n===6)throw Error(T(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Pn(e,Fe,At),qe(e,pe()),null}function $u(e,t){var n=G;G|=1;try{return e(t)}finally{G=n,G===0&&(Rr=pe()+500,No&&En())}}function Vn(e){an!==null&&an.tag===0&&!(G&6)&&Er();var t=G;G|=1;var n=ut.transition,r=J;try{if(ut.transition=null,J=1,e)return e()}finally{J=r,ut.transition=n,G=t,!(G&6)&&En()}}function Au(){Ke=gr.current,re(gr)}function Bn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,A0(n)),ye!==null)for(n=ye.return;n!==null;){var r=n;switch(mu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&no();break;case 3:Nr(),re(He),re(Ie),bu();break;case 5:Eu(r);break;case 4:Nr();break;case 13:re(le);break;case 19:re(le);break;case 10:wu(r.type._context);break;case 22:case 23:Au()}n=n.return}if(be=e,ye=e=gn(e.current,null),je=Ke=t,xe=0,Us=null,Ru=$o=Hn=0,Fe=vs=null,$n!==null){for(t=0;t<$n.length;t++)if(n=$n[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}$n=null}return e}function ip(e,t){do{var n=ye;try{if(yu(),Ai.current=ho,co){for(var r=ue.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}co=!1}if(Wn=0,Ee=Se=ue=null,ms=!1,Ds=0,Ou.current=null,n===null||n.return===null){xe=1,Us=t,ye=null;break}e:{var i=e,o=n.return,a=n,l=t;if(t=je,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=Kc(o);if(g!==null){g.flags&=-257,Gc(g,o,a,i,t),g.mode&1&&Yc(i,u,t),t=g,l=u;var w=t.updateQueue;if(w===null){var y=new Set;y.add(l),t.updateQueue=y}else w.add(l);break e}else{if(!(t&1)){Yc(i,u,t),Lu();break e}l=Error(T(426))}}else if(ie&&a.mode&1){var S=Kc(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Gc(S,o,a,i,t),gu(Or(l,a));break e}}i=l=Or(l,a),xe!==4&&(xe=2),vs===null?vs=[i]:vs.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var f=zf(i,l,t);Fc(i,f);break e;case 1:a=l;var p=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(pn===null||!pn.has(m)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=Wf(i,a,t);Fc(i,_);break e}}i=i.return}while(i!==null)}lp(n)}catch(b){t=b,ye===n&&n!==null&&(ye=n=n.return);continue}break}while(!0)}function op(){var e=fo.current;return fo.current=ho,e===null?ho:e}function Lu(){(xe===0||xe===3||xe===2)&&(xe=4),be===null||!(Hn&268435455)&&!($o&268435455)||rn(be,je)}function go(e,t){var n=G;G|=2;var r=op();(be!==e||je!==t)&&(At=null,Bn(e,t));do try{ov();break}catch(s){ip(e,s)}while(!0);if(yu(),G=n,fo.current=r,ye!==null)throw Error(T(261));return be=null,je=0,xe}function ov(){for(;ye!==null;)ap(ye)}function av(){for(;ye!==null&&!Rg();)ap(ye)}function ap(e){var t=cp(e.alternate,e,Ke);e.memoizedProps=e.pendingProps,t===null?lp(e):ye=t,Ou.current=null}function lp(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=ev(n,t),n!==null){n.flags&=32767,ye=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{xe=6,ye=null;return}}else if(n=Z0(n,t,Ke),n!==null){ye=n;return}if(t=t.sibling,t!==null){ye=t;return}ye=t=e}while(t!==null);xe===0&&(xe=5)}function Pn(e,t,n){var r=J,s=ut.transition;try{ut.transition=null,J=1,lv(e,t,n,r)}finally{ut.transition=s,J=r}return null}function lv(e,t,n,r){do Er();while(an!==null);if(G&6)throw Error(T(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(T(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(zg(e,i),e===be&&(ye=be=null,je=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||vi||(vi=!0,dp(Ji,function(){return Er(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=ut.transition,ut.transition=null;var o=J;J=1;var a=G;G|=4,Ou.current=null,nv(e,n),np(n,e),T0(el),Xi=!!Za,el=Za=null,e.current=n,rv(n),Ig(),G=a,J=o,ut.transition=i}else e.current=n;if(vi&&(vi=!1,an=e,mo=s),i=e.pendingLanes,i===0&&(pn=null),Lg(n.stateNode),qe(e,pe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(po)throw po=!1,e=_l,_l=null,e;return mo&1&&e.tag!==0&&Er(),i=e.pendingLanes,i&1?e===Sl?ys++:(ys=0,Sl=e):ys=0,En(),null}function Er(){if(an!==null){var e=Fh(mo),t=ut.transition,n=J;try{if(ut.transition=null,J=16>e?16:e,an===null)var r=!1;else{if(e=an,an=null,mo=0,G&6)throw Error(T(331));var s=G;for(G|=4,I=e.current;I!==null;){var i=I,o=i.child;if(I.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(I=u;I!==null;){var c=I;switch(c.tag){case 0:case 11:case 15:gs(8,c,i)}var h=c.child;if(h!==null)h.return=c,I=h;else for(;I!==null;){c=I;var d=c.sibling,g=c.return;if(Zf(c),c===u){I=null;break}if(d!==null){d.return=g,I=d;break}I=g}}}var w=i.alternate;if(w!==null){var y=w.child;if(y!==null){w.child=null;do{var S=y.sibling;y.sibling=null,y=S}while(y!==null)}}I=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,I=o;else e:for(;I!==null;){if(i=I,i.flags&2048)switch(i.tag){case 0:case 11:case 15:gs(9,i,i.return)}var f=i.sibling;if(f!==null){f.return=i.return,I=f;break e}I=i.return}}var p=e.current;for(I=p;I!==null;){o=I;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,I=m;else e:for(o=p;I!==null;){if(a=I,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Io(9,a)}}catch(b){he(a,a.return,b)}if(a===o){I=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,I=_;break e}I=a.return}}if(G=s,En(),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(ko,e)}catch{}r=!0}return r}finally{J=n,ut.transition=t}}return!1}function ld(e,t,n){t=Or(n,t),t=zf(e,t,1),e=fn(e,t,1),t=De(),e!==null&&(Ys(e,1,t),qe(e,t))}function he(e,t,n){if(e.tag===3)ld(e,e,n);else for(;t!==null;){if(t.tag===3){ld(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(pn===null||!pn.has(r))){e=Or(n,e),e=Wf(t,e,1),t=fn(t,e,1),e=De(),t!==null&&(Ys(t,1,e),qe(t,e));break}}t=t.return}}function uv(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=De(),e.pingedLanes|=e.suspendedLanes&n,be===e&&(je&n)===n&&(xe===4||xe===3&&(je&130023424)===je&&500>pe()-Iu?Bn(e,0):Ru|=n),qe(e,t)}function up(e,t){t===0&&(e.mode&1?(t=ai,ai<<=1,!(ai&130023424)&&(ai=4194304)):t=1);var n=De();e=Ht(e,t),e!==null&&(Ys(e,t,n),qe(e,n))}function cv(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),up(e,n)}function dv(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(T(314))}r!==null&&r.delete(t),up(e,n)}var cp;cp=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||He.current)We=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return We=!1,X0(e,t,n);We=!!(e.flags&131072)}else We=!1,ie&&t.flags&1048576&&pf(t,io,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Di(e,t),e=t.pendingProps;var s=jr(t,Ie.current);xr(t,n),s=Cu(null,t,r,e,s,n);var i=ju();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ve(r)?(i=!0,ro(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Su(t),s.updater=Ro,t.stateNode=s,s._reactInternals=t,ul(t,r,e,n),t=hl(null,t,r,!0,i,n)):(t.tag=0,ie&&i&&pu(t),Le(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Di(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=fv(r),e=pt(r,e),s){case 0:t=dl(null,t,r,e,n);break e;case 1:t=Xc(null,t,r,e,n);break e;case 11:t=Jc(null,t,r,e,n);break e;case 14:t=Qc(null,t,r,pt(r.type,e),n);break e}throw Error(T(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:pt(r,s),dl(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:pt(r,s),Xc(e,t,r,s,n);case 3:e:{if(Yf(t),e===null)throw Error(T(387));r=t.pendingProps,i=t.memoizedState,s=i.element,_f(e,t),lo(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Or(Error(T(423)),t),t=Zc(e,t,r,n,s);break e}else if(r!==s){s=Or(Error(T(424)),t),t=Zc(e,t,r,n,s);break e}else for(Qe=hn(t.stateNode.containerInfo.firstChild),Xe=t,ie=!0,yt=null,n=yf(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Tr(),r===s){t=Vt(e,t,n);break e}Le(e,t,r,n)}t=t.child}return t;case 5:return Sf(t),e===null&&ol(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,tl(r,s)?o=null:i!==null&&tl(r,i)&&(t.flags|=32),qf(e,t),Le(e,t,o,n),t.child;case 6:return e===null&&ol(t),null;case 13:return Kf(e,t,n);case 4:return xu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Pr(t,null,r,n):Le(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:pt(r,s),Jc(e,t,r,s,n);case 7:return Le(e,t,t.pendingProps,n),t.child;case 8:return Le(e,t,t.pendingProps.children,n),t.child;case 12:return Le(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,ee(oo,r._currentValue),r._currentValue=o,i!==null)if(xt(i.value,o)){if(i.children===s.children&&!He.current){t=Vt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Ut(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),al(i.return,n,t),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(T(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),al(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Le(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,xr(t,n),s=ct(s),r=r(s),t.flags|=1,Le(e,t,r,n),t.child;case 14:return r=t.type,s=pt(r,t.pendingProps),s=pt(r.type,s),Qc(e,t,r,s,n);case 15:return Hf(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:pt(r,s),Di(e,t),t.tag=1,Ve(r)?(e=!0,ro(t)):e=!1,xr(t,n),Ff(t,r,s),ul(t,r,s,n),hl(null,t,r,!0,e,n);case 19:return Gf(e,t,n);case 22:return Vf(e,t,n)}throw Error(T(156,t.tag))};function dp(e,t){return Dh(e,t)}function hv(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lt(e,t,n,r){return new hv(e,t,n,r)}function Du(e){return e=e.prototype,!(!e||!e.isReactComponent)}function fv(e){if(typeof e=="function")return Du(e)?1:0;if(e!=null){if(e=e.$$typeof,e===nu)return 11;if(e===ru)return 14}return 2}function gn(e,t){var n=e.alternate;return n===null?(n=lt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ui(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")Du(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case or:return Mn(n.children,s,i,t);case tu:o=8,s|=8;break;case Ia:return e=lt(12,n,t,s|2),e.elementType=Ia,e.lanes=i,e;case $a:return e=lt(13,n,t,s),e.elementType=$a,e.lanes=i,e;case Aa:return e=lt(19,n,t,s),e.elementType=Aa,e.lanes=i,e;case _h:return Ao(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case yh:o=10;break e;case wh:o=9;break e;case nu:o=11;break e;case ru:o=14;break e;case en:o=16,r=null;break e}throw Error(T(130,e==null?e:typeof e,""))}return t=lt(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Mn(e,t,n,r){return e=lt(7,e,r,t),e.lanes=n,e}function Ao(e,t,n,r){return e=lt(22,e,r,t),e.elementType=_h,e.lanes=n,e.stateNode={isHidden:!1},e}function pa(e,t,n){return e=lt(6,e,null,t),e.lanes=n,e}function ma(e,t,n){return t=lt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function pv(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Go(0),this.expirationTimes=Go(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Go(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Bu(e,t,n,r,s,i,o,a,l){return e=new pv(e,t,n,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=lt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Su(i),e}function mv(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ir,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function hp(e){if(!e)return _n;e=e._reactInternals;e:{if(Yn(e)!==e||e.tag!==1)throw Error(T(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ve(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(T(171))}if(e.tag===1){var n=e.type;if(Ve(n))return hf(e,n,t)}return t}function fp(e,t,n,r,s,i,o,a,l){return e=Bu(n,r,!0,e,s,i,o,a,l),e.context=hp(null),n=e.current,r=De(),s=mn(n),i=Ut(r,s),i.callback=t??null,fn(n,i,s),e.current.lanes=s,Ys(e,s,r),qe(e,r),e}function Lo(e,t,n,r){var s=t.current,i=De(),o=mn(s);return n=hp(n),t.context===null?t.context=n:t.pendingContext=n,t=Ut(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=fn(s,t,o),e!==null&&(_t(e,s,o,i),$i(e,s,o)),o}function vo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ud(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Mu(e,t){ud(e,t),(e=e.alternate)&&ud(e,t)}function gv(){return null}var pp=typeof reportError=="function"?reportError:function(e){console.error(e)};function Uu(e){this._internalRoot=e}Do.prototype.render=Uu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(T(409));Lo(e,t,null,null)};Do.prototype.unmount=Uu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Vn(function(){Lo(null,e,null,null)}),t[Wt]=null}};function Do(e){this._internalRoot=e}Do.prototype.unstable_scheduleHydration=function(e){if(e){var t=Hh();e={blockedOn:null,target:e,priority:t};for(var n=0;n<nn.length&&t!==0&&t<nn[n].priority;n++);nn.splice(n,0,e),n===0&&qh(e)}};function Fu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Bo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function cd(){}function vv(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=vo(o);i.call(u)}}var o=fp(t,r,e,0,null,!1,!1,"",cd);return e._reactRootContainer=o,e[Wt]=o.current,Rs(e.nodeType===8?e.parentNode:e),Vn(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=vo(l);a.call(u)}}var l=Bu(e,0,!1,null,null,!1,!1,"",cd);return e._reactRootContainer=l,e[Wt]=l.current,Rs(e.nodeType===8?e.parentNode:e),Vn(function(){Lo(t,l,n,r)}),l}function Mo(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=vo(o);a.call(l)}}Lo(t,o,e,s)}else o=vv(n,t,e,s,r);return vo(o)}zh=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=is(t.pendingLanes);n!==0&&(ou(t,n|1),qe(t,pe()),!(G&6)&&(Rr=pe()+500,En()))}break;case 13:Vn(function(){var r=Ht(e,1);if(r!==null){var s=De();_t(r,e,1,s)}}),Mu(e,1)}};au=function(e){if(e.tag===13){var t=Ht(e,134217728);if(t!==null){var n=De();_t(t,e,134217728,n)}Mu(e,134217728)}};Wh=function(e){if(e.tag===13){var t=mn(e),n=Ht(e,t);if(n!==null){var r=De();_t(n,e,t,r)}Mu(e,t)}};Hh=function(){return J};Vh=function(e,t){var n=J;try{return J=e,t()}finally{J=n}};Va=function(e,t,n){switch(t){case"input":if(Ba(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Po(r);if(!s)throw Error(T(90));xh(r),Ba(r,s)}}}break;case"textarea":bh(e,n);break;case"select":t=n.value,t!=null&&yr(e,!!n.multiple,t,!1)}};Oh=$u;Rh=Vn;var yv={usingClientEntryPoint:!1,Events:[Gs,cr,Po,Ph,Nh,$u]},es={findFiberByHostInstance:In,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wv={bundleType:es.bundleType,version:es.version,rendererPackageName:es.rendererPackageName,rendererConfig:es.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Kt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ah(e),e===null?null:e.stateNode},findFiberByHostInstance:es.findFiberByHostInstance||gv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yi.isDisabled&&yi.supportsFiber)try{ko=yi.inject(wv),jt=yi}catch{}}et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yv;et.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fu(t))throw Error(T(200));return mv(e,t,null,n)};et.createRoot=function(e,t){if(!Fu(e))throw Error(T(299));var n=!1,r="",s=pp;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Bu(e,1,!1,null,null,n,!1,r,s),e[Wt]=t.current,Rs(e.nodeType===8?e.parentNode:e),new Uu(t)};et.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(T(188)):(e=Object.keys(e).join(","),Error(T(268,e)));return e=Ah(t),e=e===null?null:e.stateNode,e};et.flushSync=function(e){return Vn(e)};et.hydrate=function(e,t,n){if(!Bo(t))throw Error(T(200));return Mo(null,e,t,!0,n)};et.hydrateRoot=function(e,t,n){if(!Fu(e))throw Error(T(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=pp;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=fp(t,null,e,1,n??null,s,!1,i,o),e[Wt]=t.current,Rs(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Do(t)};et.render=function(e,t,n){if(!Bo(t))throw Error(T(200));return Mo(null,e,t,!1,n)};et.unmountComponentAtNode=function(e){if(!Bo(e))throw Error(T(40));return e._reactRootContainer?(Vn(function(){Mo(null,null,e,!1,function(){e._reactRootContainer=null,e[Wt]=null})}),!0):!1};et.unstable_batchedUpdates=$u;et.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Bo(n))throw Error(T(200));if(e==null||e._reactInternals===void 0)throw Error(T(38));return Mo(e,t,n,!1,r)};et.version="18.3.1-next-f1338f8080-20240426";function mp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(mp)}catch(e){console.error(e)}}mp(),ph.exports=et;var _v=ph.exports,dd=_v;Oa.createRoot=dd.createRoot,Oa.hydrateRoot=dd.hydrateRoot;/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var hd="popstate";function Sv(e={}){function t(r,s){let{pathname:i,search:o,hash:a}=r.location;return bl("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Fs(s)}return Ev(t,n,null,e)}function ce(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Nt(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function xv(){return Math.random().toString(36).substring(2,10)}function fd(e,t){return{usr:e.state,key:e.key,idx:t}}function bl(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Mr(t):t,state:n,key:t&&t.key||r||xv()}}function Fs({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Mr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function Ev(e,t,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a="POP",l=null,u=c();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function c(){return(o.state||{idx:null}).idx}function h(){a="POP";let S=c(),f=S==null?null:S-u;u=S,l&&l({action:a,location:y.location,delta:f})}function d(S,f){a="PUSH";let p=bl(y.location,S,f);u=c()+1;let m=fd(p,u),_=y.createHref(p);try{o.pushState(m,"",_)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;s.location.assign(_)}i&&l&&l({action:a,location:y.location,delta:1})}function g(S,f){a="REPLACE";let p=bl(y.location,S,f);u=c();let m=fd(p,u),_=y.createHref(p);o.replaceState(m,"",_),i&&l&&l({action:a,location:y.location,delta:0})}function w(S){return bv(S)}let y={get action(){return a},get location(){return e(s,o)},listen(S){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(hd,h),l=S,()=>{s.removeEventListener(hd,h),l=null}},createHref(S){return t(s,S)},createURL:w,encodeLocation(S){let f=w(S);return{pathname:f.pathname,search:f.search,hash:f.hash}},push:d,replace:g,go(S){return o.go(S)}};return y}function bv(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ce(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Fs(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function gp(e,t,n="/"){return kv(e,t,n,!1)}function kv(e,t,n,r){let s=typeof t=="string"?Mr(t):t,i=qt(s.pathname||"/",n);if(i==null)return null;let o=vp(e);Cv(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=Dv(i);a=Av(o[l],u,r)}return a}function vp(e,t=[],n=[],r="",s=!1){let i=(o,a,l=s,u)=>{let c={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};if(c.relativePath.startsWith("/")){if(!c.relativePath.startsWith(r)&&l)return;ce(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length)}let h=Ft([r,c.relativePath]),d=n.concat(c);o.children&&o.children.length>0&&(ce(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),vp(o.children,t,d,h,l)),!(o.path==null&&!o.index)&&t.push({path:h,score:Iv(h,o.index),routesMeta:d})};return e.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,a);else for(let u of yp(o.path))i(o,a,!0,u)}),t}function yp(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=yp(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function Cv(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:$v(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var jv=/^:[\w-]+$/,Tv=3,Pv=2,Nv=1,Ov=10,Rv=-2,pd=e=>e==="*";function Iv(e,t){let n=e.split("/"),r=n.length;return n.some(pd)&&(r+=Rv),t&&(r+=Pv),n.filter(s=>!pd(s)).reduce((s,i)=>s+(jv.test(i)?Tv:i===""?Nv:Ov),r)}function $v(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function Av(e,t,n=!1){let{routesMeta:r}=e,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,c=i==="/"?t:t.slice(i.length)||"/",h=yo({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),d=l.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=yo({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Ft([i,h.pathname]),pathnameBase:Fv(Ft([i,h.pathnameBase])),route:d}),h.pathnameBase!=="/"&&(i=Ft([i,h.pathnameBase]))}return o}function yo(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Lv(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,{paramName:c,isOptional:h},d)=>{if(c==="*"){let w=a[d]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const g=a[d];return h&&!g?u[c]=void 0:u[c]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function Lv(e,t=!1,n=!0){Nt(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function Dv(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Nt(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function qt(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Bv(e,t="/"){let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Mr(e):e;return{pathname:n?n.startsWith("/")?n:Mv(n,t):t,search:zv(r),hash:Wv(s)}}function Mv(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function ga(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Uv(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function wp(e){let t=Uv(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function _p(e,t,n,r=!1){let s;typeof e=="string"?s=Mr(e):(s={...e},ce(!s.pathname||!s.pathname.includes("?"),ga("?","pathname","search",s)),ce(!s.pathname||!s.pathname.includes("#"),ga("#","pathname","hash",s)),ce(!s.search||!s.search.includes("#"),ga("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let h=t.length-1;if(!r&&o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),h-=1;s.pathname=d.join("/")}a=h>=0?t[h]:"/"}let l=Bv(s,a),u=o&&o!=="/"&&o.endsWith("/"),c=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}var Ft=e=>e.join("/").replace(/\/\/+/g,"/"),Fv=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),zv=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Wv=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Hv(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var Sp=["POST","PUT","PATCH","DELETE"];new Set(Sp);var Vv=["GET",...Sp];new Set(Vv);var Ur=x.createContext(null);Ur.displayName="DataRouter";var Uo=x.createContext(null);Uo.displayName="DataRouterState";x.createContext(!1);var xp=x.createContext({isTransitioning:!1});xp.displayName="ViewTransition";var qv=x.createContext(new Map);qv.displayName="Fetchers";var Yv=x.createContext(null);Yv.displayName="Await";var Rt=x.createContext(null);Rt.displayName="Navigation";var Qs=x.createContext(null);Qs.displayName="Location";var Gt=x.createContext({outlet:null,matches:[],isDataRoute:!1});Gt.displayName="Route";var zu=x.createContext(null);zu.displayName="RouteError";function Kv(e,{relative:t}={}){ce(Xs(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=x.useContext(Rt),{hash:s,pathname:i,search:o}=Zs(e,{relative:t}),a=i;return n!=="/"&&(a=i==="/"?n:Ft([n,i])),r.createHref({pathname:a,search:o,hash:s})}function Xs(){return x.useContext(Qs)!=null}function bn(){return ce(Xs(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(Qs).location}var Ep="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function bp(e){x.useContext(Rt).static||x.useLayoutEffect(e)}function Gv(){let{isDataRoute:e}=x.useContext(Gt);return e?ly():Jv()}function Jv(){ce(Xs(),"useNavigate() may be used only in the context of a <Router> component.");let e=x.useContext(Ur),{basename:t,navigator:n}=x.useContext(Rt),{matches:r}=x.useContext(Gt),{pathname:s}=bn(),i=JSON.stringify(wp(r)),o=x.useRef(!1);return bp(()=>{o.current=!0}),x.useCallback((l,u={})=>{if(Nt(o.current,Ep),!o.current)return;if(typeof l=="number"){n.go(l);return}let c=_p(l,JSON.parse(i),s,u.relative==="path");e==null&&t!=="/"&&(c.pathname=c.pathname==="/"?t:Ft([t,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[t,n,i,s,e])}x.createContext(null);function Zs(e,{relative:t}={}){let{matches:n}=x.useContext(Gt),{pathname:r}=bn(),s=JSON.stringify(wp(n));return x.useMemo(()=>_p(e,JSON.parse(s),r,t==="path"),[e,s,r,t])}function Qv(e,t){return kp(e,t)}function kp(e,t,n,r,s){var p;ce(Xs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=x.useContext(Rt),{matches:o}=x.useContext(Gt),a=o[o.length-1],l=a?a.params:{},u=a?a.pathname:"/",c=a?a.pathnameBase:"/",h=a&&a.route;{let m=h&&h.path||"";Cp(u,!h||m.endsWith("*")||m.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${m}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${m}"> to <Route path="${m==="/"?"*":`${m}/*`}">.`)}let d=bn(),g;if(t){let m=typeof t=="string"?Mr(t):t;ce(c==="/"||((p=m.pathname)==null?void 0:p.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${m.pathname}" was given in the \`location\` prop.`),g=m}else g=d;let w=g.pathname||"/",y=w;if(c!=="/"){let m=c.replace(/^\//,"").split("/");y="/"+w.replace(/^\//,"").split("/").slice(m.length).join("/")}let S=gp(e,{pathname:y});Nt(h||S!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),Nt(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let f=ny(S&&S.map(m=>Object.assign({},m,{params:Object.assign({},l,m.params),pathname:Ft([c,i.encodeLocation?i.encodeLocation(m.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?c:Ft([c,i.encodeLocation?i.encodeLocation(m.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:m.pathnameBase])})),o,n,r,s);return t&&f?x.createElement(Qs.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},f):f}function Xv(){let e=ay(),t=Hv(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=x.createElement(x.Fragment,null,x.createElement("p",null,"💿 Hey developer 👋"),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:i},"ErrorBoundary")," or"," ",x.createElement("code",{style:i},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),n?x.createElement("pre",{style:s},n):null,o)}var Zv=x.createElement(Xv,null),ey=class extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?x.createElement(Gt.Provider,{value:this.props.routeContext},x.createElement(zu.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ty({routeContext:e,match:t,children:n}){let r=x.useContext(Ur);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),x.createElement(Gt.Provider,{value:e},n)}function ny(e,t=[],n=null,r=null,s=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,o=n==null?void 0:n.errors;if(o!=null){let u=i.findIndex(c=>c.route.id&&(o==null?void 0:o[c.route.id])!==void 0);ce(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let a=!1,l=-1;if(n)for(let u=0;u<i.length;u++){let c=i[u];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(l=u),c.route.id){let{loaderData:h,errors:d}=n,g=c.route.loader&&!h.hasOwnProperty(c.route.id)&&(!d||d[c.route.id]===void 0);if(c.route.lazy||g){a=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}return i.reduceRight((u,c,h)=>{let d,g=!1,w=null,y=null;n&&(d=o&&c.route.id?o[c.route.id]:void 0,w=c.route.errorElement||Zv,a&&(l<0&&h===0?(Cp("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,y=null):l===h&&(g=!0,y=c.route.hydrateFallbackElement||null)));let S=t.concat(i.slice(0,h+1)),f=()=>{let p;return d?p=w:g?p=y:c.route.Component?p=x.createElement(c.route.Component,null):c.route.element?p=c.route.element:p=u,x.createElement(ty,{match:c,routeContext:{outlet:u,matches:S,isDataRoute:n!=null},children:p})};return n&&(c.route.ErrorBoundary||c.route.errorElement||h===0)?x.createElement(ey,{location:n.location,revalidation:n.revalidation,component:w,error:d,children:f(),routeContext:{outlet:null,matches:S,isDataRoute:!0},unstable_onError:r}):f()},null)}function Wu(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ry(e){let t=x.useContext(Ur);return ce(t,Wu(e)),t}function sy(e){let t=x.useContext(Uo);return ce(t,Wu(e)),t}function iy(e){let t=x.useContext(Gt);return ce(t,Wu(e)),t}function Hu(e){let t=iy(e),n=t.matches[t.matches.length-1];return ce(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function oy(){return Hu("useRouteId")}function ay(){var r;let e=x.useContext(zu),t=sy("useRouteError"),n=Hu("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function ly(){let{router:e}=ry("useNavigate"),t=Hu("useNavigate"),n=x.useRef(!1);return bp(()=>{n.current=!0}),x.useCallback(async(s,i={})=>{Nt(n.current,Ep),n.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...i}))},[e,t])}var md={};function Cp(e,t,n){!t&&!md[e]&&(md[e]=!0,Nt(!1,n))}x.memo(uy);function uy({routes:e,future:t,state:n,unstable_onError:r}){return kp(e,void 0,n,r,t)}function kl(e){ce(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function cy({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:s,static:i=!1}){ce(!Xs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),a=x.useMemo(()=>({basename:o,navigator:s,static:i,future:{}}),[o,s,i]);typeof n=="string"&&(n=Mr(n));let{pathname:l="/",search:u="",hash:c="",state:h=null,key:d="default"}=n,g=x.useMemo(()=>{let w=qt(l,o);return w==null?null:{location:{pathname:w,search:u,hash:c,state:h,key:d},navigationType:r}},[o,l,u,c,h,d,r]);return Nt(g!=null,`<Router basename="${o}"> is not able to match the URL "${l}${u}${c}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:x.createElement(Rt.Provider,{value:a},x.createElement(Qs.Provider,{children:t,value:g}))}function dy({children:e,location:t}){return Qv(Cl(e),t)}function Cl(e,t=[]){let n=[];return x.Children.forEach(e,(r,s)=>{if(!x.isValidElement(r))return;let i=[...t,s];if(r.type===x.Fragment){n.push.apply(n,Cl(r.props.children,i));return}ce(r.type===kl,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ce(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Cl(r.props.children,i)),n.push(o)}),n}var Fi="get",zi="application/x-www-form-urlencoded";function Fo(e){return e!=null&&typeof e.tagName=="string"}function hy(e){return Fo(e)&&e.tagName.toLowerCase()==="button"}function fy(e){return Fo(e)&&e.tagName.toLowerCase()==="form"}function py(e){return Fo(e)&&e.tagName.toLowerCase()==="input"}function my(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function gy(e,t){return e.button===0&&(!t||t==="_self")&&!my(e)}var wi=null;function vy(){if(wi===null)try{new FormData(document.createElement("form"),0),wi=!1}catch{wi=!0}return wi}var yy=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function va(e){return e!=null&&!yy.has(e)?(Nt(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${zi}"`),null):e}function wy(e,t){let n,r,s,i,o;if(fy(e)){let a=e.getAttribute("action");r=a?qt(a,t):null,n=e.getAttribute("method")||Fi,s=va(e.getAttribute("enctype"))||zi,i=new FormData(e)}else if(hy(e)||py(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||a.getAttribute("action");if(r=l?qt(l,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||Fi,s=va(e.getAttribute("formenctype"))||va(a.getAttribute("enctype"))||zi,i=new FormData(a,e),!vy()){let{name:u,type:c,value:h}=e;if(c==="image"){let d=u?`${u}.`:"";i.append(`${d}x`,"0"),i.append(`${d}y`,"0")}else u&&i.append(u,h)}}else{if(Fo(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Fi,r=null,s=zi,o=e}return i&&s==="text/plain"&&(o=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Vu(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function _y(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&qt(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function Sy(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function xy(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Ey(e,t,n){let r=await Promise.all(e.map(async s=>{let i=t.routes[s.route.id];if(i){let o=await Sy(i,n);return o.links?o.links():[]}return[]}));return jy(r.flat(1).filter(xy).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function gd(e,t,n,r,s,i){let o=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,a=(l,u)=>{var c;return n[u].pathname!==l.pathname||((c=n[u].route.path)==null?void 0:c.endsWith("*"))&&n[u].params["*"]!==l.params["*"]};return i==="assets"?t.filter((l,u)=>o(l,u)||a(l,u)):i==="data"?t.filter((l,u)=>{var h;let c=r.routes[l.route.id];if(!c||!c.hasLoader)return!1;if(o(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let d=l.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((h=n[0])==null?void 0:h.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof d=="boolean")return d}return!0}):[]}function by(e,t,{includeHydrateFallback:n}={}){return ky(e.map(r=>{let s=t.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function ky(e){return[...new Set(e)]}function Cy(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function jy(e,t){let n=new Set;return new Set(t),e.reduce((r,s)=>{let i=JSON.stringify(Cy(s));return n.has(i)||(n.add(i),r.push({key:i,link:s})),r},[])}function jp(){let e=x.useContext(Ur);return Vu(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Ty(){let e=x.useContext(Uo);return Vu(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var qu=x.createContext(void 0);qu.displayName="FrameworkContext";function Tp(){let e=x.useContext(qu);return Vu(e,"You must render this element inside a <HydratedRouter> element"),e}function Py(e,t){let n=x.useContext(qu),[r,s]=x.useState(!1),[i,o]=x.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:c,onTouchStart:h}=t,d=x.useRef(null);x.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let y=f=>{f.forEach(p=>{o(p.isIntersecting)})},S=new IntersectionObserver(y,{threshold:.5});return d.current&&S.observe(d.current),()=>{S.disconnect()}}},[e]),x.useEffect(()=>{if(r){let y=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(y)}}},[r]);let g=()=>{s(!0)},w=()=>{s(!1),o(!1)};return n?e!=="intent"?[i,d,{}]:[i,d,{onFocus:ts(a,g),onBlur:ts(l,w),onMouseEnter:ts(u,g),onMouseLeave:ts(c,w),onTouchStart:ts(h,g)}]:[!1,d,{}]}function ts(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Ny({page:e,...t}){let{router:n}=jp(),r=x.useMemo(()=>gp(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?x.createElement(Ry,{page:e,matches:r,...t}):null}function Oy(e){let{manifest:t,routeModules:n}=Tp(),[r,s]=x.useState([]);return x.useEffect(()=>{let i=!1;return Ey(e,t,n).then(o=>{i||s(o)}),()=>{i=!0}},[e,t,n]),r}function Ry({page:e,matches:t,...n}){let r=bn(),{manifest:s,routeModules:i}=Tp(),{basename:o}=jp(),{loaderData:a,matches:l}=Ty(),u=x.useMemo(()=>gd(e,t,l,s,r,"data"),[e,t,l,s,r]),c=x.useMemo(()=>gd(e,t,l,s,r,"assets"),[e,t,l,s,r]),h=x.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let w=new Set,y=!1;if(t.forEach(f=>{var m;let p=s.routes[f.route.id];!p||!p.hasLoader||(!u.some(_=>_.route.id===f.route.id)&&f.route.id in a&&((m=i[f.route.id])!=null&&m.shouldRevalidate)||p.hasClientLoader?y=!0:w.add(f.route.id))}),w.size===0)return[];let S=_y(e,o,"data");return y&&w.size>0&&S.searchParams.set("_routes",t.filter(f=>w.has(f.route.id)).map(f=>f.route.id).join(",")),[S.pathname+S.search]},[o,a,r,s,u,t,e,i]),d=x.useMemo(()=>by(c,s),[c,s]),g=Oy(c);return x.createElement(x.Fragment,null,h.map(w=>x.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),d.map(w=>x.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),g.map(({key:w,link:y})=>x.createElement("link",{key:w,nonce:n.nonce,...y})))}function Iy(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var Pp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Pp&&(window.__reactRouterVersion="7.9.4")}catch{}function $y({basename:e,children:t,window:n}){let r=x.useRef();r.current==null&&(r.current=Sv({window:n,v5Compat:!0}));let s=r.current,[i,o]=x.useState({action:s.action,location:s.location}),a=x.useCallback(l=>{x.startTransition(()=>o(l))},[o]);return x.useLayoutEffect(()=>s.listen(a),[s,a]),x.createElement(cy,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:s})}var Np=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ws=x.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:s,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:c,viewTransition:h,...d},g){let{basename:w}=x.useContext(Rt),y=typeof u=="string"&&Np.test(u),S,f=!1;if(typeof u=="string"&&y&&(S=u,Pp))try{let L=new URL(window.location.href),R=u.startsWith("//")?new URL(L.protocol+u):new URL(u),V=qt(R.pathname,w);R.origin===L.origin&&V!=null?u=V+R.search+R.hash:f=!0}catch{Nt(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let p=Kv(u,{relative:s}),[m,_,b]=Py(r,d),j=By(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:s,viewTransition:h});function k(L){t&&t(L),L.defaultPrevented||j(L)}let P=x.createElement("a",{...d,...b,href:S||p,onClick:f||i?t:k,ref:Iy(g,_),target:l,"data-discover":!y&&n==="render"?"true":void 0});return m&&!y?x.createElement(x.Fragment,null,P,x.createElement(Ny,{page:p})):P});ws.displayName="Link";var Ay=x.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:s=!1,style:i,to:o,viewTransition:a,children:l,...u},c){let h=Zs(o,{relative:u.relative}),d=bn(),g=x.useContext(Uo),{navigator:w,basename:y}=x.useContext(Rt),S=g!=null&&Wy(h)&&a===!0,f=w.encodeLocation?w.encodeLocation(h).pathname:h.pathname,p=d.pathname,m=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;n||(p=p.toLowerCase(),m=m?m.toLowerCase():null,f=f.toLowerCase()),m&&y&&(m=qt(m,y)||m);const _=f!=="/"&&f.endsWith("/")?f.length-1:f.length;let b=p===f||!s&&p.startsWith(f)&&p.charAt(_)==="/",j=m!=null&&(m===f||!s&&m.startsWith(f)&&m.charAt(f.length)==="/"),k={isActive:b,isPending:j,isTransitioning:S},P=b?t:void 0,L;typeof r=="function"?L=r(k):L=[r,b?"active":null,j?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let R=typeof i=="function"?i(k):i;return x.createElement(ws,{...u,"aria-current":P,className:L,ref:c,style:R,to:o,viewTransition:a},typeof l=="function"?l(k):l)});Ay.displayName="NavLink";var Ly=x.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:s,state:i,method:o=Fi,action:a,onSubmit:l,relative:u,preventScrollReset:c,viewTransition:h,...d},g)=>{let w=Fy(),y=zy(a,{relative:u}),S=o.toLowerCase()==="get"?"get":"post",f=typeof a=="string"&&Np.test(a),p=m=>{if(l&&l(m),m.defaultPrevented)return;m.preventDefault();let _=m.nativeEvent.submitter,b=(_==null?void 0:_.getAttribute("formmethod"))||o;w(_||m.currentTarget,{fetcherKey:t,method:b,navigate:n,replace:s,state:i,relative:u,preventScrollReset:c,viewTransition:h})};return x.createElement("form",{ref:g,method:S,action:y,onSubmit:r?l:p,...d,"data-discover":!f&&e==="render"?"true":void 0})});Ly.displayName="Form";function Dy(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Op(e){let t=x.useContext(Ur);return ce(t,Dy(e)),t}function By(e,{target:t,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:o}={}){let a=Gv(),l=bn(),u=Zs(e,{relative:i});return x.useCallback(c=>{if(gy(c,t)){c.preventDefault();let h=n!==void 0?n:Fs(l)===Fs(u);a(e,{replace:h,state:r,preventScrollReset:s,relative:i,viewTransition:o})}},[l,a,u,n,r,t,e,s,i,o])}var My=0,Uy=()=>`__${String(++My)}__`;function Fy(){let{router:e}=Op("useSubmit"),{basename:t}=x.useContext(Rt),n=oy();return x.useCallback(async(r,s={})=>{let{action:i,method:o,encType:a,formData:l,body:u}=wy(r,t);if(s.navigate===!1){let c=s.fetcherKey||Uy();await e.fetch(c,n,s.action||i,{preventScrollReset:s.preventScrollReset,formData:l,body:u,formMethod:s.method||o,formEncType:s.encType||a,flushSync:s.flushSync})}else await e.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:l,body:u,formMethod:s.method||o,formEncType:s.encType||a,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,n])}function zy(e,{relative:t}={}){let{basename:n}=x.useContext(Rt),r=x.useContext(Gt);ce(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...Zs(e||".",{relative:t})},o=bn();if(e==null){i.search=o.search;let a=new URLSearchParams(i.search),l=a.getAll("index");if(l.some(c=>c==="")){a.delete("index"),l.filter(h=>h).forEach(h=>a.append("index",h));let c=a.toString();i.search=c?`?${c}`:""}}return(!e||e===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:Ft([n,i.pathname])),Fs(i)}function Wy(e,{relative:t}={}){let n=x.useContext(xp);ce(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Op("useViewTransitionState"),s=Zs(e,{relative:t});if(!n.isTransitioning)return!1;let i=qt(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=qt(n.nextLocation.pathname,r)||n.nextLocation.pathname;return yo(s.pathname,o)!=null||yo(s.pathname,i)!=null}function br({className:e="",children:t,...n}){return v.jsx("div",{className:`card-smooth rounded-2xl ${e}`,...n,children:t})}function zs({className:e="",children:t,...n}){return v.jsx("div",{className:`p-4 ${e}`,...n,children:t})}function _e({className:e="",children:t,...n}){return v.jsx("button",{className:`px-3 py-2 rounded-2xl btn-primary shadow-sm transition ${e}`,...n,children:t})}function _s({className:e="",...t}){return v.jsx("input",{className:`w-full border rounded-xl px-3 py-2 outline-none focus:ring-2 focus:ring-gray-300 ${e}`,...t})}function Hy({className:e="",children:t}){return v.jsx("span",{className:`pill ${e}`,children:t})}function Vy({defaultValue:e,children:t}){const[n,r]=E.useState(e);return v.jsx("div",{children:E.Children.map(t,s=>{var i,o;return s?((i=s.type)==null?void 0:i.displayName)==="TabsList"?E.cloneElement(s,{value:n,setValue:r}):((o=s.type)==null?void 0:o.displayName)==="TabsContent"?E.cloneElement(s,{value:n}):s:null})})}function Rp({value:e,setValue:t,className:n="",children:r}){return v.jsx("div",{className:`inline-flex gap-2 border rounded-xl p-1 ${n}`,children:E.Children.map(r,s=>E.cloneElement(s,{value:e,setValue:t}))})}Rp.displayName="TabsList";function Wi({value:e,value:t,setValue:n,children:r}){return v.jsx("button",{onClick:()=>n(e),className:`px-3 py-1 rounded-lg text-sm ${t===e?"bg-gray-900 text-white":"bg-gray-100"}`,children:r})}Wi.displayName="TabsTrigger";function Hi({value:e,value:t,className:n="",children:r}){return e!==t?null:v.jsx("div",{className:n,children:r})}Hi.displayName="TabsContent";function qy({value:e=0}){return v.jsx("div",{className:"w-full h-3 bg-gray-100 rounded-full overflow-hidden",children:v.jsx("div",{className:"h-3 bg-gray-900",style:{width:`${Math.min(100,Math.max(0,e))}%`}})})}function Yy({tone:e="ok",title:t,children:n,actions:r}){const s=e==="err"?"alert alert-err":e==="warn"?"alert alert-warn":"alert alert-ok";return v.jsxs("div",{className:s,children:[v.jsxs("div",{className:"flex-1",children:[t?v.jsx("div",{className:"font-semibold mb-1",children:t}):null,v.jsx("div",{className:"text-sm",children:n})]}),r?v.jsx("div",{className:"flex flex-wrap gap-2",children:r}):null]})}/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ky=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ip=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Gy={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jy=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>x.createElement("svg",{ref:l,...Gy,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Ip("lucide",s),...a},[...o.map(([u,c])=>x.createElement(u,c)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $p=(e,t)=>{const n=x.forwardRef(({className:r,...s},i)=>x.createElement(Jy,{ref:i,iconNode:t,className:Ip(`lucide-${Ky(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ap=$p("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vd=$p("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var yd,Q="colors",Ae="sizes",$="space",Qy={gap:$,gridGap:$,columnGap:$,gridColumnGap:$,rowGap:$,gridRowGap:$,inset:$,insetBlock:$,insetBlockEnd:$,insetBlockStart:$,insetInline:$,insetInlineEnd:$,insetInlineStart:$,margin:$,marginTop:$,marginRight:$,marginBottom:$,marginLeft:$,marginBlock:$,marginBlockEnd:$,marginBlockStart:$,marginInline:$,marginInlineEnd:$,marginInlineStart:$,padding:$,paddingTop:$,paddingRight:$,paddingBottom:$,paddingLeft:$,paddingBlock:$,paddingBlockEnd:$,paddingBlockStart:$,paddingInline:$,paddingInlineEnd:$,paddingInlineStart:$,top:$,right:$,bottom:$,left:$,scrollMargin:$,scrollMarginTop:$,scrollMarginRight:$,scrollMarginBottom:$,scrollMarginLeft:$,scrollMarginX:$,scrollMarginY:$,scrollMarginBlock:$,scrollMarginBlockEnd:$,scrollMarginBlockStart:$,scrollMarginInline:$,scrollMarginInlineEnd:$,scrollMarginInlineStart:$,scrollPadding:$,scrollPaddingTop:$,scrollPaddingRight:$,scrollPaddingBottom:$,scrollPaddingLeft:$,scrollPaddingX:$,scrollPaddingY:$,scrollPaddingBlock:$,scrollPaddingBlockEnd:$,scrollPaddingBlockStart:$,scrollPaddingInline:$,scrollPaddingInlineEnd:$,scrollPaddingInlineStart:$,fontSize:"fontSizes",background:Q,backgroundColor:Q,backgroundImage:Q,borderImage:Q,border:Q,borderBlock:Q,borderBlockEnd:Q,borderBlockStart:Q,borderBottom:Q,borderBottomColor:Q,borderColor:Q,borderInline:Q,borderInlineEnd:Q,borderInlineStart:Q,borderLeft:Q,borderLeftColor:Q,borderRight:Q,borderRightColor:Q,borderTop:Q,borderTopColor:Q,caretColor:Q,color:Q,columnRuleColor:Q,fill:Q,outline:Q,outlineColor:Q,stroke:Q,textDecorationColor:Q,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:Ae,minBlockSize:Ae,maxBlockSize:Ae,inlineSize:Ae,minInlineSize:Ae,maxInlineSize:Ae,width:Ae,minWidth:Ae,maxWidth:Ae,height:Ae,minHeight:Ae,maxHeight:Ae,flexBasis:Ae,gridTemplateColumns:Ae,gridTemplateRows:Ae,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},Xy=(e,t)=>typeof t=="function"?{"()":Function.prototype.toString.call(t)}:t,ei=()=>{const e=Object.create(null);return(t,n,...r)=>{const s=(i=>JSON.stringify(i,Xy))(t);return s in e?e[s]:e[s]=n(t,...r)}},Vi=Symbol.for("sxs.internal"),Yu=(e,t)=>Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)),wd=e=>{for(const t in e)return!0;return!1},{hasOwnProperty:Zy}=Object.prototype,jl=e=>e.includes("-")?e:e.replace(/[A-Z]/g,t=>"-"+t.toLowerCase()),e1=/\s+(?![^()]*\))/,Qn=e=>t=>e(...typeof t=="string"?String(t).split(e1):[t]),_d={appearance:e=>({WebkitAppearance:e,appearance:e}),backfaceVisibility:e=>({WebkitBackfaceVisibility:e,backfaceVisibility:e}),backdropFilter:e=>({WebkitBackdropFilter:e,backdropFilter:e}),backgroundClip:e=>({WebkitBackgroundClip:e,backgroundClip:e}),boxDecorationBreak:e=>({WebkitBoxDecorationBreak:e,boxDecorationBreak:e}),clipPath:e=>({WebkitClipPath:e,clipPath:e}),content:e=>({content:e.includes('"')||e.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(e)?e:`"${e}"`}),hyphens:e=>({WebkitHyphens:e,hyphens:e}),maskImage:e=>({WebkitMaskImage:e,maskImage:e}),maskSize:e=>({WebkitMaskSize:e,maskSize:e}),tabSize:e=>({MozTabSize:e,tabSize:e}),textSizeAdjust:e=>({WebkitTextSizeAdjust:e,textSizeAdjust:e}),userSelect:e=>({WebkitUserSelect:e,userSelect:e}),marginBlock:Qn((e,t)=>({marginBlockStart:e,marginBlockEnd:t||e})),marginInline:Qn((e,t)=>({marginInlineStart:e,marginInlineEnd:t||e})),maxSize:Qn((e,t)=>({maxBlockSize:e,maxInlineSize:t||e})),minSize:Qn((e,t)=>({minBlockSize:e,minInlineSize:t||e})),paddingBlock:Qn((e,t)=>({paddingBlockStart:e,paddingBlockEnd:t||e})),paddingInline:Qn((e,t)=>({paddingInlineStart:e,paddingInlineEnd:t||e}))},ya=/([\d.]+)([^]*)/,t1=(e,t)=>e.length?e.reduce((n,r)=>(n.push(...t.map(s=>s.includes("&")?s.replace(/&/g,/[ +>|~]/.test(r)&&/&.*&/.test(s)?`:is(${r})`:r):r+" "+s)),n),[]):t,n1=(e,t)=>e in r1&&typeof t=="string"?t.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(n,r,s,i)=>r+(s==="stretch"?`-moz-available${i};${jl(e)}:${r}-webkit-fill-available`:`-moz-fit-content${i};${jl(e)}:${r}fit-content`)+i):String(t),r1={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},Yt=e=>e?e+"-":"",Lp=(e,t,n)=>e.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,(r,s,i,o,a)=>o=="$"==!!i?r:(s||o=="--"?"calc(":"")+"var(--"+(o==="$"?Yt(t)+(a.includes("$")?"":Yt(n))+a.replace(/\$/g,"-"):a)+")"+(s||o=="--"?"*"+(s||"")+(i||"1")+")":"")),s1=/\s*,\s*(?![^()]*\))/,i1=Object.prototype.toString,vr=(e,t,n,r,s)=>{let i,o,a;const l=(u,c,h)=>{let d,g;const w=y=>{for(d in y){const p=d.charCodeAt(0)===64,m=p&&Array.isArray(y[d])?y[d]:[y[d]];for(g of m){const _=/[A-Z]/.test(f=d)?f:f.replace(/-[^]/g,j=>j[1].toUpperCase()),b=typeof g=="object"&&g&&g.toString===i1&&(!r.utils[_]||!c.length);if(_ in r.utils&&!b){const j=r.utils[_];if(j!==o){o=j,w(j(g)),o=null;continue}}else if(_ in _d){const j=_d[_];if(j!==a){a=j,w(j(g)),a=null;continue}}if(p&&(S=d.slice(1)in r.media?"@media "+r.media[d.slice(1)]:d,d=S.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(j,k,P,L,R,V)=>{const ke=ya.test(k),Ue=.0625*(ke?-1:1),[nt,me]=ke?[L,k]:[k,L];return"("+(P[0]==="="?"":P[0]===">"===ke?"max-":"min-")+nt+":"+(P[0]!=="="&&P.length===1?me.replace(ya,(oe,rt,O)=>Number(rt)+Ue*(P===">"?1:-1)+O):me)+(R?") and ("+(R[0]===">"?"min-":"max-")+nt+":"+(R.length===1?V.replace(ya,(oe,rt,O)=>Number(rt)+Ue*(R===">"?-1:1)+O):V):"")+")"})),b){const j=p?h.concat(d):[...h],k=p?[...c]:t1(c,d.split(s1));i!==void 0&&s(Sd(...i)),i=void 0,l(g,k,j)}else i===void 0&&(i=[[],c,h]),d=p||d.charCodeAt(0)!==36?d:`--${Yt(r.prefix)}${d.slice(1).replace(/\$/g,"-")}`,g=b?g:typeof g=="number"?g&&_ in o1?String(g)+"px":String(g):Lp(n1(_,g??""),r.prefix,r.themeMap[_]),i[0].push(`${p?`${d} `:`${jl(d)}:`}${g}`)}}var S,f};w(u),i!==void 0&&s(Sd(...i)),i=void 0};l(e,t,n)},Sd=(e,t,n)=>`${n.map(r=>`${r}{`).join("")}${t.length?`${t.join(",")}{`:""}${e.join(";")}${t.length?"}":""}${Array(n.length?n.length+1:0).join("}")}`,o1={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},xd=e=>String.fromCharCode(e+(e>25?39:97)),Un=e=>(t=>{let n,r="";for(n=Math.abs(t);n>52;n=n/52|0)r=xd(n%52)+r;return xd(n%52)+r})(((t,n)=>{let r=n.length;for(;r;)t=33*t^n.charCodeAt(--r);return t})(5381,JSON.stringify(e))>>>0),as=["themed","global","styled","onevar","resonevar","allvar","inline"],a1=e=>{if(e.href&&!e.href.startsWith(location.origin))return!1;try{return!!e.cssRules}catch{return!1}},l1=e=>{let t;const n=()=>{const{cssRules:s}=t.sheet;return[].map.call(s,(i,o)=>{const{cssText:a}=i;let l="";if(a.startsWith("--sxs"))return"";if(s[o-1]&&(l=s[o-1].cssText).startsWith("--sxs")){if(!i.cssRules.length)return"";for(const u in t.rules)if(t.rules[u].group===i)return`--sxs{--sxs:${[...t.rules[u].cache].join(" ")}}${a}`;return i.cssRules.length?`${l}${a}`:""}return a}).join("")},r=()=>{if(t){const{rules:a,sheet:l}=t;if(!l.deleteRule){for(;Object(Object(l.cssRules)[0]).type===3;)l.cssRules.splice(0,1);l.cssRules=[]}for(const u in a)delete a[u]}const s=Object(e).styleSheets||[];for(const a of s)if(a1(a)){for(let l=0,u=a.cssRules;u[l];++l){const c=Object(u[l]);if(c.type!==1)continue;const h=Object(u[l+1]);if(h.type!==4)continue;++l;const{cssText:d}=c;if(!d.startsWith("--sxs"))continue;const g=d.slice(14,-3).trim().split(/\s+/),w=as[g[0]];w&&(t||(t={sheet:a,reset:r,rules:{},toString:n}),t.rules[w]={group:h,index:l,cache:new Set(g)})}if(t)break}if(!t){const a=(l,u)=>({type:u,cssRules:[],insertRule(c,h){this.cssRules.splice(h,0,a(c,{import:3,undefined:1}[(c.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return l==="@media{}"?`@media{${[].map.call(this.cssRules,c=>c.cssText).join("")}}`:l}});t={sheet:e?(e.head||e).appendChild(document.createElement("style")).sheet:a("","text/css"),rules:{},reset:r,toString:n}}const{sheet:i,rules:o}=t;for(let a=as.length-1;a>=0;--a){const l=as[a];if(!o[l]){const u=as[a+1],c=o[u]?o[u].index:i.cssRules.length;i.insertRule("@media{}",c),i.insertRule(`--sxs{--sxs:${a}}`,c),o[l]={group:i.cssRules[c+1],index:c,cache:new Set([a])}}u1(o[l])}};return r(),t},u1=e=>{const t=e.group;let n=t.cssRules.length;e.apply=r=>{try{t.insertRule(r,n),++n}catch{}}},ns=Symbol(),c1=ei(),d1=(e,t)=>c1(e,()=>(...n)=>{let r={type:null,composers:new Set};for(const s of n)if(s!=null)if(s[Vi]){r.type==null&&(r.type=s[Vi].type);for(const i of s[Vi].composers)r.composers.add(i)}else s.constructor!==Object||s.$$typeof?r.type==null&&(r.type=s):r.composers.add(h1(s,e));return r.type==null&&(r.type="span"),r.composers.size||r.composers.add(["PJLV",{},[],[],{},[]]),f1(e,r,t)}),h1=({variants:e,compoundVariants:t,defaultVariants:n,...r},s)=>{const i=`${Yt(s.prefix)}c-${Un(r)}`,o=[],a=[],l=Object.create(null),u=[];for(const d in n)l[d]=String(n[d]);if(typeof e=="object"&&e)for(const d in e){c=l,h=d,Zy.call(c,h)||(l[d]="undefined");const g=e[d];for(const w in g){const y={[d]:String(w)};String(w)==="undefined"&&u.push(d);const S=g[w],f=[y,S,!wd(S)];o.push(f)}}var c,h;if(typeof t=="object"&&t)for(const d of t){let{css:g,...w}=d;g=typeof g=="object"&&g||{};for(const S in w)w[S]=String(w[S]);const y=[w,g,!wd(g)];a.push(y)}return[i,r,o,a,l,u]},f1=(e,t,n)=>{const[r,s,i,o]=p1(t.composers),a=typeof t.type=="function"||t.type.$$typeof?(h=>{function d(){for(let g=0;g<d[ns].length;g++){const[w,y]=d[ns][g];h.rules[w].apply(y)}return d[ns]=[],null}return d[ns]=[],d.rules={},as.forEach(g=>d.rules[g]={apply:w=>d[ns].push([g,w])}),d})(n):null,l=(a||n).rules,u=`.${r}${s.length>1?`:where(.${s.slice(1).join(".")})`:""}`,c=h=>{h=typeof h=="object"&&h||m1;const{css:d,...g}=h,w={};for(const f in i)if(delete g[f],f in h){let p=h[f];typeof p=="object"&&p?w[f]={"@initial":i[f],...p}:(p=String(p),w[f]=p!=="undefined"||o.has(f)?p:i[f])}else w[f]=i[f];const y=new Set([...s]);for(const[f,p,m,_]of t.composers){n.rules.styled.cache.has(f)||(n.rules.styled.cache.add(f),vr(p,[`.${f}`],[],e,k=>{l.styled.apply(k)}));const b=Ed(m,w,e.media),j=Ed(_,w,e.media,!0);for(const k of b)if(k!==void 0)for(const[P,L,R]of k){const V=`${f}-${Un(L)}-${P}`;y.add(V);const ke=(R?n.rules.resonevar:n.rules.onevar).cache,Ue=R?l.resonevar:l.onevar;ke.has(V)||(ke.add(V),vr(L,[`.${V}`],[],e,nt=>{Ue.apply(nt)}))}for(const k of j)if(k!==void 0)for(const[P,L]of k){const R=`${f}-${Un(L)}-${P}`;y.add(R),n.rules.allvar.cache.has(R)||(n.rules.allvar.cache.add(R),vr(L,[`.${R}`],[],e,V=>{l.allvar.apply(V)}))}}if(typeof d=="object"&&d){const f=`${r}-i${Un(d)}-css`;y.add(f),n.rules.inline.cache.has(f)||(n.rules.inline.cache.add(f),vr(d,[`.${f}`],[],e,p=>{l.inline.apply(p)}))}for(const f of String(h.className||"").trim().split(/\s+/))f&&y.add(f);const S=g.className=[...y].join(" ");return{type:t.type,className:S,selector:u,props:g,toString:()=>S,deferredInjector:a}};return Yu(c,{className:r,selector:u,[Vi]:t,toString:()=>(n.rules.styled.cache.has(r)||c(),r)})},p1=e=>{let t="";const n=[],r={},s=[];for(const[i,,,,o,a]of e){t===""&&(t=i),n.push(i),s.push(...a);for(const l in o){const u=o[l];(r[l]===void 0||u!=="undefined"||a.includes(u))&&(r[l]=u)}}return[t,n,r,new Set(s)]},Ed=(e,t,n,r)=>{const s=[];e:for(let[i,o,a]of e){if(a)continue;let l,u=0,c=!1;for(l in i){const h=i[l];let d=t[l];if(d!==h){if(typeof d!="object"||!d)continue e;{let g,w,y=0;for(const S in d){if(h===String(d[S])){if(S!=="@initial"){const f=S.slice(1);(w=w||[]).push(f in n?n[f]:S.replace(/^@media ?/,"")),c=!0}u+=y,g=!0}++y}if(w&&w.length&&(o={["@media "+w.join(", ")]:o}),!g)continue e}}}(s[u]=s[u]||[]).push([r?"cv":`${l}-${i[l]}`,o,c])}return s},m1={},g1=ei(),v1=(e,t)=>g1(e,()=>(...n)=>{const r=()=>{for(let s of n){s=typeof s=="object"&&s||{};let i=Un(s);if(!t.rules.global.cache.has(i)){if(t.rules.global.cache.add(i),"@import"in s){let o=[].indexOf.call(t.sheet.cssRules,t.rules.themed.group)-1;for(let a of[].concat(s["@import"]))a=a.includes('"')||a.includes("'")?a:`"${a}"`,t.sheet.insertRule(`@import ${a};`,o++);delete s["@import"]}vr(s,[],[],e,o=>{t.rules.global.apply(o)})}}return""};return Yu(r,{toString:r})}),y1=ei(),w1=(e,t)=>y1(e,()=>n=>{const r=`${Yt(e.prefix)}k-${Un(n)}`,s=()=>{if(!t.rules.global.cache.has(r)){t.rules.global.cache.add(r);const i=[];vr(n,[],[],e,a=>i.push(a));const o=`@keyframes ${r}{${i.join("")}}`;t.rules.global.apply(o)}return r};return Yu(s,{get name(){return s()},toString:s})}),_1=class{constructor(t,n,r,s){this.token=t==null?"":String(t),this.value=n==null?"":String(n),this.scale=r==null?"":String(r),this.prefix=s==null?"":String(s)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+Yt(this.prefix)+Yt(this.scale)+this.token}toString(){return this.computedValue}},S1=ei(),x1=(e,t)=>S1(e,()=>(n,r)=>{r=typeof n=="object"&&n||Object(r);const s=`.${n=(n=typeof n=="string"?n:"")||`${Yt(e.prefix)}t-${Un(r)}`}`,i={},o=[];for(const l in r){i[l]={};for(const u in r[l]){const c=`--${Yt(e.prefix)}${l}-${u}`,h=Lp(String(r[l][u]),e.prefix,l);i[l][u]=new _1(u,h,l,e.prefix),o.push(`${c}:${h}`)}}const a=()=>{if(o.length&&!t.rules.themed.cache.has(n)){t.rules.themed.cache.add(n);const l=`${r===e.theme?":root,":""}.${n}{${o.join(";")}}`;t.rules.themed.apply(l)}return n};return{...i,get className(){return a()},selector:s,toString:a}}),E1=ei(),Dp=e=>{let t=!1;const n=E1(e,r=>{t=!0;const s="prefix"in(r=typeof r=="object"&&r||{})?String(r.prefix):"",i=typeof r.media=="object"&&r.media||{},o=typeof r.root=="object"?r.root||null:globalThis.document||null,a=typeof r.theme=="object"&&r.theme||{},l={prefix:s,media:i,theme:a,themeMap:typeof r.themeMap=="object"&&r.themeMap||{...Qy},utils:typeof r.utils=="object"&&r.utils||{}},u=l1(o),c={css:d1(l,u),globalCss:v1(l,u),keyframes:w1(l,u),createTheme:x1(l,u),reset(){u.reset(),c.theme.toString()},theme:{},sheet:u,config:l,prefix:s,getCssText:u.toString,toString:u.toString};return String(c.theme=c.createTheme(a)),c});return t||n.reset(),n},Bp=()=>yd||(yd=Dp()),b1=(...e)=>Bp().createTheme(...e),Jt=(...e)=>Bp().css(...e),k1={default:{colors:{brand:"hsl(153 60.0% 53.0%)",brandAccent:"hsl(154 54.8% 45.1%)",brandButtonText:"white",defaultButtonBackground:"white",defaultButtonBackgroundHover:"#eaeaea",defaultButtonBorder:"lightgray",defaultButtonText:"gray",dividerBackground:"#eaeaea",inputBackground:"transparent",inputBorder:"lightgray",inputBorderHover:"gray",inputBorderFocus:"gray",inputText:"black",inputLabelText:"gray",inputPlaceholder:"darkgray",messageText:"#2b805a",messageBackground:"#e7fcf1",messageBorder:"#d0f3e1",messageTextDanger:"#ff6369",messageBackgroundDanger:"#fff8f8",messageBorderDanger:"#822025",anchorTextColor:"gray",anchorTextHoverColor:"darkgray"},space:{spaceSmall:"4px",spaceMedium:"8px",spaceLarge:"16px",labelBottomMargin:"8px",anchorBottomMargin:"4px",emailInputSpacing:"4px",socialAuthSpacing:"4px",buttonPadding:"10px 15px",inputPadding:"10px 15px"},fontSizes:{baseBodySize:"13px",baseInputSize:"14px",baseLabelSize:"14px",baseButtonSize:"14px"},fonts:{bodyFontFamily:"ui-sans-serif, sans-serif",buttonFontFamily:"ui-sans-serif, sans-serif",inputFontFamily:"ui-sans-serif, sans-serif",labelFontFamily:"ui-sans-serif, sans-serif"},borderWidths:{buttonBorderWidth:"1px",inputBorderWidth:"1px"},radii:{borderRadiusButton:"4px",buttonBorderRadius:"4px",inputBorderRadius:"4px"}},dark:{colors:{brandButtonText:"white",defaultButtonBackground:"#2e2e2e",defaultButtonBackgroundHover:"#3e3e3e",defaultButtonBorder:"#3e3e3e",defaultButtonText:"white",dividerBackground:"#2e2e2e",inputBackground:"#1e1e1e",inputBorder:"#3e3e3e",inputBorderHover:"gray",inputBorderFocus:"gray",inputText:"white",inputPlaceholder:"darkgray",messageText:"#85e0b7",messageBackground:"#072719",messageBorder:"#2b805a",messageBackgroundDanger:"#1f1315"}}},fe={SIGN_IN:"sign_in",SIGN_UP:"sign_up",FORGOTTEN_PASSWORD:"forgotten_password",MAGIC_LINK:"magic_link",UPDATE_PASSWORD:"update_password",VERIFY_OTP:"verify_otp"},C1="supabase-auth-ui",j1={ROOT:"root",SIGN_IN:fe.SIGN_IN,SIGN_UP:fe.SIGN_UP,FORGOTTEN_PASSWORD:fe.FORGOTTEN_PASSWORD,MAGIC_LINK:fe.MAGIC_LINK,UPDATE_PASSWORD:fe.UPDATE_PASSWORD,anchor:"ui-anchor",button:"ui-button",container:"ui-container",divider:"ui-divider",input:"ui-input",label:"ui-label",loader:"ui-loader",message:"ui-message"};function Kn(e,t,n){var r,s;const i=[],o=j1[e];return i.push(n!=null&&n.prependedClassName?(n==null?void 0:n.prependedClassName)+"_"+o:C1+"_"+o),(r=n==null?void 0:n.className)!=null&&r[e]&&i.push((s=n==null?void 0:n.className)==null?void 0:s[e]),((n==null?void 0:n.extend)===void 0||(n==null?void 0:n.extend)===!0)&&i.push(t),i}function Tl(e,t){let n;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(Array.isArray(t))for(n=0;n<t.length;n++)e[n]=Tl(e[n],t[n]);else for(n in t)e[n]=Tl(e[n],t[n]);return e}return t}function wa(e,...t){let n=t.length;for(let r=0;r<n;r++)e=Tl(e,t[r]);return e}function T1(e,t){return e.replace(/{{(\w+)}}/g,(n,r)=>t.hasOwnProperty(r)?t[r]:n)}var P1={sign_up:{email_label:"Email address",password_label:"Create a Password",email_input_placeholder:"Your email address",password_input_placeholder:"Your password",button_label:"Sign up",loading_button_label:"Signing up ...",social_provider_text:"Sign in with {{provider}}",link_text:"Don't have an account? Sign up",confirmation_text:"Check your email for the confirmation link"},sign_in:{email_label:"Email address",password_label:"Your Password",email_input_placeholder:"Your email address",password_input_placeholder:"Your password",button_label:"Sign in",loading_button_label:"Signing in ...",social_provider_text:"Sign in with {{provider}}",link_text:"Already have an account? Sign in"},magic_link:{email_input_label:"Email address",email_input_placeholder:"Your email address",button_label:"Send Magic Link",loading_button_label:"Sending Magic Link ...",link_text:"Send a magic link email",confirmation_text:"Check your email for the magic link"},forgotten_password:{email_label:"Email address",password_label:"Your Password",email_input_placeholder:"Your email address",button_label:"Send reset password instructions",loading_button_label:"Sending reset instructions ...",link_text:"Forgot your password?",confirmation_text:"Check your email for the password reset link"},update_password:{password_label:"New password",password_input_placeholder:"Your new password",button_label:"Update password",loading_button_label:"Updating password ...",confirmation_text:"Your password has been updated"},verify_otp:{email_input_label:"Email address",email_input_placeholder:"Your email address",phone_input_label:"Phone number",phone_input_placeholder:"Your phone number",token_input_label:"Token",token_input_placeholder:"Your Otp token",button_label:"Verify token",loading_button_label:"Signing in ..."}};const N1=Jt({fontFamily:"$bodyFontFamily",fontSize:"$baseBodySize",marginBottom:"$anchorBottomMargin",color:"$anchorTextColor",display:"block",textAlign:"center",textDecoration:"underline","&:hover":{color:"$anchorTextHoverColor"}}),Ln=({children:e,appearance:t,...n})=>{var r;const s=Kn("anchor",N1(),t);return E.createElement("a",{...n,style:(r=t==null?void 0:t.style)==null?void 0:r.anchor,className:s.join(" ")},e)},O1=Jt({fontFamily:"$buttonFontFamily",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",borderRadius:"$borderRadiusButton",fontSize:"$baseButtonSize",padding:"$buttonPadding",cursor:"pointer",borderWidth:"$buttonBorderWidth",borderStyle:"solid",width:"100%",transitionProperty:"background-color",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"100ms","&:disabled":{opacity:.7,cursor:"unset"},variants:{color:{default:{backgroundColor:"$defaultButtonBackground",color:"$defaultButtonText",borderColor:"$defaultButtonBorder","&:hover:not(:disabled)":{backgroundColor:"$defaultButtonBackgroundHover"}},primary:{backgroundColor:"$brand",color:"$brandButtonText",borderColor:"$brandAccent","&:hover:not(:disabled)":{backgroundColor:"$brandAccent"}}}}}),Fr=({children:e,color:t="default",appearance:n,icon:r,loading:s=!1,...i})=>{var o;const a=Kn("button",O1({color:t}),n);return E.createElement("button",{...i,style:(o=n==null?void 0:n.style)==null?void 0:o.button,className:a.join(" "),disabled:s},r,e)},R1=Jt({display:"flex",gap:"4px",variants:{direction:{horizontal:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(48px, 1fr))"},vertical:{flexDirection:"column",margin:"8px 0"}},gap:{small:{gap:"4px"},medium:{gap:"8px"},large:{gap:"16px"}}}}),Pt=({children:e,appearance:t,...n})=>{var r;const s=Kn("container",R1({direction:n.direction,gap:n.gap}),t);return E.createElement("div",{...n,style:(r=t==null?void 0:t.style)==null?void 0:r.container,className:s.join(" ")},e)},I1=Jt({background:"$dividerBackground",display:"block",margin:"16px 0",height:"1px",width:"100%"}),$1=({children:e,appearance:t,...n})=>{var r;const s=Kn("divider",I1(),t);return E.createElement("div",{...n,style:(r=t==null?void 0:t.style)==null?void 0:r.divider,className:s.join(" ")})},A1=Jt({fontFamily:"$inputFontFamily",background:"$inputBackground",borderRadius:"$inputBorderRadius",padding:"$inputPadding",cursor:"text",borderWidth:"$inputBorderWidth",borderColor:"$inputBorder",borderStyle:"solid",fontSize:"$baseInputSize",width:"100%",color:"$inputText",boxSizing:"border-box","&:hover":{borderColor:"$inputBorderHover",outline:"none"},"&:focus":{borderColor:"$inputBorderFocus",outline:"none"},"&::placeholder":{color:"$inputPlaceholder",letterSpacing:"initial"},transitionProperty:"background-color, border",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"100ms",variants:{type:{default:{letterSpacing:"0px"},password:{letterSpacing:"0px"}}}}),vn=({children:e,appearance:t,...n})=>{var r;const s=Kn("input",A1({type:n.type==="password"?"password":"default"}),t);return E.createElement("input",{...n,style:(r=t==null?void 0:t.style)==null?void 0:r.input,className:s.join(" ")},e)},L1=Jt({fontFamily:"$labelFontFamily",fontSize:"$baseLabelSize",marginBottom:"$labelBottomMargin",color:"$inputLabelText",display:"block"}),yn=({children:e,appearance:t,...n})=>{var r;const s=Kn("label",L1(),t);return E.createElement("label",{...n,style:(r=t==null?void 0:t.style)==null?void 0:r.label,className:s.join(" ")},e)},D1=Jt({fontFamily:"$bodyFontFamily",fontSize:"$baseInputSize",marginBottom:"$labelBottomMargin",display:"block",textAlign:"center",borderRadius:"0.375rem",padding:"1.5rem 1rem",lineHeight:"1rem",color:"$messageText",backgroundColor:"$messageBackground",border:"1px solid $messageBorder",variants:{color:{danger:{color:"$messageTextDanger",backgroundColor:"$messageBackgroundDanger",border:"1px solid $messageBorderDanger"}}}}),Ot=({children:e,appearance:t,...n})=>{var r;const s=Kn("message",D1({color:n.color}),t);return E.createElement("span",{...n,style:(r=t==null?void 0:t.style)==null?void 0:r.message,className:s.join(" ")},e)};function Mp({setAuthView:e=()=>{},supabaseClient:t,redirectTo:n,i18n:r,appearance:s,showLinks:i=!1}){var o;const[a,l]=x.useState(""),[u,c]=x.useState(""),[h,d]=x.useState(""),[g,w]=x.useState(!1),y=async f=>{var p,m;if(f.preventDefault(),c(""),d(""),w(!0),a.length===0){c((p=r==null?void 0:r.magic_link)==null?void 0:p.empty_email_address),w(!1);return}const{error:_}=await t.auth.signInWithOtp({email:a,options:{emailRedirectTo:n}});_?c(_.message):d((m=r==null?void 0:r.magic_link)==null?void 0:m.confirmation_text),w(!1)},S=r==null?void 0:r.magic_link;return E.createElement("form",{id:"auth-magic-link",onSubmit:y},E.createElement(Pt,{gap:"large",direction:"vertical",appearance:s},E.createElement("div",null,E.createElement(yn,{htmlFor:"email",appearance:s},S==null?void 0:S.email_input_label),E.createElement(vn,{id:"email",name:"email",type:"email",autoFocus:!0,placeholder:S==null?void 0:S.email_input_placeholder,onChange:f=>{c&&c(""),l(f.target.value)},appearance:s})),E.createElement(Fr,{color:"primary",type:"submit",loading:g,appearance:s},g?S==null?void 0:S.loading_button_label:S==null?void 0:S.button_label),i&&E.createElement(Ln,{href:"#auth-sign-in",onClick:f=>{f.preventDefault(),e(fe.SIGN_IN)},appearance:s},(o=r==null?void 0:r.sign_in)==null?void 0:o.link_text),h&&E.createElement(Ot,{appearance:s},h),u&&E.createElement(Ot,{color:"danger",appearance:s},u)))}const Pe=Jt({width:"21px",height:"21px"}),B1=({provider:e})=>e=="google"?M1():e=="facebook"?U1():e=="twitter"?F1():e=="apple"?z1():e=="github"?W1():e=="gitlab"?H1():e=="bitbucket"?V1():e=="discord"?q1():e=="azure"?Y1():e=="keycloak"?K1():e=="linkedin"?G1():e=="notion"?J1():e=="slack"?Q1():e=="spotify"?X1():e=="twitch"?Z1():e=="workos"?ew():e=="kakao"?tw():null,M1=()=>E.createElement("svg",{className:Pe(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},E.createElement("path",{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}),E.createElement("path",{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}),E.createElement("path",{fill:"#4CAF50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"}),E.createElement("path",{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"})),U1=()=>E.createElement("svg",{className:Pe(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},E.createElement("path",{fill:"#039be5",d:"M24 5A19 19 0 1 0 24 43A19 19 0 1 0 24 5Z"}),E.createElement("path",{fill:"#fff",d:"M26.572,29.036h4.917l0.772-4.995h-5.69v-2.73c0-2.075,0.678-3.915,2.619-3.915h3.119v-4.359c-0.548-0.074-1.707-0.236-3.897-0.236c-4.573,0-7.254,2.415-7.254,7.917v3.323h-4.701v4.995h4.701v13.729C22.089,42.905,23.032,43,24,43c0.875,0,1.729-0.08,2.572-0.194V29.036z"})),F1=()=>E.createElement("svg",{className:Pe(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},E.createElement("path",{fill:"#03A9F4",d:"M42,12.429c-1.323,0.586-2.746,0.977-4.247,1.162c1.526-0.906,2.7-2.351,3.251-4.058c-1.428,0.837-3.01,1.452-4.693,1.776C34.967,9.884,33.05,9,30.926,9c-4.08,0-7.387,3.278-7.387,7.32c0,0.572,0.067,1.129,0.193,1.67c-6.138-0.308-11.582-3.226-15.224-7.654c-0.64,1.082-1,2.349-1,3.686c0,2.541,1.301,4.778,3.285,6.096c-1.211-0.037-2.351-0.374-3.349-0.914c0,0.022,0,0.055,0,0.086c0,3.551,2.547,6.508,5.923,7.181c-0.617,0.169-1.269,0.263-1.941,0.263c-0.477,0-0.942-0.054-1.392-0.135c0.94,2.902,3.667,5.023,6.898,5.086c-2.528,1.96-5.712,3.134-9.174,3.134c-0.598,0-1.183-0.034-1.761-0.104C9.268,36.786,13.152,38,17.321,38c13.585,0,21.017-11.156,21.017-20.834c0-0.317-0.01-0.633-0.025-0.945C39.763,15.197,41.013,13.905,42,12.429"})),z1=()=>E.createElement("svg",{className:Pe(),fill:"gray",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"21px",height:"21px"}," ",E.createElement("path",{d:"M 15.904297 1.078125 C 15.843359 1.06875 15.774219 1.0746094 15.699219 1.0996094 C 14.699219 1.2996094 13.600391 1.8996094 12.900391 2.5996094 C 12.300391 3.1996094 11.800781 4.1996094 11.800781 5.0996094 C 11.800781 5.2996094 11.999219 5.5 12.199219 5.5 C 13.299219 5.4 14.399609 4.7996094 15.099609 4.0996094 C 15.699609 3.2996094 16.199219 2.4 16.199219 1.5 C 16.199219 1.275 16.087109 1.10625 15.904297 1.078125 z M 16.199219 5.4003906 C 14.399219 5.4003906 13.600391 6.5 12.400391 6.5 C 11.100391 6.5 9.9003906 5.5 8.4003906 5.5 C 6.3003906 5.5 3.0996094 7.4996094 3.0996094 12.099609 C 2.9996094 16.299609 6.8 21 9 21 C 10.3 21 10.600391 20.199219 12.400391 20.199219 C 14.200391 20.199219 14.600391 21 15.900391 21 C 17.400391 21 18.500391 19.399609 19.400391 18.099609 C 19.800391 17.399609 20.100391 17.000391 20.400391 16.400391 C 20.600391 16.000391 20.4 15.600391 20 15.400391 C 17.4 14.100391 16.900781 9.9003906 19.800781 8.4003906 C 20.300781 8.1003906 20.4 7.4992188 20 7.1992188 C 18.9 6.1992187 17.299219 5.4003906 16.199219 5.4003906 z"})),W1=()=>E.createElement("svg",{className:Pe(),fill:"gray",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 30",width:"21px",height:"21px"}," ",E.createElement("path",{d:"M15,3C8.373,3,3,8.373,3,15c0,5.623,3.872,10.328,9.092,11.63C12.036,26.468,12,26.28,12,26.047v-2.051 c-0.487,0-1.303,0-1.508,0c-0.821,0-1.551-0.353-1.905-1.009c-0.393-0.729-0.461-1.844-1.435-2.526 c-0.289-0.227-0.069-0.486,0.264-0.451c0.615,0.174,1.125,0.596,1.605,1.222c0.478,0.627,0.703,0.769,1.596,0.769 c0.433,0,1.081-0.025,1.691-0.121c0.328-0.833,0.895-1.6,1.588-1.962c-3.996-0.411-5.903-2.399-5.903-5.098 c0-1.162,0.495-2.286,1.336-3.233C9.053,10.647,8.706,8.73,9.435,8c1.798,0,2.885,1.166,3.146,1.481C13.477,9.174,14.461,9,15.495,9 c1.036,0,2.024,0.174,2.922,0.483C18.675,9.17,19.763,8,21.565,8c0.732,0.731,0.381,2.656,0.102,3.594 c0.836,0.945,1.328,2.066,1.328,3.226c0,2.697-1.904,4.684-5.894,5.097C18.199,20.49,19,22.1,19,23.313v2.734 c0,0.104-0.023,0.179-0.035,0.268C23.641,24.676,27,20.236,27,15C27,8.373,21.627,3,15,3z"})),H1=()=>E.createElement("svg",{className:Pe(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},E.createElement("path",{fill:"#e53935",d:"M24 43L16 20 32 20z"}),E.createElement("path",{fill:"#ff7043",d:"M24 43L42 20 32 20z"}),E.createElement("path",{fill:"#e53935",d:"M37 5L42 20 32 20z"}),E.createElement("path",{fill:"#ffa726",d:"M24 43L42 20 45 28z"}),E.createElement("path",{fill:"#ff7043",d:"M24 43L6 20 16 20z"}),E.createElement("path",{fill:"#e53935",d:"M11 5L6 20 16 20z"}),E.createElement("path",{fill:"#ffa726",d:"M24 43L6 20 3 28z"})),V1=()=>E.createElement("svg",{className:Pe(),xmlns:"http://www.w3.org/2000/svg",width:"512",height:"512",viewBox:"0 0 62.42 62.42"},E.createElement("defs",null,E.createElement("linearGradient",{id:"New_Gradient_Swatch_1",x1:"64.01",y1:"30.27",x2:"32.99",y2:"54.48",gradientUnits:"userSpaceOnUse"},E.createElement("stop",{offset:"0.18",stopColor:"#0052cc"}),E.createElement("stop",{offset:"1",stopColor:"#2684ff"}))),E.createElement("title",null,"Bitbucket-blue"),E.createElement("g",{id:"Layer_2","data-name":"Layer 2"},E.createElement("g",{id:"Blue",transform:"translate(0 -3.13)"},E.createElement("path",{d:"M2,6.26A2,2,0,0,0,0,8.58L8.49,60.12a2.72,2.72,0,0,0,2.66,2.27H51.88a2,2,0,0,0,2-1.68L62.37,8.59a2,2,0,0,0-2-2.32ZM37.75,43.51h-13L21.23,25.12H40.9Z",fill:"#2684ff"}),E.createElement("path",{d:"M59.67,25.12H40.9L37.75,43.51h-13L9.4,61.73a2.71,2.71,0,0,0,1.75.66H51.89a2,2,0,0,0,2-1.68Z",fill:"url(#New_Gradient_Swatch_1)"})))),q1=()=>E.createElement("svg",{className:Pe(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},E.createElement("path",{fill:"#536dfe",d:"M39.248,10.177c-2.804-1.287-5.812-2.235-8.956-2.778c-0.057-0.01-0.114,0.016-0.144,0.068	c-0.387,0.688-0.815,1.585-1.115,2.291c-3.382-0.506-6.747-0.506-10.059,0c-0.3-0.721-0.744-1.603-1.133-2.291	c-0.03-0.051-0.087-0.077-0.144-0.068c-3.143,0.541-6.15,1.489-8.956,2.778c-0.024,0.01-0.045,0.028-0.059,0.051	c-5.704,8.522-7.267,16.835-6.5,25.044c0.003,0.04,0.026,0.079,0.057,0.103c3.763,2.764,7.409,4.442,10.987,5.554	c0.057,0.017,0.118-0.003,0.154-0.051c0.846-1.156,1.601-2.374,2.248-3.656c0.038-0.075,0.002-0.164-0.076-0.194	c-1.197-0.454-2.336-1.007-3.432-1.636c-0.087-0.051-0.094-0.175-0.014-0.234c0.231-0.173,0.461-0.353,0.682-0.534	c0.04-0.033,0.095-0.04,0.142-0.019c7.201,3.288,14.997,3.288,22.113,0c0.047-0.023,0.102-0.016,0.144,0.017	c0.22,0.182,0.451,0.363,0.683,0.536c0.08,0.059,0.075,0.183-0.012,0.234c-1.096,0.641-2.236,1.182-3.434,1.634	c-0.078,0.03-0.113,0.12-0.075,0.196c0.661,1.28,1.415,2.498,2.246,3.654c0.035,0.049,0.097,0.07,0.154,0.052	c3.595-1.112,7.241-2.79,11.004-5.554c0.033-0.024,0.054-0.061,0.057-0.101c0.917-9.491-1.537-17.735-6.505-25.044	C39.293,10.205,39.272,10.187,39.248,10.177z M16.703,30.273c-2.168,0-3.954-1.99-3.954-4.435s1.752-4.435,3.954-4.435	c2.22,0,3.989,2.008,3.954,4.435C20.658,28.282,18.906,30.273,16.703,30.273z M31.324,30.273c-2.168,0-3.954-1.99-3.954-4.435	s1.752-4.435,3.954-4.435c2.22,0,3.989,2.008,3.954,4.435C35.278,28.282,33.544,30.273,31.324,30.273z"})),Y1=()=>E.createElement("svg",{className:Pe(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},E.createElement("linearGradient",{id:"k8yl7~hDat~FaoWq8WjN6a",x1:"-1254.397",x2:"-1261.911",y1:"877.268",y2:"899.466",gradientTransform:"translate(1981.75 -1362.063) scale(1.5625)",gradientUnits:"userSpaceOnUse"},E.createElement("stop",{offset:"0",stopColor:"#114a8b"}),E.createElement("stop",{offset:"1",stopColor:"#0669bc"})),E.createElement("path",{fill:"url(#k8yl7~hDat~FaoWq8WjN6a)",d:"M17.634,6h11.305L17.203,40.773c-0.247,0.733-0.934,1.226-1.708,1.226H6.697 c-0.994,0-1.8-0.806-1.8-1.8c0-0.196,0.032-0.39,0.094-0.576L15.926,7.227C16.173,6.494,16.86,6,17.634,6L17.634,6z"}),E.createElement("path",{fill:"#0078d4",d:"M34.062,29.324H16.135c-0.458-0.001-0.83,0.371-0.831,0.829c0,0.231,0.095,0.451,0.264,0.608 l11.52,10.752C27.423,41.826,27.865,42,28.324,42h10.151L34.062,29.324z"}),E.createElement("linearGradient",{id:"k8yl7~hDat~FaoWq8WjN6b",x1:"-1252.05",x2:"-1253.788",y1:"887.612",y2:"888.2",gradientTransform:"translate(1981.75 -1362.063) scale(1.5625)",gradientUnits:"userSpaceOnUse"},E.createElement("stop",{offset:"0",stopOpacity:".3"}),E.createElement("stop",{offset:".071",stopOpacity:".2"}),E.createElement("stop",{offset:".321",stopOpacity:".1"}),E.createElement("stop",{offset:".623",stopOpacity:".05"}),E.createElement("stop",{offset:"1",stopOpacity:"0"})),E.createElement("path",{fill:"url(#k8yl7~hDat~FaoWq8WjN6b)",d:"M17.634,6c-0.783-0.003-1.476,0.504-1.712,1.25L5.005,39.595 c-0.335,0.934,0.151,1.964,1.085,2.299C6.286,41.964,6.493,42,6.702,42h9.026c0.684-0.122,1.25-0.603,1.481-1.259l2.177-6.416 l7.776,7.253c0.326,0.27,0.735,0.419,1.158,0.422h10.114l-4.436-12.676l-12.931,0.003L28.98,6H17.634z"}),E.createElement("linearGradient",{id:"k8yl7~hDat~FaoWq8WjN6c",x1:"-1252.952",x2:"-1244.704",y1:"876.6",y2:"898.575",gradientTransform:"translate(1981.75 -1362.063) scale(1.5625)",gradientUnits:"userSpaceOnUse"},E.createElement("stop",{offset:"0",stopColor:"#3ccbf4"}),E.createElement("stop",{offset:"1",stopColor:"#2892df"})),E.createElement("path",{fill:"url(#k8yl7~hDat~FaoWq8WjN6c)",d:"M32.074,7.225C31.827,6.493,31.141,6,30.368,6h-12.6c0.772,0,1.459,0.493,1.705,1.224 l10.935,32.399c0.318,0.942-0.188,1.963-1.13,2.281C29.093,41.968,28.899,42,28.703,42h12.6c0.994,0,1.8-0.806,1.8-1.801 c0-0.196-0.032-0.39-0.095-0.575L32.074,7.225z"})),K1=()=>E.createElement("svg",{className:Pe(),width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},E.createElement("path",{d:"M472.136 163.959H408.584C407.401 163.959 406.218 163.327 405.666 162.3L354.651 73.6591C354.02 72.632 352.916 72 351.654 72H143.492C142.309 72 141.126 72.632 140.574 73.6591L87.5084 165.618L36.414 254.259C35.862 255.286 35.862 256.55 36.414 257.656L87.5084 346.297L140.495 438.335C141.047 439.362 142.23 440.073 143.413 439.994H351.654C352.837 439.994 354.02 439.362 354.651 438.335L405.745 349.694C406.297 348.667 407.48 347.956 408.663 348.035H472.215C474.344 348.035 476 346.297 476 344.243V167.83C475.921 165.697 474.186 163.959 472.136 163.959ZM228.728 349.694L212.721 377.345C212.485 377.74 212.091 378.135 211.696 378.372C211.223 378.609 210.75 378.767 210.198 378.767H178.422C177.318 378.767 176.293 378.214 175.82 377.187L128.431 294.787L123.779 286.65L106.748 257.498C106.511 257.103 106.353 256.629 106.432 256.076C106.432 255.602 106.59 255.049 106.827 254.654L123.937 224.949L175.899 134.886C176.451 133.938 177.476 133.306 178.501 133.306H210.198C210.75 133.306 211.302 133.464 211.854 133.701C212.248 133.938 212.643 134.254 212.879 134.728L228.886 162.537C229.359 163.485 229.28 164.67 228.728 165.539L177.397 254.654C177.16 255.049 177.081 255.523 177.081 255.918C177.081 256.392 177.239 256.787 177.397 257.182L228.728 346.218C229.438 347.403 229.359 348.667 228.728 349.694V349.694ZM388.083 257.498L371.051 286.65L366.399 294.787L319.011 377.187C318.459 378.135 317.512 378.767 316.409 378.767H284.632C284.08 378.767 283.607 378.609 283.134 378.372C282.74 378.135 282.346 377.819 282.109 377.345L266.103 349.694C265.393 348.667 265.393 347.403 266.024 346.376L317.355 257.34C317.591 256.945 317.67 256.471 317.67 256.076C317.67 255.602 317.513 255.207 317.355 254.812L266.024 165.697C265.472 164.749 265.393 163.643 265.866 162.695L281.873 134.886C282.109 134.491 282.503 134.096 282.898 133.859C283.371 133.543 283.923 133.464 284.553 133.464H316.409C317.512 133.464 318.538 134.017 319.011 135.044L370.972 225.107L388.083 254.812C388.319 255.286 388.477 255.76 388.477 256.234C388.477 256.55 388.319 257.024 388.083 257.498V257.498Z",fill:"#008AAA"})),G1=()=>E.createElement("svg",{className:Pe(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},E.createElement("path",{fill:"#0288D1",d:"M42,37c0,2.762-2.238,5-5,5H11c-2.761,0-5-2.238-5-5V11c0-2.762,2.239-5,5-5h26c2.762,0,5,2.238,5,5V37z"}),E.createElement("path",{fill:"#FFF",d:"M12 19H17V36H12zM14.485 17h-.028C12.965 17 12 15.888 12 14.499 12 13.08 12.995 12 14.514 12c1.521 0 2.458 1.08 2.486 2.499C17 15.887 16.035 17 14.485 17zM36 36h-5v-9.099c0-2.198-1.225-3.698-3.192-3.698-1.501 0-2.313 1.012-2.707 1.99C24.957 25.543 25 26.511 25 27v9h-5V19h5v2.616C25.721 20.5 26.85 19 29.738 19c3.578 0 6.261 2.25 6.261 7.274L36 36 36 36z"})),J1=()=>E.createElement("svg",{className:Pe(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px",fillRule:"evenodd",clipRule:"evenodd"},E.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M11.553,11.099c1.232,1.001,1.694,0.925,4.008,0.77 l21.812-1.31c0.463,0,0.078-0.461-0.076-0.538l-3.622-2.619c-0.694-0.539-1.619-1.156-3.391-1.002l-21.12,1.54 c-0.77,0.076-0.924,0.461-0.617,0.77L11.553,11.099z",clipRule:"evenodd"}),E.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M12.862,16.182v22.95c0,1.233,0.616,1.695,2.004,1.619 l23.971-1.387c1.388-0.076,1.543-0.925,1.543-1.927V14.641c0-1-0.385-1.54-1.234-1.463l-25.05,1.463 C13.171,14.718,12.862,15.181,12.862,16.182L12.862,16.182z",clipRule:"evenodd"}),E.createElement("path",{fill:"#424242",fillRule:"evenodd",d:"M11.553,11.099c1.232,1.001,1.694,0.925,4.008,0.77 l21.812-1.31c0.463,0,0.078-0.461-0.076-0.538l-3.622-2.619c-0.694-0.539-1.619-1.156-3.391-1.002l-21.12,1.54 c-0.77,0.076-0.924,0.461-0.617,0.77L11.553,11.099z M12.862,16.182v22.95c0,1.233,0.616,1.695,2.004,1.619l23.971-1.387 c1.388-0.076,1.543-0.925,1.543-1.927V14.641c0-1-0.385-1.54-1.234-1.463l-25.05,1.463C13.171,14.718,12.862,15.181,12.862,16.182 L12.862,16.182z M36.526,17.413c0.154,0.694,0,1.387-0.695,1.465l-1.155,0.23v16.943c-1.003,0.539-1.928,0.847-2.698,0.847 c-1.234,0-1.543-0.385-2.467-1.54l-7.555-11.86v11.475l2.391,0.539c0,0,0,1.386-1.929,1.386l-5.317,0.308 c-0.154-0.308,0-1.078,0.539-1.232l1.388-0.385V20.418l-1.927-0.154c-0.155-0.694,0.23-1.694,1.31-1.772l5.704-0.385l7.862,12.015 V19.493l-2.005-0.23c-0.154-0.848,0.462-1.464,1.233-1.54L36.526,17.413z M7.389,5.862l21.968-1.618 c2.698-0.231,3.392-0.076,5.087,1.155l7.013,4.929C42.614,11.176,43,11.407,43,12.33v27.032c0,1.694-0.617,2.696-2.775,2.849 l-25.512,1.541c-1.62,0.077-2.391-0.154-3.239-1.232l-5.164-6.7C5.385,34.587,5,33.664,5,32.585V8.556 C5,7.171,5.617,6.015,7.389,5.862z",clipRule:"evenodd"})),Q1=()=>E.createElement("svg",{className:Pe(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},E.createElement("path",{fill:"#33d375",d:"M33,8c0-2.209-1.791-4-4-4s-4,1.791-4,4c0,1.254,0,9.741,0,11c0,2.209,1.791,4,4,4s4-1.791,4-4	C33,17.741,33,9.254,33,8z"}),E.createElement("path",{fill:"#33d375",d:"M43,19c0,2.209-1.791,4-4,4c-1.195,0-4,0-4,0s0-2.986,0-4c0-2.209,1.791-4,4-4S43,16.791,43,19z"}),E.createElement("path",{fill:"#40c4ff",d:"M8,14c-2.209,0-4,1.791-4,4s1.791,4,4,4c1.254,0,9.741,0,11,0c2.209,0,4-1.791,4-4s-1.791-4-4-4	C17.741,14,9.254,14,8,14z"}),E.createElement("path",{fill:"#40c4ff",d:"M19,4c2.209,0,4,1.791,4,4c0,1.195,0,4,0,4s-2.986,0-4,0c-2.209,0-4-1.791-4-4S16.791,4,19,4z"}),E.createElement("path",{fill:"#e91e63",d:"M14,39.006C14,41.212,15.791,43,18,43s4-1.788,4-3.994c0-1.252,0-9.727,0-10.984	c0-2.206-1.791-3.994-4-3.994s-4,1.788-4,3.994C14,29.279,14,37.754,14,39.006z"}),E.createElement("path",{fill:"#e91e63",d:"M4,28.022c0-2.206,1.791-3.994,4-3.994c1.195,0,4,0,4,0s0,2.981,0,3.994c0,2.206-1.791,3.994-4,3.994	S4,30.228,4,28.022z"}),E.createElement("path",{fill:"#ffc107",d:"M39,33c2.209,0,4-1.791,4-4s-1.791-4-4-4c-1.254,0-9.741,0-11,0c-2.209,0-4,1.791-4,4s1.791,4,4,4	C29.258,33,37.746,33,39,33z"}),E.createElement("path",{fill:"#ffc107",d:"M28,43c-2.209,0-4-1.791-4-4c0-1.195,0-4,0-4s2.986,0,4,0c2.209,0,4,1.791,4,4S30.209,43,28,43z"})),X1=()=>E.createElement("svg",{className:Pe(),width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},E.createElement("path",{d:"M255.498 31.0034C131.513 31.0034 31 131.515 31 255.502C31 379.492 131.513 480 255.498 480C379.497 480 480 379.495 480 255.502C480 131.522 379.497 31.0135 255.495 31.0135L255.498 31V31.0034ZM358.453 354.798C354.432 361.391 345.801 363.486 339.204 359.435C286.496 327.237 220.139 319.947 141.993 337.801C134.463 339.516 126.957 334.798 125.24 327.264C123.516 319.731 128.217 312.225 135.767 310.511C221.284 290.972 294.639 299.384 353.816 335.549C360.413 339.596 362.504 348.2 358.453 354.798ZM385.932 293.67C380.864 301.903 370.088 304.503 361.858 299.438C301.512 262.345 209.528 251.602 138.151 273.272C128.893 276.067 119.118 270.851 116.309 261.61C113.521 252.353 118.74 242.597 127.981 239.782C209.512 215.044 310.87 227.026 380.17 269.612C388.4 274.68 391 285.456 385.935 293.676V293.673L385.932 293.67ZM388.293 230.016C315.935 187.039 196.56 183.089 127.479 204.055C116.387 207.42 104.654 201.159 101.293 190.063C97.9326 178.964 104.189 167.241 115.289 163.87C194.59 139.796 326.418 144.446 409.723 193.902C419.722 199.826 422.995 212.71 417.068 222.675C411.168 232.653 398.247 235.943 388.303 230.016H388.293V230.016Z",fill:"#1ED760"})),Z1=()=>E.createElement("svg",{className:Pe(),width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},E.createElement("path",{d:"M416 240L352 304H288L232 360V304H160V64H416V240Z",fill:"white"}),E.createElement("path",{d:"M144 32L64 112V400H160V480L240 400H304L448 256V32H144ZM416 240L352 304H288L232 360V304H160V64H416V240Z",fill:"#9146FF"}),E.createElement("path",{d:"M368 120H336V216H368V120Z",fill:"#9146FF"}),E.createElement("path",{d:"M280 120H248V216H280V120Z",fill:"#9146FF"})),ew=()=>E.createElement("svg",{className:Pe(),width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},E.createElement("path",{d:"M33 256.043C33 264.556 35.3159 273.069 39.4845 280.202L117.993 415.493C126.098 429.298 138.373 440.572 153.657 445.634C183.764 455.528 214.797 442.873 229.618 417.333L248.609 384.661L173.806 256.043L252.777 119.831L271.768 87.1591C277.557 77.2654 284.968 69.4424 294 63H285.894H172.185C150.878 63 131.193 74.2742 120.54 92.6812L39.7161 231.884C35.3159 239.016 33 247.53 33 256.043Z",fill:"#6363F1"}),E.createElement("path",{d:"M480 256.058C480 247.539 477.684 239.021 473.516 231.883L393.849 94.6596C379.028 69.3331 347.995 56.4396 317.888 66.34C302.603 71.4053 290.329 82.6871 282.224 96.5015L264.391 127.354L339.194 256.058L260.223 392.131L241.232 424.825C235.443 434.495 228.032 442.553 219 449H227.106H340.815C362.122 449 381.807 437.718 392.46 419.299L473.284 280.003C477.684 272.866 480 264.577 480 256.058Z",fill:"#6363F1"})),tw=()=>E.createElement("svg",{className:Pe(),xmlns:"http://www.w3.org/2000/svg",width:"2500",height:"2500",viewBox:"0 0 256 256"},E.createElement("path",{fill:"#FFE812",d:"M256 236c0 11.046-8.954 20-20 20H20c-11.046 0-20-8.954-20-20V20C0 8.954 8.954 0 20 0h216c11.046 0 20 8.954 20 20v216z"}),E.createElement("path",{d:"M128 36C70.562 36 24 72.713 24 118c0 29.279 19.466 54.97 48.748 69.477-1.593 5.494-10.237 35.344-10.581 37.689 0 0-.207 1.762.934 2.434s2.483.15 2.483.15c3.272-.457 37.943-24.811 43.944-29.04 5.995.849 12.168 1.29 18.472 1.29 57.438 0 104-36.712 104-82 0-45.287-46.562-82-104-82z"}),E.createElement("path",{fill:"#FFE812",d:"M70.5 146.625c-3.309 0-6-2.57-6-5.73V105.25h-9.362c-3.247 0-5.888-2.636-5.888-5.875s2.642-5.875 5.888-5.875h30.724c3.247 0 5.888 2.636 5.888 5.875s-2.642 5.875-5.888 5.875H76.5v35.645c0 3.16-2.691 5.73-6 5.73zM123.112 146.547c-2.502 0-4.416-1.016-4.993-2.65l-2.971-7.778-18.296-.001-2.973 7.783c-.575 1.631-2.488 2.646-4.99 2.646a9.155 9.155 0 0 1-3.814-.828c-1.654-.763-3.244-2.861-1.422-8.52l14.352-37.776c1.011-2.873 4.082-5.833 7.99-5.922 3.919.088 6.99 3.049 8.003 5.928l14.346 37.759c1.826 5.672.236 7.771-1.418 8.532a9.176 9.176 0 0 1-3.814.827c-.001 0 0 0 0 0zm-11.119-21.056L106 108.466l-5.993 17.025h11.986zM138 145.75c-3.171 0-5.75-2.468-5.75-5.5V99.5c0-3.309 2.748-6 6.125-6s6.125 2.691 6.125 6v35.25h12.75c3.171 0 5.75 2.468 5.75 5.5s-2.579 5.5-5.75 5.5H138zM171.334 146.547c-3.309 0-6-2.691-6-6V99.5c0-3.309 2.691-6 6-6s6 2.691 6 6v12.896l16.74-16.74c.861-.861 2.044-1.335 3.328-1.335 1.498 0 3.002.646 4.129 1.772 1.051 1.05 1.678 2.401 1.764 3.804.087 1.415-.384 2.712-1.324 3.653l-13.673 13.671 14.769 19.566a5.951 5.951 0 0 1 1.152 4.445 5.956 5.956 0 0 1-2.328 3.957 5.94 5.94 0 0 1-3.609 1.211 5.953 5.953 0 0 1-4.793-2.385l-14.071-18.644-2.082 2.082v13.091a6.01 6.01 0 0 1-6.002 6.003z"}));function nw({supabaseClient:e,socialLayout:t="vertical",providers:n=["github","google","azure"],providerScopes:r,queryParams:s,redirectTo:i,onlyThirdPartyProviders:o=!0,view:a="sign_in",i18n:l,appearance:u}){const[c,h]=x.useState(!1),[d,g]=x.useState(""),w=t==="vertical",y=a==="magic_link"?"sign_in":a,S=async p=>{h(!0);const{error:m}=await e.auth.signInWithOAuth({provider:p,options:{redirectTo:i,scopes:r==null?void 0:r[p],queryParams:s}});m&&g(m.message),h(!1)};function f(p){const m=p.toLowerCase();return p.charAt(0).toUpperCase()+m.slice(1)}return E.createElement(E.Fragment,null,n&&n.length>0&&E.createElement(E.Fragment,null,E.createElement(Pt,{gap:"large",direction:"vertical",appearance:u},E.createElement(Pt,{direction:w?"vertical":"horizontal",gap:w?"small":"medium",appearance:u},n.map(p=>{var m;return E.createElement(Fr,{key:p,color:"default",loading:c,onClick:()=>S(p),appearance:u},E.createElement(B1,{provider:p}),w&&T1((m=l==null?void 0:l[y])==null?void 0:m.social_provider_text,{provider:f(p)}))}))),!o&&E.createElement($1,{appearance:u})))}function bd({authView:e="sign_in",defaultEmail:t="",defaultPassword:n="",setAuthView:r=()=>{},setDefaultEmail:s=w=>{},setDefaultPassword:i=w=>{},supabaseClient:o,showLinks:a=!1,redirectTo:l,additionalData:u,magicLink:c,i18n:h,appearance:d,children:g}){var w,y,S,f;const p=x.useRef(!0),[m,_]=x.useState(t),[b,j]=x.useState(n),[k,P]=x.useState(""),[L,R]=x.useState(!1),[V,ke]=x.useState("");x.useEffect(()=>(p.current=!0,_(t),j(n),()=>{p.current=!1}),[e]);const Ue=async oe=>{var rt;switch(oe.preventDefault(),P(""),R(!0),e){case"sign_in":const{error:O}=await o.auth.signInWithPassword({email:m,password:b});O&&P(O.message);break;case"sign_up":let U={emailRedirectTo:l};u&&(U.data=u);const{data:{user:F,session:te},error:C}=await o.auth.signUp({email:m,password:b,options:U});C?P(C.message):F&&!te&&ke((rt=h==null?void 0:h.sign_up)==null?void 0:rt.confirmation_text);break}p.current&&R(!1)},nt=oe=>{s(m),i(b),r(oe)},me=h==null?void 0:h[e];return E.createElement("form",{id:e==="sign_in"?"auth-sign-in":"auth-sign-up",onSubmit:Ue,autoComplete:"on",style:{width:"100%"}},E.createElement(Pt,{direction:"vertical",gap:"large",appearance:d},E.createElement(Pt,{direction:"vertical",gap:"large",appearance:d},E.createElement("div",null,E.createElement(yn,{htmlFor:"email",appearance:d},me==null?void 0:me.email_label),E.createElement(vn,{id:"email",type:"email",name:"email",placeholder:me==null?void 0:me.email_input_placeholder,defaultValue:m,onChange:oe=>_(oe.target.value),autoComplete:"email",appearance:d})),E.createElement("div",null,E.createElement(yn,{htmlFor:"password",appearance:d},me==null?void 0:me.password_label),E.createElement(vn,{id:"password",type:"password",name:"password",placeholder:me==null?void 0:me.password_input_placeholder,defaultValue:b,onChange:oe=>j(oe.target.value),autoComplete:e==="sign_in"?"current-password":"new-password",appearance:d})),g),E.createElement(Fr,{type:"submit",color:"primary",loading:L,appearance:d},L?me==null?void 0:me.loading_button_label:me==null?void 0:me.button_label),a&&E.createElement(Pt,{direction:"vertical",gap:"small",appearance:d},e===fe.SIGN_IN&&c&&E.createElement(Ln,{href:"#auth-magic-link",onClick:oe=>{oe.preventDefault(),r(fe.MAGIC_LINK)},appearance:d},(w=h==null?void 0:h.magic_link)==null?void 0:w.link_text),e===fe.SIGN_IN&&E.createElement(Ln,{href:"#auth-forgot-password",onClick:oe=>{oe.preventDefault(),r(fe.FORGOTTEN_PASSWORD)},appearance:d},(y=h==null?void 0:h.forgotten_password)==null?void 0:y.link_text),e===fe.SIGN_IN?E.createElement(Ln,{href:"#auth-sign-up",onClick:oe=>{oe.preventDefault(),nt(fe.SIGN_UP)},appearance:d},(S=h==null?void 0:h.sign_up)==null?void 0:S.link_text):E.createElement(Ln,{href:"#auth-sign-in",onClick:oe=>{oe.preventDefault(),nt(fe.SIGN_IN)},appearance:d},(f=h==null?void 0:h.sign_in)==null?void 0:f.link_text))),V&&E.createElement(Ot,{appearance:d},V),k&&E.createElement(Ot,{color:"danger",appearance:d},k))}function Up({setAuthView:e=()=>{},supabaseClient:t,redirectTo:n,i18n:r,appearance:s,showLinks:i=!1}){var o;const[a,l]=x.useState(""),[u,c]=x.useState(""),[h,d]=x.useState(""),[g,w]=x.useState(!1),y=async f=>{var p;f.preventDefault(),c(""),d(""),w(!0);const{error:m}=await t.auth.resetPasswordForEmail(a,{redirectTo:n});m?c(m.message):d((p=r==null?void 0:r.forgotten_password)==null?void 0:p.confirmation_text),w(!1)},S=r==null?void 0:r.forgotten_password;return E.createElement("form",{id:"auth-forgot-password",onSubmit:y},E.createElement(Pt,{direction:"vertical",gap:"large",appearance:s},E.createElement(Pt,{gap:"large",direction:"vertical",appearance:s},E.createElement("div",null,E.createElement(yn,{htmlFor:"email",appearance:s},S==null?void 0:S.email_label),E.createElement(vn,{id:"email",name:"email",type:"email",autoFocus:!0,placeholder:S==null?void 0:S.email_input_placeholder,onChange:f=>l(f.target.value),appearance:s})),E.createElement(Fr,{type:"submit",color:"primary",loading:g,appearance:s},g?S==null?void 0:S.loading_button_label:S==null?void 0:S.button_label),i&&E.createElement(Ln,{href:"#auth-sign-in",onClick:f=>{f.preventDefault(),e(fe.SIGN_IN)},appearance:s},(o=r==null?void 0:r.sign_in)==null?void 0:o.link_text),h&&E.createElement(Ot,{appearance:s},h),u&&E.createElement(Ot,{color:"danger",appearance:s},u))))}function Fp({supabaseClient:e,i18n:t,appearance:n}){const[r,s]=x.useState(""),[i,o]=x.useState(""),[a,l]=x.useState(""),[u,c]=x.useState(!1),h=async g=>{var w;g.preventDefault(),o(""),l(""),c(!0);const{error:y}=await e.auth.updateUser({password:r});y?o(y.message):l((w=t==null?void 0:t.update_password)==null?void 0:w.confirmation_text),c(!1)},d=t==null?void 0:t.update_password;return E.createElement("form",{id:"auth-update-password",onSubmit:h},E.createElement(Pt,{gap:"large",direction:"vertical",appearance:n},E.createElement("div",null,E.createElement(yn,{htmlFor:"password",appearance:n},d==null?void 0:d.password_label),E.createElement(vn,{id:"password",name:"password",placeholder:d==null?void 0:d.password_input_placeholder,type:"password",autoFocus:!0,onChange:g=>s(g.target.value),appearance:n})),E.createElement(Fr,{type:"submit",color:"primary",loading:u,appearance:n},u?d==null?void 0:d.loading_button_label:d==null?void 0:d.button_label),a&&E.createElement(Ot,{appearance:n},a),i&&E.createElement(Ot,{color:"danger",appearance:n},i)))}function rw({setAuthView:e=()=>{},supabaseClient:t,otpType:n="email",i18n:r,appearance:s,showLinks:i=!1}){var o;const[a,l]=x.useState(""),[u,c]=x.useState(""),[h,d]=x.useState(""),[g,w]=x.useState(""),[y,S]=x.useState(""),[f,p]=x.useState(!1),m=async b=>{b.preventDefault(),w(""),S(""),p(!0);let j={email:a,token:h,type:n};["sms","phone_change"].includes(n)&&(j={phone:u,token:h,type:n});const{error:k}=await t.auth.verifyOtp(j);k&&w(k.message),p(!1)},_=r==null?void 0:r.verify_otp;return E.createElement("form",{id:"auth-magic-link",onSubmit:m},E.createElement(Pt,{gap:"large",direction:"vertical",appearance:s},["sms","phone_change"].includes(n)?E.createElement("div",null,E.createElement(yn,{htmlFor:"phone",appearance:s},_==null?void 0:_.phone_input_label),E.createElement(vn,{id:"phone",name:"phone",type:"text",autoFocus:!0,placeholder:_==null?void 0:_.phone_input_placeholder,onChange:b=>c(b.target.value),appearance:s})):E.createElement("div",null,E.createElement(yn,{htmlFor:"email",appearance:s},_==null?void 0:_.email_input_label),E.createElement(vn,{id:"email",name:"email",type:"email",autoFocus:!0,placeholder:_==null?void 0:_.email_input_placeholder,onChange:b=>l(b.target.value),appearance:s})),E.createElement("div",null,E.createElement(yn,{htmlFor:"token",appearance:s},_==null?void 0:_.token_input_label),E.createElement(vn,{id:"token",name:"token",type:"text",placeholder:_==null?void 0:_.token_input_placeholder,onChange:b=>d(b.target.value),appearance:s})),E.createElement(Fr,{color:"primary",type:"submit",loading:f,appearance:s},f?_==null?void 0:_.loading_button_label:_==null?void 0:_.button_label),i&&E.createElement(Ln,{href:"#auth-sign-in",onClick:b=>{b.preventDefault(),e(fe.SIGN_IN)},appearance:s},(o=r==null?void 0:r.sign_in)==null?void 0:o.link_text),y&&E.createElement(Ot,{appearance:s},y),g&&E.createElement(Ot,{color:"danger",appearance:s},g)))}const zp=x.createContext({user:null,session:null}),sw=e=>{const{supabaseClient:t}=e,[n,r]=x.useState(null),[s,i]=x.useState((n==null?void 0:n.user)??null);x.useEffect(()=>{(async()=>{var l;const{data:u}=await t.auth.getSession();r(u.session),i(((l=u.session)==null?void 0:l.user)??null)})();const{data:a}=t.auth.onAuthStateChange(async(l,u)=>{r(u),i((u==null?void 0:u.user)??null)});return()=>{a==null||a.subscription.unsubscribe()}},[]);const o={session:n,user:s};return E.createElement(zp.Provider,{value:o,...e})},iw=()=>{const e=x.useContext(zp);if(e===void 0)throw new Error("useUser must be used within a UserContextProvider.");return e};function zr({supabaseClient:e,socialLayout:t="vertical",providers:n,providerScopes:r,queryParams:s,view:i="sign_in",redirectTo:o,onlyThirdPartyProviders:a=!1,magicLink:l=!1,showLinks:u=!0,appearance:c,theme:h="default",localization:d={variables:{}},otpType:g="email",additionalData:w,children:y}){const S=wa(P1,d.variables??{}),[f,p]=x.useState(i),[m,_]=x.useState(""),[b,j]=x.useState(""),k=f==="sign_in"||f==="sign_up"||f==="magic_link";x.useEffect(()=>{var R,V;Dp({theme:wa(((R=c==null?void 0:c.theme)==null?void 0:R.default)??{},((V=c==null?void 0:c.variables)==null?void 0:V.default)??{})})},[c]);const P=({children:R})=>{var V;return E.createElement("div",{className:h!=="default"?b1(wa(c==null?void 0:c.theme[h],((V=c==null?void 0:c.variables)==null?void 0:V[h])??{})):""},k&&E.createElement(nw,{appearance:c,supabaseClient:e,providers:n,providerScopes:r,queryParams:s,socialLayout:t,redirectTo:o,onlyThirdPartyProviders:a,i18n:S,view:f}),!a&&R)};x.useEffect(()=>{const{data:R}=e.auth.onAuthStateChange(V=>{V==="PASSWORD_RECOVERY"?p("update_password"):V==="USER_UPDATED"&&p("sign_in")});return p(i),()=>R.subscription.unsubscribe()},[i]);const L={supabaseClient:e,setAuthView:p,defaultEmail:m,defaultPassword:b,setDefaultEmail:_,setDefaultPassword:j,redirectTo:o,magicLink:l,showLinks:u,i18n:S,appearance:c};switch(f){case fe.SIGN_IN:return E.createElement(P,null,E.createElement(bd,{...L,authView:"sign_in"}));case fe.SIGN_UP:return E.createElement(P,null,E.createElement(bd,{appearance:c,supabaseClient:e,authView:"sign_up",setAuthView:p,defaultEmail:m,defaultPassword:b,setDefaultEmail:_,setDefaultPassword:j,redirectTo:o,magicLink:l,showLinks:u,i18n:S,additionalData:w,children:y}));case fe.FORGOTTEN_PASSWORD:return E.createElement(P,null,E.createElement(Up,{appearance:c,supabaseClient:e,setAuthView:p,redirectTo:o,showLinks:u,i18n:S}));case fe.MAGIC_LINK:return E.createElement(P,null,E.createElement(Mp,{appearance:c,supabaseClient:e,setAuthView:p,redirectTo:o,showLinks:u,i18n:S}));case fe.UPDATE_PASSWORD:return E.createElement(Fp,{appearance:c,supabaseClient:e,i18n:S});case fe.VERIFY_OTP:return E.createElement(rw,{appearance:c,supabaseClient:e,otpType:g,i18n:S});default:return null}}zr.ForgottenPassword=Up;zr.UpdatePassword=Fp;zr.MagicLink=Mp;zr.UserContextProvider=sw;zr.useUser=iw;Jt({borderRadius:"12px",boxShadow:"rgba(100, 100, 111, 0.2) 0px 7px 29px 0px",width:"360px",padding:"28px 32px"});var Pl=function(e,t){return Pl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},Pl(e,t)};function Wp(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Pl(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var wo=function(){return wo=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},wo.apply(this,arguments)};function Wr(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function Hp(e,t,n,r){var s=arguments.length,i=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i}function Vp(e,t){return function(n,r){t(n,r,e)}}function qp(e,t,n,r,s,i){function o(f){if(f!==void 0&&typeof f!="function")throw new TypeError("Function expected");return f}for(var a=r.kind,l=a==="getter"?"get":a==="setter"?"set":"value",u=!t&&e?r.static?e:e.prototype:null,c=t||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),h,d=!1,g=n.length-1;g>=0;g--){var w={};for(var y in r)w[y]=y==="access"?{}:r[y];for(var y in r.access)w.access[y]=r.access[y];w.addInitializer=function(f){if(d)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(f||null))};var S=(0,n[g])(a==="accessor"?{get:c.get,set:c.set}:c[l],w);if(a==="accessor"){if(S===void 0)continue;if(S===null||typeof S!="object")throw new TypeError("Object expected");(h=o(S.get))&&(c.get=h),(h=o(S.set))&&(c.set=h),(h=o(S.init))&&s.unshift(h)}else(h=o(S))&&(a==="field"?s.unshift(h):c[l]=h)}u&&Object.defineProperty(u,r.name,c),d=!0}function Yp(e,t,n){for(var r=arguments.length>2,s=0;s<t.length;s++)n=r?t[s].call(e,n):t[s].call(e);return r?n:void 0}function Kp(e){return typeof e=="symbol"?e:"".concat(e)}function Gp(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function Jp(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function D(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})}function Qp(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(n=0)),n;)try{if(r=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,s=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){n.label=u[1];break}if(u[0]===6&&n.label<i[1]){n.label=i[1],i=u;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(u);break}i[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(c){u=[6,c],s=0}finally{r=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var zo=Object.create?function(e,t,n,r){r===void 0&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]};function Xp(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&zo(t,e,n)}function _o(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ku(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),s,i=[],o;try{for(;(t===void 0||t-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i}function Zp(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ku(arguments[t]));return e}function em(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),s=0,t=0;t<n;t++)for(var i=arguments[t],o=0,a=i.length;o<a;o++,s++)r[s]=i[o];return r}function tm(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function Ir(e){return this instanceof Ir?(this.v=e,this):new Ir(e)}function nm(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(g){return function(w){return Promise.resolve(w).then(g,h)}}function a(g,w){r[g]&&(s[g]=function(y){return new Promise(function(S,f){i.push([g,y,S,f])>1||l(g,y)})},w&&(s[g]=w(s[g])))}function l(g,w){try{u(r[g](w))}catch(y){d(i[0][3],y)}}function u(g){g.value instanceof Ir?Promise.resolve(g.value.v).then(c,h):d(i[0][2],g)}function c(g){l("next",g)}function h(g){l("throw",g)}function d(g,w){g(w),i.shift(),i.length&&l(i[0][0],i[0][1])}}function rm(e){var t,n;return t={},r("next"),r("throw",function(s){throw s}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(s,i){t[s]=e[s]?function(o){return(n=!n)?{value:Ir(e[s](o)),done:!1}:i?i(o):o}:i}}function sm(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof _o=="function"?_o(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=e[i]&&function(o){return new Promise(function(a,l){o=e[i](o),s(a,l,o.done,o.value)})}}function s(i,o,a,l){Promise.resolve(l).then(function(u){i({value:u,done:a})},o)}}function im(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var ow=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},Nl=function(e){return Nl=Object.getOwnPropertyNames||function(t){var n=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[n.length]=r);return n},Nl(e)};function om(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=Nl(e),r=0;r<n.length;r++)n[r]!=="default"&&zo(t,e,n[r]);return ow(t,e),t}function am(e){return e&&e.__esModule?e:{default:e}}function lm(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}function um(e,t,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(e,n):s?s.value=n:t.set(e,n),n}function cm(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function dm(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var r,s;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],n&&(s=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");s&&(r=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var aw=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function hm(e){function t(i){e.error=e.hasError?new aw(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var n,r=0;function s(){for(;n=e.stack.pop();)try{if(!n.async&&r===1)return r=0,e.stack.push(n),Promise.resolve().then(s);if(n.dispose){var i=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(i).then(s,function(o){return t(o),s()})}else r|=1}catch(o){t(o)}if(r===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function fm(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,s,i,o){return r?t?".jsx":".js":s&&(!i||!o)?n:s+i+"."+o.toLowerCase()+"js"}):e}const lw={__extends:Wp,__assign:wo,__rest:Wr,__decorate:Hp,__param:Vp,__esDecorate:qp,__runInitializers:Yp,__propKey:Kp,__setFunctionName:Gp,__metadata:Jp,__awaiter:D,__generator:Qp,__createBinding:zo,__exportStar:Xp,__values:_o,__read:Ku,__spread:Zp,__spreadArrays:em,__spreadArray:tm,__await:Ir,__asyncGenerator:nm,__asyncDelegator:rm,__asyncValues:sm,__makeTemplateObject:im,__importStar:om,__importDefault:am,__classPrivateFieldGet:lm,__classPrivateFieldSet:um,__classPrivateFieldIn:cm,__addDisposableResource:dm,__disposeResources:hm,__rewriteRelativeImportExtension:fm},uw=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:dm,get __assign(){return wo},__asyncDelegator:rm,__asyncGenerator:nm,__asyncValues:sm,__await:Ir,__awaiter:D,__classPrivateFieldGet:lm,__classPrivateFieldIn:cm,__classPrivateFieldSet:um,__createBinding:zo,__decorate:Hp,__disposeResources:hm,__esDecorate:qp,__exportStar:Xp,__extends:Wp,__generator:Qp,__importDefault:am,__importStar:om,__makeTemplateObject:im,__metadata:Jp,__param:Vp,__propKey:Kp,__read:Ku,__rest:Wr,__rewriteRelativeImportExtension:fm,__runInitializers:Yp,__setFunctionName:Gp,__spread:Zp,__spreadArray:tm,__spreadArrays:em,__values:_o,default:lw},Symbol.toStringTag,{value:"Module"})),cw="modulepreload",dw=function(e){return"/-jag-tax-dashboard-/"+e},kd={},Hr=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=dw(l),l in kd)return;kd[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":cw,u||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),u)return new Promise((d,g)=>{h.addEventListener("load",d),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},hw=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Hr(async()=>{const{default:r}=await Promise.resolve().then(()=>Gn);return{default:r}},[]).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Gu extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class Cd extends Gu{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class jd extends Gu{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Td extends Gu{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Ol;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Ol||(Ol={}));class fw{constructor(t,{headers:n={},customFetch:r,region:s=Ol.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=hw(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return D(this,arguments,void 0,function*(n,r={}){var s;try{const{headers:i,method:o,body:a,signal:l}=r;let u={},{region:c}=r;c||(c=this.region);const h=new URL(`${this.url}/${n}`);c&&c!=="any"&&(u["x-region"]=c,h.searchParams.set("forceFunctionRegion",c));let d;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",d=a):typeof a=="string"?(u["Content-Type"]="text/plain",d=a):typeof FormData<"u"&&a instanceof FormData?d=a:(u["Content-Type"]="application/json",d=JSON.stringify(a)):d=a;const g=yield this.fetch(h.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),i),body:d,signal:l}).catch(f=>{throw f.name==="AbortError"?f:new Cd(f)}),w=g.headers.get("x-relay-error");if(w&&w==="true")throw new jd(g);if(!g.ok)throw new Td(g);let y=((s=g.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),S;return y==="application/json"?S=yield g.json():y==="application/octet-stream"||y==="application/pdf"?S=yield g.blob():y==="text/event-stream"?S=g:y==="multipart/form-data"?S=yield g.formData():S=yield g.text(),{data:S,error:null,response:g}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new Cd(i)}:{data:null,error:i,response:i instanceof Td||i instanceof jd?i.context:void 0}}})}}var ze={};const Vr=nh(uw);var _i={},Si={},xi={},Ei={},bi={},pw=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},$r=pw();const mw=$r.fetch,pm=$r.fetch.bind($r),mm=$r.Headers,gw=$r.Request,vw=$r.Response,Gn=Object.freeze(Object.defineProperty({__proto__:null,Headers:mm,Request:gw,Response:vw,default:pm,fetch:mw},Symbol.toStringTag,{value:"Module"})),yw=nh(Gn);var ki={},Pd;function gm(){if(Pd)return ki;Pd=1,Object.defineProperty(ki,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return ki.default=e,ki}var Nd;function vm(){if(Nd)return bi;Nd=1,Object.defineProperty(bi,"__esModule",{value:!0});const e=Vr,t=e.__importDefault(yw),n=e.__importDefault(gm());class r{constructor(i){var o,a;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(o=i.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=i.signal,this.isMaybeSingle=(a=i.isMaybeSingle)!==null&&a!==void 0?a:!1,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=new Headers(this.headers),this.headers.set(i,o),this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var c,h,d,g;let w=null,y=null,S=null,f=u.status,p=u.statusText;if(u.ok){if(this.method!=="HEAD"){const j=await u.text();j===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((c=this.headers.get("Accept"))===null||c===void 0)&&c.includes("application/vnd.pgrst.plan+text"))?y=j:y=JSON.parse(j))}const _=(h=this.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),b=(d=u.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");_&&b&&b.length>1&&(S=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(w={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,S=null,f=406,p="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const _=await u.text();try{w=JSON.parse(_),Array.isArray(w)&&u.status===404&&(y=[],w=null,f=200,p="OK")}catch{u.status===404&&_===""?(f=204,p="No Content"):w={message:_}}if(w&&this.isMaybeSingle&&(!((g=w==null?void 0:w.details)===null||g===void 0)&&g.includes("0 rows"))&&(w=null,f=200,p="OK"),w&&this.shouldThrowOnError)throw new n.default(w)}return{error:w,data:y,count:S,status:f,statusText:p}});return this.shouldThrowOnError||(l=l.catch(u=>{var c,h,d;return{error:{message:`${(c=u==null?void 0:u.name)!==null&&c!==void 0?c:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(h=u==null?void 0:u.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(d=u==null?void 0:u.code)!==null&&d!==void 0?d:""}`},data:null,count:null,status:0,statusText:""}})),l.then(i,o)}returns(){return this}overrideTypes(){return this}}return bi.default=r,bi}var Od;function ym(){if(Od)return Ei;Od=1,Object.defineProperty(Ei,"__esModule",{value:!0});const t=Vr.__importDefault(vm());class n extends t.default{select(s){let i=!1;const o=(s??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.order`:"order",c=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${c?`${c},`:""}${s}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${s}`),this}range(s,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${s}`),this.url.searchParams.set(u,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:u="text"}={}){var c;const h=[s?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),d=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${d}"; options=${h};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return Ei.default=n,Ei}var Rd;function Ju(){if(Rd)return xi;Rd=1,Object.defineProperty(xi,"__esModule",{value:!0});const t=Vr.__importDefault(ym());class n extends t.default{eq(s,i){return this.url.searchParams.append(s,`eq.${i}`),this}neq(s,i){return this.url.searchParams.append(s,`neq.${i}`),this}gt(s,i){return this.url.searchParams.append(s,`gt.${i}`),this}gte(s,i){return this.url.searchParams.append(s,`gte.${i}`),this}lt(s,i){return this.url.searchParams.append(s,`lt.${i}`),this}lte(s,i){return this.url.searchParams.append(s,`lte.${i}`),this}like(s,i){return this.url.searchParams.append(s,`like.${i}`),this}likeAllOf(s,i){return this.url.searchParams.append(s,`like(all).{${i.join(",")}}`),this}likeAnyOf(s,i){return this.url.searchParams.append(s,`like(any).{${i.join(",")}}`),this}ilike(s,i){return this.url.searchParams.append(s,`ilike.${i}`),this}ilikeAllOf(s,i){return this.url.searchParams.append(s,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(s,i){return this.url.searchParams.append(s,`ilike(any).{${i.join(",")}}`),this}is(s,i){return this.url.searchParams.append(s,`is.${i}`),this}in(s,i){const o=Array.from(new Set(i)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(s,`in.(${o})`),this}contains(s,i){return typeof i=="string"?this.url.searchParams.append(s,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(s,`cs.{${i.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(i)}`),this}containedBy(s,i){return typeof i=="string"?this.url.searchParams.append(s,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(s,`cd.{${i.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(i)}`),this}rangeGt(s,i){return this.url.searchParams.append(s,`sr.${i}`),this}rangeGte(s,i){return this.url.searchParams.append(s,`nxl.${i}`),this}rangeLt(s,i){return this.url.searchParams.append(s,`sl.${i}`),this}rangeLte(s,i){return this.url.searchParams.append(s,`nxr.${i}`),this}rangeAdjacent(s,i){return this.url.searchParams.append(s,`adj.${i}`),this}overlaps(s,i){return typeof i=="string"?this.url.searchParams.append(s,`ov.${i}`):this.url.searchParams.append(s,`ov.{${i.join(",")}}`),this}textSearch(s,i,{config:o,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const u=o===void 0?"":`(${o})`;return this.url.searchParams.append(s,`${l}fts${u}.${i}`),this}match(s){return Object.entries(s).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(s,i,o){return this.url.searchParams.append(s,`not.${i}.${o}`),this}or(s,{foreignTable:i,referencedTable:o=i}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${s})`),this}filter(s,i,o){return this.url.searchParams.append(s,`${i}.${o}`),this}}return xi.default=n,xi}var Id;function wm(){if(Id)return Si;Id=1,Object.defineProperty(Si,"__esModule",{value:!0});const t=Vr.__importDefault(Ju());class n{constructor(s,{headers:i={},schema:o,fetch:a}){this.url=s,this.headers=new Headers(i),this.schema=o,this.fetch=a}select(s,i){const{head:o=!1,count:a}=i??{},l=o?"HEAD":"GET";let u=!1;const c=(s??"*").split("").map(h=>/\s/.test(h)&&!u?"":(h==='"'&&(u=!u),h)).join("");return this.url.searchParams.set("select",c),a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:o=!0}={}){var a;const l="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const u=s.reduce((c,h)=>c.concat(Object.keys(h)),[]);if(u.length>0){const c=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",c.join(","))}}return new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){var u;const c="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const h=s.reduce((d,g)=>d.concat(Object.keys(g)),[]);if(h.length>0){const d=[...new Set(h)].map(g=>`"${g}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(s,{count:i}={}){var o;const a="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:s}={}){var i;const o="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return Si.default=n,Si}var $d;function ww(){if($d)return _i;$d=1,Object.defineProperty(_i,"__esModule",{value:!0});const e=Vr,t=e.__importDefault(wm()),n=e.__importDefault(Ju());class r{constructor(i,{headers:o={},schema:a,fetch:l}={}){this.url=i,this.headers=new Headers(o),this.schemaName=a,this.fetch=l}from(i){const o=new URL(`${this.url}/${i}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new r(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:a=!1,get:l=!1,count:u}={}){var c;let h;const d=new URL(`${this.url}/rpc/${i}`);let g;a||l?(h=a?"HEAD":"GET",Object.entries(o).filter(([y,S])=>S!==void 0).map(([y,S])=>[y,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([y,S])=>{d.searchParams.append(y,S)})):(h="POST",g=o);const w=new Headers(this.headers);return u&&w.set("Prefer",`count=${u}`),new n.default({method:h,url:d,headers:w,schema:this.schemaName,body:g,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}}return _i.default=r,_i}Object.defineProperty(ze,"__esModule",{value:!0});ze.PostgrestError=ze.PostgrestBuilder=ze.PostgrestTransformBuilder=ze.PostgrestFilterBuilder=ze.PostgrestQueryBuilder=ze.PostgrestClient=void 0;const qr=Vr,_m=qr.__importDefault(ww());ze.PostgrestClient=_m.default;const Sm=qr.__importDefault(wm());ze.PostgrestQueryBuilder=Sm.default;const xm=qr.__importDefault(Ju());ze.PostgrestFilterBuilder=xm.default;const Em=qr.__importDefault(ym());ze.PostgrestTransformBuilder=Em.default;const bm=qr.__importDefault(vm());ze.PostgrestBuilder=bm.default;const km=qr.__importDefault(gm());ze.PostgrestError=km.default;var _w=ze.default={PostgrestClient:_m.default,PostgrestQueryBuilder:Sm.default,PostgrestFilterBuilder:xm.default,PostgrestTransformBuilder:Em.default,PostgrestBuilder:bm.default,PostgrestError:km.default};const{PostgrestClient:Sw,PostgrestQueryBuilder:eS,PostgrestFilterBuilder:tS,PostgrestTransformBuilder:nS,PostgrestBuilder:rS,PostgrestError:sS}=_w;class xw{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Ew="2.76.1",bw=`realtime-js/${Ew}`,kw="1.0.0",Rl=1e4,Cw=1e3,jw=100;var Ss;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ss||(Ss={}));var we;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(we||(we={}));var vt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(vt||(vt={}));var Il;(function(e){e.websocket="websocket"})(Il||(Il={}));var On;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(On||(On={}));class Tw{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(t.slice(o,o+s));o=o+s;const l=r.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class Cm{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Z;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Z||(Z={}));const Ad=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=Pw(o,e,t,s),i),{}):{}},Pw=(e,t,n,r)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=n[e];return i&&!r.includes(i)?jm(i,o):$l(o)},jm=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return Iw(t,n)}switch(e){case Z.bool:return Nw(t);case Z.float4:case Z.float8:case Z.int2:case Z.int4:case Z.int8:case Z.numeric:case Z.oid:return Ow(t);case Z.json:case Z.jsonb:return Rw(t);case Z.timestamp:return $w(t);case Z.abstime:case Z.date:case Z.daterange:case Z.int4range:case Z.int8range:case Z.money:case Z.reltime:case Z.text:case Z.time:case Z.timestamptz:case Z.timetz:case Z.tsrange:case Z.tstzrange:return $l(t);default:return $l(t)}},$l=e=>e,Nw=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Ow=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Rw=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Iw=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>jm(t,a))}return e},$w=e=>typeof e=="string"?e.replace(" ","T"):e,Tm=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class _a{constructor(t,n,r={},s=Rl){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Ld;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Ld||(Ld={}));class xs{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=xs.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=xs.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=xs.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),o=this.transformState(n),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const h=i[u];if(h){const d=c.map(S=>S.presence_ref),g=h.map(S=>S.presence_ref),w=c.filter(S=>g.indexOf(S.presence_ref)<0),y=h.filter(S=>d.indexOf(S.presence_ref)<0);w.length>0&&(a[u]=w),y.length>0&&(l[u]=y)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(l),c.length>0){const h=t[a].map(g=>g.presence_ref),d=c.filter(g=>h.indexOf(g.presence_ref)<0);t[a].unshift(...d)}r(a,c,l)}),this.map(o,(a,l)=>{let u=t[a];if(!u)return;const c=l.map(h=>h.presence_ref);u=u.filter(h=>c.indexOf(h.presence_ref)<0),t[a]=u,s(a,u,l),u.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Dd;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Dd||(Dd={}));var Es;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Es||(Es={}));var Lt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Lt||(Lt={}));class Qu{constructor(t,n={config:{}},r){var s,i;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=we.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new _a(this,vt.join,this.params,this.timeout),this.rejoinTimer=new Cm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=we.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=we.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=we.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=we.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=we.errored,this.rejoinTimer.scheduleTimeout())}),this._on(vt.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new xs(this),this.broadcastEndpointURL=Tm(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==we.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,u=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(g=>g.filter))!==null&&s!==void 0?s:[],c=!!this.bindings[Es.PRESENCE]&&this.bindings[Es.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},d={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(g=>t==null?void 0:t(Lt.CHANNEL_ERROR,g)),this._onClose(()=>t==null?void 0:t(Lt.CLOSED)),this.updateJoinPayload(Object.assign({config:d},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:g})=>{var w;if(this.socket.setAuth(),g===void 0){t==null||t(Lt.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,S=(w=y==null?void 0:y.length)!==null&&w!==void 0?w:0,f=[];for(let p=0;p<S;p++){const m=y[p],{filter:{event:_,schema:b,table:j,filter:k}}=m,P=g&&g[p];if(P&&P.event===_&&P.schema===b&&P.table===j&&P.filter===k)f.push(Object.assign(Object.assign({},m),{id:P.id}));else{this.unsubscribe(),this.state=we.errored,t==null||t(Lt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=f,t&&t(Lt.SUBSCRIBED);return}}).receive("error",g=>{this.state=we.errored,t==null||t(Lt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Lt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===we.joined&&t===Es.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const u=await a.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=we.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(vt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new _a(this,vt.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=we.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new _a(this,t,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>jw){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=vt;if(r&&[a,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let d=this._onMessage(o,n,r);if(n&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var w,y,S;return((w=g.filter)===null||w===void 0?void 0:w.event)==="*"||((S=(y=g.filter)===null||y===void 0?void 0:y.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===o}).map(g=>g.callback(d,r)):(i=this.bindings[o])===null||i===void 0||i.filter(g=>{var w,y,S,f,p,m;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const _=g.id,b=(w=g.filter)===null||w===void 0?void 0:w.event;return _&&((y=n.ids)===null||y===void 0?void 0:y.includes(_))&&(b==="*"||(b==null?void 0:b.toLocaleLowerCase())===((S=n.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const _=(p=(f=g==null?void 0:g.filter)===null||f===void 0?void 0:f.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return _==="*"||_===((m=n==null?void 0:n.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof d=="object"&&"ids"in d){const w=d.data,{schema:y,table:S,commit_timestamp:f,type:p,errors:m}=w;d=Object.assign(Object.assign({},{schema:y,table:S,commit_timestamp:f,eventType:p,new:{},old:{},errors:m}),this._getPayloadRecords(w))}g.callback(d,r)})}_isClosed(){return this.state===we.closed}_isJoined(){return this.state===we.joined}_isJoining(){return this.state===we.joining}_isLeaving(){return this.state===we.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Qu.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(vt.close,{},t)}_onError(t){this._on(vt.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=we.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Ad(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Ad(t.columns,t.old_record)),n}}const Sa=()=>{},Ci={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Aw=[1e3,2e3,5e3,1e4],Lw=1e4,Dw=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Bw{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Rl,this.transport=null,this.heartbeatIntervalMs=Ci.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Sa,this.ref=0,this.reconnectTimer=null,this.logger=Sa,this.conn=null,this.sendBuffer=[],this.serializer=new Tw,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>Hr(async()=>{const{default:a}=await Promise.resolve().then(()=>Gn);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Il.websocket}`,this.httpEndpoint=Tm(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=xw.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:kw}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ss.connecting:return On.Connecting;case Ss.open:return On.Open;case Ss.closing:return On.Closing;default:return On.Closed}}isConnected(){return this.connectionState()===On.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new Qu(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:r,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Cw,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Ci.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:i,ref:o}=n,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${r} ${s} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(vt.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([Dw],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:bw};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(vt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Cm(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ci.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,s,i,o,a,l,u,c;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:Rl,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Ci.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=t==null?void 0:t.heartbeatCallback)!==null&&a!==void 0?a:Sa,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=t==null?void 0:t.reconnectAfterMs)!==null&&l!==void 0?l:h=>Aw[h-1]||Lw,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(h,d)=>d(JSON.stringify(h)),this.decode=(c=t==null?void 0:t.decode)!==null&&c!==void 0?c:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Xu extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ae(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Mw extends Xu{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Al extends Xu{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}const Zu=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Hr(async()=>{const{default:r}=await Promise.resolve().then(()=>Gn);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Uw=()=>D(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Hr(()=>Promise.resolve().then(()=>Gn),void 0)).Response:Response}),Ll=e=>{if(Array.isArray(e))return e.map(n=>Ll(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Ll(r)}),t},Fw=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},xa=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),zw=(e,t,n)=>D(void 0,void 0,void 0,function*(){const r=yield Uw();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{const i=e.status||500,o=(s==null?void 0:s.statusCode)||i+"";t(new Mw(xa(s),i,o))}).catch(s=>{t(new Al(xa(s),s))}):t(new Al(xa(e),e))}),Ww=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?s:(Fw(r)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),n))};function ti(e,t,n,r,s,i){return D(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(n,Ww(t,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>zw(l,a,r))})})}function Ws(e,t,n,r){return D(this,void 0,void 0,function*(){return ti(e,"GET",t,n,r)})}function mt(e,t,n,r,s){return D(this,void 0,void 0,function*(){return ti(e,"POST",t,r,s,n)})}function Dl(e,t,n,r,s){return D(this,void 0,void 0,function*(){return ti(e,"PUT",t,r,s,n)})}function Hw(e,t,n,r){return D(this,void 0,void 0,function*(){return ti(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function ec(e,t,n,r,s){return D(this,void 0,void 0,function*(){return ti(e,"DELETE",t,r,s,n)})}class Vw{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return D(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ae(t))return{data:null,error:t};throw t}})}}var Pm;class qw{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[Pm]="BlobDownloadBuilder",this.promise=null}asStream(){return new Vw(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return D(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ae(t))return{data:null,error:t};throw t}})}}Pm=Symbol.toStringTag;const Yw={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Bd={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Kw{constructor(t,n={},r,s){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=Zu(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,s){return D(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Bd),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(n),c=this._getFinalPath(u),h=yield(t=="PUT"?Dl:mt)(this.fetch,`${this.url}/object/${c}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ae(i))return{data:null,error:i};throw i}})}upload(t,n,r){return D(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return D(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:Bd.upsert},s),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const h=yield Dl(this.fetch,a.toString(),l,{headers:c});return{data:{path:i,fullPath:h.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ae(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return D(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield mt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Xu("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ae(r))return{data:null,error:r};throw r}})}update(t,n,r){return D(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return D(this,void 0,void 0,function*(){try{return{data:yield mt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ae(s))return{data:null,error:s};throw s}})}copy(t,n,r){return D(this,void 0,void 0,function*(){try{return{data:{path:(yield mt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ae(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return D(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield mt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ae(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return D(this,void 0,void 0,function*(){try{const s=yield mt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ae(s))return{data:null,error:s};throw s}})}download(t,n){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"",a=this._getFinalPath(t),l=()=>Ws(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new qw(l,this.shouldThrowOnError)}info(t){return D(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Ws(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Ll(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ae(r))return{data:null,error:r};throw r}})}exists(t){return D(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield Hw(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ae(r)&&r instanceof Al){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(t){return D(this,void 0,void 0,function*(){try{return{data:yield ec(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ae(n))return{data:null,error:n};throw n}})}list(t,n,r){return D(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Yw),n),{prefix:t||""});return{data:yield mt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ae(s))return{data:null,error:s};throw s}})}listV2(t,n){return D(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield mt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ae(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const Nm="2.76.1",Om={"X-Client-Info":`storage-js/${Nm}`};class Gw{constructor(t,n={},r,s){this.shouldThrowOnError=!1;const i=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Om),n),this.fetch=Zu(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return D(this,void 0,void 0,function*(){try{return{data:yield Ws(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ae(t))return{data:null,error:t};throw t}})}getBucket(t){return D(this,void 0,void 0,function*(){try{return{data:yield Ws(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ae(n))return{data:null,error:n};throw n}})}createBucket(t){return D(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield mt(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ae(s))return{data:null,error:s};throw s}})}updateBucket(t,n){return D(this,void 0,void 0,function*(){try{return{data:yield Dl(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ae(r))return{data:null,error:r};throw r}})}emptyBucket(t){return D(this,void 0,void 0,function*(){try{return{data:yield mt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ae(n))return{data:null,error:n};throw n}})}deleteBucket(t){return D(this,void 0,void 0,function*(){try{return{data:yield ec(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ae(n))return{data:null,error:n};throw n}})}}class Jw{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Om),n),this.fetch=Zu(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return D(this,void 0,void 0,function*(){try{return{data:yield mt(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ae(n))return{data:null,error:n};throw n}})}listBuckets(t){return D(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const r=n.toString(),s=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`,i=yield Ws(this.fetch,s,{headers:this.headers});return{data:Array.isArray(i)?i.filter(a=>a.type==="ANALYTICS"):[],error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ae(n))return{data:null,error:n};throw n}})}deleteBucket(t){return D(this,void 0,void 0,function*(){try{return{data:yield ec(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ae(n))return{data:null,error:n};throw n}})}}const tc={"X-Client-Info":`storage-js/${Nm}`,"Content-Type":"application/json"};class Rm extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Ge(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Ea extends Rm{constructor(t,n,r){super(t),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Qw extends Rm{constructor(t,n){super(t),this.name="StorageVectorsUnknownError",this.originalError=n}}var Md;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Md||(Md={}));const nc=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Hr(async()=>{const{default:r}=await Promise.resolve().then(()=>Gn);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Xw=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Ud=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Zw=(e,t,n)=>D(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const s=e.status||500,i=e;if(typeof i.json=="function")i.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||s+"";t(new Ea(Ud(o),s,a))}).catch(()=>{const o=s+"",a=i.statusText||`HTTP ${s} error`;t(new Ea(a,s,o))});else{const o=s+"",a=i.statusText||`HTTP ${s} error`;t(new Ea(a,s,o))}}else t(new Qw(Ud(e),e))}),e2=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return r?(Xw(r)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,Object.assign(Object.assign({},s),n)):s};function t2(e,t,n,r,s,i){return D(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(n,e2(t,r,s,i)).then(l=>{if(!l.ok)throw l;if(r!=null&&r.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>Zw(l,a,r))})})}function Je(e,t,n,r,s){return D(this,void 0,void 0,function*(){return t2(e,"POST",t,r,s,n)})}class n2{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},tc),n),this.fetch=nc(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return D(this,void 0,void 0,function*(){try{return{data:(yield Je(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ge(n))return{data:null,error:n};throw n}})}getIndex(t,n){return D(this,void 0,void 0,function*(){try{return{data:yield Je(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ge(r))return{data:null,error:r};throw r}})}listIndexes(t){return D(this,void 0,void 0,function*(){try{return{data:yield Je(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ge(n))return{data:null,error:n};throw n}})}deleteIndex(t,n){return D(this,void 0,void 0,function*(){try{return{data:(yield Je(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ge(r))return{data:null,error:r};throw r}})}}class r2{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},tc),n),this.fetch=nc(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return D(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Je(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ge(n))return{data:null,error:n};throw n}})}getVectors(t){return D(this,void 0,void 0,function*(){try{return{data:yield Je(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ge(n))return{data:null,error:n};throw n}})}listVectors(t){return D(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Je(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ge(n))return{data:null,error:n};throw n}})}queryVectors(t){return D(this,void 0,void 0,function*(){try{return{data:yield Je(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ge(n))return{data:null,error:n};throw n}})}deleteVectors(t){return D(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Je(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ge(n))return{data:null,error:n};throw n}})}}class s2{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},tc),n),this.fetch=nc(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return D(this,void 0,void 0,function*(){try{return{data:(yield Je(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ge(n))return{data:null,error:n};throw n}})}getBucket(t){return D(this,void 0,void 0,function*(){try{return{data:yield Je(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ge(n))return{data:null,error:n};throw n}})}listBuckets(){return D(this,arguments,void 0,function*(t={}){try{return{data:yield Je(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ge(n))return{data:null,error:n};throw n}})}deleteBucket(t){return D(this,void 0,void 0,function*(){try{return{data:(yield Je(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ge(n))return{data:null,error:n};throw n}})}}class i2 extends s2{constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new o2(this.url,this.headers,t,this.fetch)}}class o2 extends n2{constructor(t,n,r,s){super(t,n,s),this.vectorBucketName=r}createIndex(t){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return D(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return D(this,arguments,void 0,function*(n={}){return t.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return D(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return D(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new a2(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class a2 extends r2{constructor(t,n,r,s,i){super(t,n,i),this.vectorBucketName=r,this.indexName=s}putVectors(t){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return D(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return D(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return D(this,arguments,void 0,function*(n={}){return t.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return D(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return D(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class l2 extends Gw{constructor(t,n={},r,s){super(t,n,r,s)}from(t){return new Kw(this.url,this.headers,t,this.fetch)}get vectors(){return new i2(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Jw(this.url+"/iceberg",this.headers,this.fetch)}}const u2="2.76.1";let ls="";typeof Deno<"u"?ls="deno":typeof document<"u"?ls="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ls="react-native":ls="node";const c2={"X-Client-Info":`supabase-js-${ls}/${u2}`},d2={headers:c2},h2={schema:"public"},f2={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},p2={},m2=e=>{let t;return e?t=e:typeof fetch>"u"?t=pm:t=fetch,(...n)=>t(...n)},g2=()=>typeof Headers>"u"?mm:Headers,v2=(e,t,n)=>{const r=m2(n),s=g2();return async(i,o)=>{var a;const l=(a=await t())!==null&&a!==void 0?a:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:u}))}};function y2(e){return e.endsWith("/")?e:e+"/"}function w2(e,t){var n,r;const{db:s,auth:i,realtime:o,global:a}=e,{db:l,auth:u,realtime:c,global:h}=t,d={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},c),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}function _2(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(y2(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Im="2.76.1",rr=30*1e3,Bl=3,ba=Bl*rr,S2="http://localhost:9999",x2="supabase.auth.token",E2={"X-Client-Info":`gotrue-js/${Im}`},Ml="X-Supabase-Api-Version",$m={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},b2=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,k2=10*60*1e3;class Hs extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function B(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class C2 extends Hs{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function j2(e){return B(e)&&e.name==="AuthApiError"}class Rn extends Hs{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class kn extends Hs{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class Zt extends kn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function T2(e){return B(e)&&e.name==="AuthSessionMissingError"}class Xn extends kn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ji extends kn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ti extends kn{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function P2(e){return B(e)&&e.name==="AuthImplicitGrantRedirectError"}class Fd extends kn{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ul extends kn{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function ka(e){return B(e)&&e.name==="AuthRetryableFetchError"}class zd extends kn{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Fl extends kn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const So="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Wd=` 	
\r=`.split(""),N2=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Wd.length;t+=1)e[Wd[t].charCodeAt(0)]=-2;for(let t=0;t<So.length;t+=1)e[So[t].charCodeAt(0)]=t;return e})();function Hd(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(So[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(So[r]),t.queuedBits-=6}}function Am(e,t,n){const r=N2[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Vd(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{I2(o,r,n)};for(let o=0;o<e.length;o+=1)Am(e.charCodeAt(o),s,i);return t.join("")}function O2(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function R2(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}O2(r,t)}}function I2(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function kr(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Am(e.charCodeAt(s),n,r);return new Uint8Array(t)}function $2(e){const t=[];return R2(e,n=>t.push(n)),new Uint8Array(t)}function Dn(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>Hd(s,n,r)),Hd(null,n,r),t.join("")}function A2(e){return Math.round(Date.now()/1e3)+e}function L2(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Ye=()=>typeof window<"u"&&typeof document<"u",Cn={tested:!1,writable:!1},Lm=()=>{if(!Ye())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Cn.tested)return Cn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Cn.tested=!0,Cn.writable=!0}catch{Cn.tested=!0,Cn.writable=!1}return Cn.writable};function D2(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const Dm=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Hr(async()=>{const{default:r}=await Promise.resolve().then(()=>Gn);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},B2=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",sr=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},jn=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Xt=async(e,t)=>{await e.removeItem(t)};class Wo{constructor(){this.promise=new Wo.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Wo.promiseConstructor=Promise;function Ca(e){const t=e.split(".");if(t.length!==3)throw new Fl("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!b2.test(t[r]))throw new Fl("JWT not in base64url format");return{header:JSON.parse(Vd(t[0])),payload:JSON.parse(Vd(t[1])),signature:kr(t[2]),raw:{header:t[0],payload:t[1]}}}async function M2(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function U2(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function F2(e){return("0"+e.toString(16)).substr(-2)}function z2(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,F2).join("")}async function W2(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function H2(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await W2(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Zn(e,t,n=!1){const r=z2();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await sr(e,`${t}-code-verifier`,s);const i=await H2(r);return[i,r===i?"plain":"s256"]}const V2=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function q2(e){const t=e.headers.get(Ml);if(!t||!t.match(V2))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Y2(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function K2(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const G2=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function er(e){if(!G2.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ja(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function qd(e){return JSON.parse(JSON.stringify(e))}const Nn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),J2=[502,503,504];async function Yd(e){var t;if(!B2(e))throw new Ul(Nn(e),0);if(J2.includes(e.status))throw new Ul(Nn(e),e.status);let n;try{n=await e.json()}catch(i){throw new Rn(Nn(i),i)}let r;const s=q2(e);if(s&&s.getTime()>=$m["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new zd(Nn(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Zt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new zd(Nn(n),e.status,n.weak_password.reasons);throw new C2(Nn(n),e.status||500,r)}const Q2=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function z(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[Ml]||(i[Ml]=$m["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await X2(e,t,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function X2(e,t,n,r,s,i){const o=Q2(t,r,s,i);let a;try{a=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new Ul(Nn(l),0)}if(a.ok||await Yd(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await Yd(l)}}function ft(e){var t;let n=null;t_(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=A2(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Kd(e){const t=ft(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function sn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Z2(e){return{data:e,error:null}}function e_(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,o=Wr(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Gd(e){return e}function t_(e){return e.access_token&&e.refresh_token&&e.expires_in}const Ta=["global","local","others"];class n_{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Dm(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Ta[0]){if(Ta.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ta.join(", ")}`);try{return await z(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(B(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await z(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:sn})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Wr(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await z(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:e_,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(B(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await z(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:sn})}catch(n){if(B(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await z(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Gd});if(c.error)throw c.error;const h=await c.json(),d=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(w=>{const y=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(w.split(";")[1].split("=")[1]);u[`${S}Page`]=y}),u.total=parseInt(d)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(B(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){er(t);try{return await z(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:sn})}catch(n){if(B(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){er(t);try{return await z(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:sn})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){er(t);try{return await z(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:sn})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){er(t.userId);try{const{data:n,error:r}=await z(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(B(n))return{data:null,error:n};throw n}}async _deleteFactor(t){er(t.userId),er(t.id);try{return{data:await z(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(B(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await z(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Gd});if(c.error)throw c.error;const h=await c.json(),d=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(w=>{const y=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(w.split(";")[1].split("=")[1]);u[`${S}Page`]=y}),u.total=parseInt(d)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(B(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await z(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(B(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await z(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(B(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await z(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(B(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await z(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(B(n))return{data:null,error:n};throw n}}}function Jd(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const tr={debug:!!(globalThis&&Lm()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Bm extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class r_ extends Bm{}async function s_(e,t,n){tr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),tr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){tr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{tr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw tr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new r_(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(tr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function i_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Mm(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function o_(e){return parseInt(e,16)}function a_(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function l_(e){var t;const{chainId:n,domain:r,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:u,scheme:c,uri:h,version:d}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(d!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${d}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const g=Mm(e.address),w=c?`${c}://${r}`:r,y=e.statement?`${e.statement}
`:"",S=`${w} wants you to sign in with your Ethereum account:
${g}

${y}`;let f=`URI: ${h}
Version: ${d}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(f+=`
Expiration Time: ${s.toISOString()}`),a&&(f+=`
Not Before: ${a.toISOString()}`),l&&(f+=`
Request ID: ${l}`),u){let p=`
Resources:`;for(const m of u){if(!m||typeof m!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${m}`);p+=`
- ${m}`}f+=p}return`${S}
${f}`}class ve extends Error{constructor({message:t,code:n,cause:r,name:s}){var i;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=s??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class xo extends ve{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function u_({error:e,options:t}){var n,r,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ve({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new ve({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new ve({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new ve({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new ve({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new ve({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new ve({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new ve({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(Um(o)){if(i.rp.id!==o)return new ve({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ve({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new ve({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new ve({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ve({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function c_({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ve({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new ve({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(Um(r)){if(n.rpId!==r)return new ve({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ve({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new ve({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ve({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class d_{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const h_=new d_;function f_(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,s=Wr(e,["challenge","user","excludeCredentials"]),i=kr(t).buffer,o=Object.assign(Object.assign({},n),{id:kr(n.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:i,user:o});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];a.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:kr(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function p_(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=Wr(e,["challenge","allowCredentials"]),s=kr(t).buffer,i=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const a=n[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:kr(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function m_(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Dn(new Uint8Array(e.response.attestationObject)),clientDataJSON:Dn(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function g_(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Dn(new Uint8Array(s.authenticatorData)),clientDataJSON:Dn(new Uint8Array(s.clientDataJSON)),signature:Dn(new Uint8Array(s.signature)),userHandle:s.userHandle?Dn(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Um(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Qd(){var e,t;return!!(Ye()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function v_(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new xo("Browser returned unexpected credential type",t)}:{data:null,error:new xo("Empty credential response",t)}}catch(t){return{data:null,error:u_({error:t,options:e})}}}async function y_(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new xo("Browser returned unexpected credential type",t)}:{data:null,error:new xo("Empty credential response",t)}}catch(t){return{data:null,error:c_({error:t,options:e})}}}const w_={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},__={userVerification:"preferred",hints:["security-key"]};function Eo(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of e)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))r[i]=o;else if(n(o))r[i]=o;else if(t(o)){const a=r[i];t(a)?r[i]=Eo(a,o):r[i]=Eo(o)}else r[i]=o}return r}function S_(e,t){return Eo(w_,e,t||{})}function x_(e,t){return Eo(__,e,t||{})}class E_{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:s},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!o)return{data:null,error:a};const l=s??h_.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=S_(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:c,error:h}=await v_({publicKey:u,signal:l});return c?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:h}}case"request":{const u=x_(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:c,error:h}=await y_(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:l}));return c?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:h}}}}catch(o){return B(o)?{data:null,error:o}:{data:null,error:new Rn("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}},i){if(!n)return{data:null,error:new Hs("rpId is required for WebAuthn authentication")};try{if(!Qd())return{data:null,error:new Rn("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(o){return B(o)?{data:null,error:o}:{data:null,error:new Rn("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s},i){if(!n)return{data:null,error:new Hs("rpId is required for WebAuthn registration")};try{if(!Qd())return{data:null,error:new Rn("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(c=>{var h;return(h=c.data)===null||h===void 0?void 0:h.all.find(d=>d.factor_type==="webauthn"&&d.friendly_name===t&&d.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:a};const{data:l,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(o){return B(o)?{data:null,error:o}:{data:null,error:new Rn("Unexpected error in register",o)}}}}i_();const b_={url:S2,storageKey:x2,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:E2,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Xd(e,t,n){return await n()}const nr={};class Vs{get jwks(){var t,n;return(n=(t=nr[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){nr[this.storageKey]=Object.assign(Object.assign({},nr[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=nr[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){nr[this.storageKey]=Object.assign(Object.assign({},nr[this.storageKey]),{cachedAt:t})}constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Vs.nextInstanceID,Vs.nextInstanceID+=1,this.instanceID>0&&Ye()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},b_),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new n_({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Dm(s.fetch),this.lock=s.lock||Xd,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Ye()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=s_:this.lock=Xd,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new E_(this)},this.persistSession?(s.storage?this.storage=s.storage:Lm()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Jd(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Jd(this.memoryStorage)),Ye()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Im}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=D2(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Ye()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),P2(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return B(n)?{error:n}:{error:new Rn("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:ft}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(B(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:c,password:h,options:d}=t;let g=null,w=null;this.flowType==="pkce"&&([g,w]=await Zn(this.storage,this.storageKey)),i=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d==null?void 0:d.emailRedirectTo,body:{email:c,password:h,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:g,code_challenge_method:w},xform:ft})}else if("phone"in t){const{phone:c,password:h,options:d}=t;i=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:h,data:(r=d==null?void 0:d.data)!==null&&r!==void 0?r:{},channel:(s=d==null?void 0:d.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:ft})}else throw new ji("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(B(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:a}=t;n=await z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Kd})}else if("phone"in t){const{phone:i,password:o,options:a}=t;n=await z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Kd})}else throw new ji("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Xn}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(B(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,s,i,o,a,l,u,c,h,d;let g,w;if("message"in t)g=t.message,w=t.signature;else{const{chain:y,wallet:S,statement:f,options:p}=t;let m;if(Ye())if(typeof S=="object")m=S;else{const L=window;if("ethereum"in L&&typeof L.ethereum=="object"&&"request"in L.ethereum&&typeof L.ethereum.request=="function")m=L.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");m=S}const _=new URL((n=p==null?void 0:p.url)!==null&&n!==void 0?n:window.location.href),b=await m.request({method:"eth_requestAccounts"}).then(L=>L).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!b||b.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const j=Mm(b[0]);let k=(r=p==null?void 0:p.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!k){const L=await m.request({method:"eth_chainId"});k=o_(L)}const P={domain:_.host,address:j,statement:f,uri:_.href,version:"1",chainId:k,nonce:(s=p==null?void 0:p.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=p==null?void 0:p.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=p==null?void 0:p.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=p==null?void 0:p.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=p==null?void 0:p.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=p==null?void 0:p.signInWithEthereum)===null||c===void 0?void 0:c.resources};g=l_(P),w=await m.request({method:"personal_sign",params:[a_(g),j]})}try{const{data:y,error:S}=await z(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:w},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(d=t.options)===null||d===void 0?void 0:d.captchaToken}}:null),xform:ft});if(S)throw S;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new Xn}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:S})}catch(y){if(B(y))return{data:{user:null,session:null},error:y};throw y}}async signInWithSolana(t){var n,r,s,i,o,a,l,u,c,h,d,g;let w,y;if("message"in t)w=t.message,y=t.signature;else{const{chain:S,wallet:f,statement:p,options:m}=t;let _;if(Ye())if(typeof f=="object")_=f;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))_=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof f!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=f}const b=new URL((n=m==null?void 0:m.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in _&&_.signIn){const j=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},m==null?void 0:m.signInWithSolana),{version:"1",domain:b.host,uri:b.href}),p?{statement:p}:null));let k;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")k=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)k=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)w=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),y=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${b.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${b.href}`,`Issued At: ${(s=(r=m==null?void 0:m.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=m==null?void 0:m.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${m.signInWithSolana.notBefore}`]:[],...!((o=m==null?void 0:m.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${m.signInWithSolana.expirationTime}`]:[],...!((a=m==null?void 0:m.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${m.signInWithSolana.chainId}`]:[],...!((l=m==null?void 0:m.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${m.signInWithSolana.nonce}`]:[],...!((u=m==null?void 0:m.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${m.signInWithSolana.requestId}`]:[],...!((h=(c=m==null?void 0:m.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||h===void 0)&&h.length?["Resources",...m.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const j=await _.signMessage(new TextEncoder().encode(w),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=j}}try{const{data:S,error:f}=await z(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:Dn(y)},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:ft});if(f)throw f;return!S||!S.session||!S.user?{data:{user:null,session:null},error:new Xn}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),{data:Object.assign({},S),error:f})}catch(S){if(B(S))return{data:{user:null,session:null},error:S};throw S}}async _exchangeCodeForSession(t){const n=await jn(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await z(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:ft});if(await Xt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Xn}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(B(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=t,a=await z(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:ft}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Xn}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(n){if(B(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,i,o;try{if("email"in t){const{email:a,options:l}=t;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Zn(this.storage,this.storageKey));const{error:h}=await z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:a,options:l}=t,{data:u,error:c}=await z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new ji("You must provide either an email or phone number.")}catch(a){if(B(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await z(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:ft});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(B(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Zn(this.storage,this.storageKey)),await z(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Z2})}catch(i){if(B(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Zt;const{error:s}=await z(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(B(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:o}=await z(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:o,error:a}=await z(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new ji("You must provide either an email or phone number and a type")}catch(n){if(B(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await jn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<ba:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await jn(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=ja()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:sn}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Zt}:await z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:sn})})}catch(n){if(B(n))return T2(n)&&(await this._removeSession(),await Xt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Zt;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await Zn(this.storage,this.storageKey));const{data:u,error:c}=await z(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:sn});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Zt;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=Ca(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{data:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(B(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Zt;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(B(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Ye())throw new Ti("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ti(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Fd("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ti("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Fd("No code detected.");const{data:p,error:m}=await this._exchangeCodeForSession(t.code);if(m)throw m;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=t;if(!i||!a||!o||!u)throw new Ti("No session defined in URL");const c=Math.round(Date.now()/1e3),h=parseInt(a);let d=c+h;l&&(d=parseInt(l));const g=d-c;g*1e3<=rr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${h}s`);const w=d-h;c-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,d,c):c-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,d,c);const{data:y,error:S}=await this._getUser(i);if(S)throw S;const f={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:d,refresh_token:o,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:f,redirectType:t.type},error:null}}catch(r){if(B(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await jn(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(j2(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await Xt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=L2(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Zn(this.storage,this.storageKey,!0));try{return await z(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(B(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(B(n))return{data:null,error:n};throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,u,c;const{data:h,error:d}=i;if(d)throw d;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await z(this.fetch,"GET",g,{headers:this.headers,jwt:(c=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(s)throw s;return Ye()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(B(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:i}}=n;if(s)throw s;const{options:o,provider:a,token:l,access_token:u,nonce:c}=t,h=await z(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=i==null?void 0:i.access_token)!==null&&r!==void 0?r:void 0,body:{provider:a,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:ft}),{data:d,error:g}=h;return g?{data:{user:null,session:null},error:g}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new Xn}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("USER_UPDATED",d.session)),{data:d,error:g})}catch(s){if(B(s))return{data:{user:null,session:null},error:s};throw s}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await z(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(B(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await U2(async s=>(s>0&&await M2(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await z(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ft})),(s,i)=>{const o=200*Math.pow(2,s);return i&&ka(i)&&Date.now()+o-r<rr})}catch(r){if(this._debug(n,"error",r),B(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Ye()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await jn(this.storage,this.storageKey);if(s&&this.userStorage){let o=await jn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await sr(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:ja()}else if(s&&!s.user&&!s.user){const o=await jn(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Xt(this.storage,this.storageKey+"-user"),await sr(this.storage,this.storageKey,s)):s.user=ja()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<ba;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${ba}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),ka(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Zt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Wo;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Zt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),B(i)){const o={data:null,error:i};return ka(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await sr(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=qd(s);await sr(this.storage,this.storageKey,i)}else{const s=qd(n);await sr(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Xt(this.storage,this.storageKey),await Xt(this.storage,this.storageKey+"-code-verifier"),await Xt(this.storage,this.storageKey+"-user"),this.userStorage&&await Xt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ye()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),rr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/rr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${rr}ms, refresh threshold is ${Bl} ticks`),s<=Bl&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Bm)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ye()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Zn(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await z(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(B(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:u}=await z(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(B(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?m_(t.webauthn.credential_response):g_(t.webauthn.credential_response)})}:{code:t.code}),{data:a,error:l}=await z(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(n){if(B(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const o=await z(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:f_(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:p_(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(B(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Ca(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(a=>a.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(a=>a.kid===t),r&&this.jwks_cached_at+k2>s)return r;const{data:i,error:o}=await z(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(a=>a.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:g,error:w}=await this.getSession();if(w||!g.session)return{data:null,error:w};r=g.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=Ca(r);n!=null&&n.allowExpired||Y2(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:g}=await this.getUser(r);if(g)throw g;return{data:{claims:i,header:s,signature:o},error:null}}const c=K2(s.alg),h=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,h,o,$2(`${a}.${l}`)))throw new Fl("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(B(r))return{data:null,error:r};throw r}}}Vs.nextInstanceID=0;const k_=Vs;class C_ extends k_{constructor(t){super(t)}}class j_{constructor(t,n,r){var s,i,o;this.supabaseUrl=t,this.supabaseKey=n;const a=_2(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,u={db:h2,realtime:p2,auth:Object.assign(Object.assign({},f2),{storageKey:l}),global:d2},c=w2(r??{},u);this.storageKey=(s=c.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(h,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=v2(n,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new Sw(new URL("rest/v1",a).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new l2(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new fw(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,n;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,storageKey:o,flowType:a,lock:l,debug:u},c,h){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new C_({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),c),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,flowType:a,lock:l,debug:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Bw(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const T_=(e,t,n)=>new j_(e,t,n);function P_(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}P_()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const N_="https://nrrjkjfeqhhflcciixug.supabase.co",O_="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5ycmpramZlcWhoZmxjY2lpeHVnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyMzk4NzEsImV4cCI6MjA3NjgxNTg3MX0.YuTDjolT6m91FjILWdHUHRg7C2Q861GPaqniTbQ1pe4",Pa=T_(N_,O_,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}});function R_({children:e}){const[t,n]=x.useState(null),[r,s]=x.useState(!0);return x.useEffect(()=>{Pa.auth.getSession().then(({data:{session:o}})=>{n(o),s(!1)});const{data:i}=Pa.auth.onAuthStateChange((o,a)=>{n(a)});return()=>i.subscription.unsubscribe()},[]),r?null:t?e:v.jsx("div",{className:"min-h-screen flex items-center justify-center p-6",children:v.jsxs("div",{className:"max-w-md w-full",children:[v.jsx("h1",{className:"text-2xl font-semibold mb-4 text-center",children:"Sign in to JAG Tax Dashboard"}),v.jsx(zr,{supabaseClient:Pa,appearance:{theme:k1},providers:[],view:"sign_in"}),v.jsx("p",{className:"text-sm text-center mt-3 opacity-70",children:"Don’t have an account? Click “Sign up” in the auth form."})]})})}const Fm="jag_clients";function zm(){return Math.random().toString(36).slice(2)+Date.now().toString(36)}function Wm(e){return Array.isArray(e)?e.filter(t=>t&&typeof t=="object").map(t=>{const n=typeof t.name=="string"?t.name.trim():"",r=t.entityType||"S-Corp",s=typeof t.notes=="string"?t.notes:"",i=Array.isArray(t.years)&&t.years.length?Array.from(new Set(t.years.map(o=>Number(o)).filter(o=>Number.isFinite(o)))):[new Date().getFullYear()];return{id:t.id||zm(),name:n,entityType:r,notes:s,years:i}}).filter(t=>t.name.length>0):[]}function St(){try{const e=localStorage.getItem(Fm);return Wm(JSON.parse(e||"[]"))}catch{return[]}}function Ar(e){const t=Wm(e);localStorage.setItem(Fm,JSON.stringify(t)),window.dispatchEvent(new CustomEvent("clients:updated"))}function Hm({name:e,entityType:t="S-Corp",notes:n="",taxYear:r=new Date().getFullYear()}){const s=St(),i={id:zm(),name:String(e||"").trim(),entityType:t,notes:n,years:[Number(r)]};i.name&&(s.unshift(i),Ar(s))}function I_(e,t){const n=St().map(r=>r.id===e?{...r,...t}:r);Ar(n)}function $_(e){Ar(St().filter(t=>t.id!==e))}function A_(e,t){const n=Number(t);if(!Number.isFinite(n))return;const r=St().map(s=>s.id===e?{...s,years:Array.from(new Set([...s.years||[],n])).sort()}:s);Ar(r)}function Vm(e){try{e(St())}catch{}const t=()=>{try{e(St())}catch{}};return window.addEventListener("clients:updated",t),()=>window.removeEventListener("clients:updated",t)}const qm=["Clarity","On Demand","Elevate"],L_=["Pending","Sent","Paid"],zl=["Estimate","Info Request","Meeting","Payment Request","Projection","Return Sent","Strategy Memo"],Wl=["Planned","Requested","Sent","Completed"],D_=[...zl],B_=[...Wl],Zd=[{id:"700019-1",group:"CB Direct, LLC",client:"Michael Cain",entity:"Individual",serviceLevel:"Elevate",risk:"High",status:"Active",year:2024,safeHarbor:65e3,deliverablesProgress:75,estimateOwner:"Averey",meetingOwner:"Joe",requestOwner:"Hector",strategies:[],deliverables:[{id:"d1",type:"Estimate",date:"2024-03-10",owner:"Averey",status:"Sent",notes:"Q1 SH estimate emailed"},{id:"d2",type:"Meeting",date:"2024-06-15",owner:"Joe",status:"Completed",notes:"Mid-year planning"},{id:"d3",type:"Info Request",date:"2024-09-10",owner:"Hector",status:"Requested",notes:"Q3 docs"}],paymentRequests:[{quarter:"Q1",requestDate:"2024-03-10",amount:12e3,status:"Paid",owner:"Averey"},{quarter:"Q2",requestDate:"2024-06-10",amount:14e3,status:"Paid",owner:"Joe"},{quarter:"Q3",requestDate:"2024-09-10",amount:16e3,status:"Pending",owner:"Hector"},{quarter:"Q4",requestDate:null,amount:null,status:"Pending",owner:null},{quarter:"Extension",requestDate:null,amount:null,status:"Pending",owner:null}]},{id:"800101-2",group:"Riverstone Ventures LLC",client:"Sarah Nguyen",entity:"S Corp",serviceLevel:"Clarity",risk:"Medium",status:"Active",year:2025,safeHarbor:32e3,deliverablesProgress:40,estimateOwner:"Averey",meetingOwner:"Joe",requestOwner:"Hector",strategies:[],deliverables:[{id:"rv1",type:"Info Request",date:"2025-02-01",owner:"Hector",status:"Requested",notes:"Bank stmts 2025 YTD"},{id:"rv2",type:"Estimate",date:"2025-04-10",owner:"Averey",status:"Sent",notes:"Q1 estimate"}],paymentRequests:[{quarter:"Q1",requestDate:"2025-04-12",amount:6e3,status:"Paid",owner:"Averey"},{quarter:"Q2",requestDate:"2025-06-15",amount:7e3,status:"Pending",owner:"Joe"},{quarter:"Q3",requestDate:null,amount:null,status:"Pending",owner:null},{quarter:"Q4",requestDate:null,amount:null,status:"Pending",owner:null},{quarter:"Extension",requestDate:null,amount:null,status:"Pending",owner:null}]},{id:"900222-3",group:"Triet Harari LLC",client:"Daniel Lee",entity:"Partnership",serviceLevel:"On Demand",risk:"Low",status:"Active",year:2025,safeHarbor:15e3,deliverablesProgress:20,estimateOwner:"Averey",meetingOwner:"Joe",requestOwner:"Hector",strategies:[],deliverables:[{id:"th1",type:"Info Request",date:"2025-03-05",owner:"Hector",status:"Requested",notes:"1099s & payroll"}],paymentRequests:[{quarter:"Q1",requestDate:"2025-04-15",amount:3e3,status:"Paid",owner:"Hector"},{quarter:"Q2",requestDate:null,amount:null,status:"Pending",owner:null},{quarter:"Q3",requestDate:null,amount:null,status:"Pending",owner:null},{quarter:"Q4",requestDate:null,amount:null,status:"Pending",owner:null},{quarter:"Extension",requestDate:null,amount:null,status:"Pending",owner:null}]},{id:"1000333-4",group:"RealSteel Center LLC",client:"Javier Mendez",entity:"S Corp",serviceLevel:"Elevate",risk:"High",status:"Active",year:2025,safeHarbor:9e4,deliverablesProgress:55,estimateOwner:"Averey",meetingOwner:"Joe",requestOwner:"Hector",strategies:[],deliverables:[{id:"rs1",type:"Meeting",date:"2025-01-20",owner:"Joe",status:"Completed",notes:"Kickoff planning"},{id:"rs2",type:"Estimate",date:"2025-03-31",owner:"Averey",status:"Sent",notes:"Q1 SH sent"}],paymentRequests:[{quarter:"Q1",requestDate:"2025-04-05",amount:22e3,status:"Paid",owner:"Averey"},{quarter:"Q2",requestDate:"2025-06-10",amount:23e3,status:"Paid",owner:"Joe"},{quarter:"Q3",requestDate:"2025-09-10",amount:24e3,status:"Pending",owner:"Hector"},{quarter:"Q4",requestDate:null,amount:null,status:"Pending",owner:null},{quarter:"Extension",requestDate:null,amount:null,status:"Pending",owner:null}]}];function bt(){const e=new Date,t=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return`${e.getFullYear()}-${t}-${n}`}function ln(e){if(!e||typeof e!="string")return null;const t=/^(\\d{4})-/.exec(e.trim());return t?Number(t[1]):null}function Hl(e,t){const n=(e.deliverables||[]).filter(o=>{const a=o.taxYear??ln(o.date)??e.year??null;return Number(a)===Number(t)}),r=n.filter(o=>o.type==="Estimate"&&(o.status==="Sent"||o.status==="Completed")).length,s=n.filter(o=>o.type==="Meeting"&&o.status==="Completed").length,i=n.filter(o=>o.type==="Info Request"&&(o.status==="Requested"||o.status==="Sent"||o.status==="Completed")).length;return{estimatesSent:r,meetingsHeld:s,requestsSent:i}}function M_(e){return e==="Clarity"?1:e==="Elevate"?2:0}function Vl(e,t){const{estimatesSent:n,meetingsHeld:r}=Hl(e,t),s=[];n===0&&s.push({id:"no-estimates",level:"error",text:"No estimates communicated"});const i=Yl(e,t),o=M_(i);return r<o&&s.push({id:"meeting-min",level:"warn",text:`Meetings below minimum (${r}/${o}) for ${i}`}),s}function ql(e,t){return(e.paymentRequests||[]).reduce((r,s)=>{if(s.status!=="Paid")return r;const i=s.taxYear??ln(s.requestDate)??e.year??null;return Number(i)===Number(t)?r+(s.amount||0):r},0)}function us(e,t){const r=(e.safeHarborByYear||{})[t];return typeof r=="number"?r:typeof e.safeHarbor=="number"?e.safeHarbor:0}function U_(e,t,n,r){const s=Number(r);!Number.isFinite(s)||s<0||e(i=>i.map(o=>{if(o.id!==t)return o;const a={...o.safeHarborByYear||{},[n]:s},l=Number(o.year)===Number(n)?s:o.safeHarbor??0;return{...o,safeHarborByYear:a,safeHarbor:l}}))}function Yl(e,t){return(e.serviceLevelByYear||{})[t]||e.serviceLevel||"Clarity"}function F_(e,t,n,r){qm.includes(r)&&e(s=>s.map(i=>{if(i.id!==t)return i;const o={...i.serviceLevelByYear||{}};o[n]=r;const a=Number(i.year)===Number(n)?r:i.serviceLevel||"Clarity";return{...i,serviceLevelByYear:o,serviceLevel:a}}))}function eh(e,t){const n=Vl(e,t),r=us(e,t)||0,s=ql(e,t),o=(e.paymentRequests||[]).filter(c=>(c.taxYear??ln(c.requestDate)??e.year)===t).filter(c=>["Sent","Requested"].includes(c.status)).length;let a="Low";const l=n.some(c=>c.id==="meeting-min"),u=n.some(c=>c.id==="no-estimates");return l&&(a="Medium"),l&&u&&(a="High"),r>0&&s<.5*r&&o>=2&&(a=a==="Low"?"Medium":"High"),a}function z_(e){return{id:e.id,name:e.group,entityType:e.entity||"Individual",notes:"",years:[Number(e.year||new Date().getFullYear())]}}function W_(e,t){const n=new Map,r=new Map;for(const i of t)n.set(i.id,i.years||[]),r.set((i.name||"").toLowerCase(),i.years||[]);const s=[];for(const i of e){const o=n.get(i.id),a=r.get((i.group||"").toLowerCase());let l=o||a||(i.year?[Number(i.year)]:[]);(!l||l.length===0)&&(l=[new Date().getFullYear()]);for(const u of l)s.push({...i,rowYear:Number(u),rowId:`${i.id}__${u}`})}return s.sort((i,o)=>(o.rowYear||0)-(i.rowYear||0)),s}const Na=[{id:crypto.randomUUID(),name:"Joe",email:"joe@jagcpa.com",role:"Partner"},{id:crypto.randomUUID(),name:"Averey",email:"admin@jagcpa.com",role:"CIS"},{id:crypto.randomUUID(),name:"Hector",email:"hector@jagcpa.com",role:"Analyst"}];function H_(){try{const e=localStorage.getItem("jag_owners_v1");if(!e)return Na;const t=JSON.parse(e);return Array.isArray(t)&&t.length?t:Na}catch{return Na}}function qi(e){try{localStorage.setItem("jag_owners_v1",JSON.stringify(e))}catch{}}function V_({owners:e,value:t,onChange:n,placeholder:r="Select owner"}){return v.jsx(R_,{children:v.jsxs("select",{className:"border rounded-lg px-2 py-1 bg-white w-full",value:t||"",onChange:s=>n(s.target.value||null),children:[v.jsx("option",{value:"",children:r}),e.map(s=>v.jsx("option",{value:s.id,children:s.name},s.id))]})})}function q_({owners:e,setOwners:t,onGoBoard:n}){const[r,s]=x.useState({name:"",email:"",role:""}),[i,o]=x.useState(null),a=x.useMemo(()=>e.slice().sort((h,d)=>h.name.localeCompare(d.name)),[e]),l=h=>{if(h.preventDefault(),!!r.name.trim()){if(i){const d=e.map(g=>g.id===i?{...g,...r}:g);t(d),qi(d),o(null)}else{const d={id:crypto.randomUUID(),...r},g=[...e,d];t(g),qi(g)}s({name:"",email:"",role:""})}},u=h=>{s({name:h.name||"",email:h.email||"",role:h.role||""}),o(h.id)},c=h=>{if(!confirm("Delete this owner? Any deliverables using this owner will be unassigned."))return;const d=e.filter(g=>g.id!==h);t(d),qi(d)};return v.jsxs("div",{className:"p-4 sm:p-6",children:[v.jsxs("div",{className:"flex items-center justify-between mb-3",children:[v.jsx("h2",{className:"text-2xl font-semibold",children:"Owners — Single Source of Truth"}),v.jsx(_e,{variant:"outline",onClick:n,children:"Owner Board"})]}),v.jsx(br,{className:"mb-5",children:v.jsx(zs,{className:"p-4",children:v.jsxs("form",{onSubmit:l,className:"grid gap-3 sm:grid-cols-5",children:[v.jsx(_s,{className:"sm:col-span-2",placeholder:"Full name",value:r.name,onChange:h=>s(d=>({...d,name:h.target.value}))}),v.jsx(_s,{className:"sm:col-span-2",placeholder:"Email (optional)",value:r.email,onChange:h=>s(d=>({...d,email:h.target.value}))}),v.jsx(_s,{placeholder:"Role (Partner, CIS, Analyst…)",value:r.role,onChange:h=>s(d=>({...d,role:h.target.value}))}),v.jsx(_e,{type:"submit",className:"sm:col-span-1",children:i?"Save Owner":"Add Owner"})]})})}),v.jsx("div",{className:"grid gap-3",children:a.map(h=>v.jsx(br,{children:v.jsxs(zs,{className:"p-4 flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("div",{className:"font-medium",children:h.name}),v.jsxs("div",{className:"text-sm text-gray-600",children:[h.email||"—"," ",h.role&&v.jsxs("span",{children:["· ",h.role]})]})]}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx(_e,{variant:"outline",onClick:()=>u(h),children:"Edit"}),v.jsx(_e,{variant:"outline",onClick:()=>c(h.id),children:"Delete"})]})]})},h.id))})]})}function Y_({owners:e,clients:t,onDrill:n}){const[r,s]=x.useState(""),[i,o]=x.useState(""),[a,l]=x.useState(""),[u,c]=x.useState(""),h=x.useMemo(()=>new Map(e.map(y=>[y.id,y])),[e]),d=x.useMemo(()=>{var S;const y=[];for(const f of t){const p=f.deliverables||[];for(const m of p){const _=m.taxYear??ln(m.date)??f.year??null,b=m.ownerId&&((S=h.get(m.ownerId))==null?void 0:S.name)||"Unassigned";y.push({clientId:f.id,clientName:f.group,taxYear:_,deliverableId:m.id,type:m.type,status:m.status,ownerId:m.ownerId||"",ownerName:b,date:m.date||"",notes:m.notes||""})}}return y},[t,h]),g=x.useMemo(()=>d.filter(y=>!(r&&(y.ownerId||"")!==r||i&&y.type!==i||a&&y.status!==a||u&&!`${y.clientName} ${y.type} ${y.notes} ${y.taxYear}`.toLowerCase().includes(u.toLowerCase()))),[d,r,i,a,u]),w=x.useMemo(()=>{const y=new Map;for(const S of g){const f=S.ownerName||"Unassigned",p=y.get(f)||[];p.push(S),y.set(f,p)}return y},[g]);return v.jsxs("div",{className:"p-4 sm:p-6",children:[v.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-end sm:justify-between mb-4",children:[v.jsx("h2",{className:"text-2xl font-semibold",children:"Owner Board"}),v.jsxs("div",{className:"flex gap-2",children:[v.jsxs("div",{className:"relative",children:[v.jsx(Ap,{className:"w-4 h-4 absolute left-2 top-2.5 text-gray-400"}),v.jsx(_s,{className:"pl-8",placeholder:"Search (client / type / notes / year)",value:u,onChange:y=>c(y.target.value)})]}),v.jsxs("select",{className:"border rounded-xl px-3 py-2 bg-white",value:r,onChange:y=>s(y.target.value),children:[v.jsx("option",{value:"",children:"All Owners"}),e.map(y=>v.jsx("option",{value:y.id,children:y.name},y.id)),v.jsx("option",{value:"__unassigned__",disabled:!0,children:"—"})]}),v.jsxs("select",{className:"border rounded-xl px-3 py-2 bg-white",value:i,onChange:y=>o(y.target.value),children:[v.jsx("option",{value:"",children:"All Types"}),D_.map(y=>v.jsx("option",{value:y,children:y},y))]}),v.jsxs("select",{className:"border rounded-xl px-3 py-2 bg-white",value:a,onChange:y=>l(y.target.value),children:[v.jsx("option",{value:"",children:"All Statuses"}),B_.map(y=>v.jsx("option",{value:y,children:y},y))]})]})]}),w.size===0&&v.jsx("div",{className:"text-sm text-gray-600",children:"No deliverables match your filters."}),v.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[...w.entries()].map(([y,S])=>v.jsx(br,{children:v.jsxs(zs,{className:"p-4",children:[v.jsxs("div",{className:"font-semibold mb-2",children:[y," ",v.jsxs("span",{className:"text-sm text-gray-500",children:["(",S.length,")"]})]}),v.jsx("div",{className:"flex flex-col gap-2",children:S.map(f=>v.jsxs("div",{className:"rounded-xl border p-3 hover:shadow cursor-pointer",onClick:()=>n(f.clientId,f.taxYear),children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("div",{className:"font-medium",children:f.type}),v.jsx("div",{className:"text-xs text-gray-600",children:f.status})]}),v.jsxs("div",{className:"text-sm text-gray-700",children:[f.clientName," — ",f.taxYear]}),f.date&&v.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Date: ",f.date]}),f.notes&&v.jsx("div",{className:"text-xs text-gray-500 line-clamp-2",children:f.notes})]},`${f.clientId}_${f.deliverableId}`))})]})},y))})]})}function K_(){const[e,t]=x.useState(()=>{try{const C=localStorage.getItem("jag_clients_dashboard");return C?JSON.parse(C):Zd}catch{return Zd}}),[n,r]=x.useState(()=>H_()),s=x.useMemo(()=>new Map(n.map(C=>[C.name.toLowerCase(),C.id])),[n]),i=x.useMemo(()=>new Map(n.map(C=>[C.id,C])),[n]),[o,a]=x.useState("dashboard");x.useEffect(()=>{let C;const A=()=>{try{localStorage.setItem("jag_clients_dashboard",JSON.stringify(e))}catch{}};if("requestIdleCallback"in window){const W=window.requestIdleCallback(A);return()=>window.cancelIdleCallback(W)}else return C=setTimeout(A,250),()=>clearTimeout(C)},[e]),x.useEffect(()=>{const C=St();if(!C||C.length===0){const A=e.map(z_);Ar(A)}},[]),x.useEffect(()=>{const C=()=>{const W=St();t(H=>{const M=new Map(H.map(Y=>[Y.id,Y])),se=[...H];for(const Y of W){const K=M.get(Y.id);K?(K.group=Y.name||K.group,K.entity=Y.entityType||K.entity,Array.isArray(Y.years)&&Y.years.length&&(K.year=Y.years[0])):se.unshift({id:Y.id,group:Y.name,client:"",entity:Y.entityType||"Individual",serviceLevel:"Clarity",risk:"Low",status:"Active",year:Y.years&&Y.years[0]||new Date().getFullYear(),safeHarbor:0,deliverablesProgress:0,strategies:[],deliverables:[],estimateOwner:"",meetingOwner:"",requestOwner:"",paymentRequests:[{quarter:"Q1",requestDate:null,amount:null,status:"Pending",owner:null},{quarter:"Q2",requestDate:null,amount:null,status:"Pending",owner:null},{quarter:"Q3",requestDate:null,amount:null,status:"Pending",owner:null},{quarter:"Q4",requestDate:null,amount:null,status:"Pending",owner:null},{quarter:"Extension",requestDate:null,amount:null,status:"Pending",owner:null}]})}return se})},A=Vm(()=>C());return C(),A},[]),x.useEffect(()=>{t(C=>{let A=!1;const W=C.map(H=>{let M=!1;const se=(H.deliverables||[]).map(K=>{if(!K.ownerId){const ge=K.owner&&s.get(String(K.owner).toLowerCase())||null;if(ge)return M=!0,A=!0,{...K,ownerId:ge}}return K}),Y=(H.paymentRequests||[]).map(K=>{if(!K.ownerId){const ge=K.owner&&s.get(String(K.owner).toLowerCase())||null;if(ge)return M=!0,A=!0,{...K,ownerId:ge}}return K});return M?{...H,deliverables:se,paymentRequests:Y}:H});return A?W:C})},[s]);const[l,u]=x.useState("All"),[c,h]=x.useState("All"),[d,g]=x.useState(""),[w,y]=x.useState(null),[S,f]=x.useState(null),[p,m]=x.useTransition(),_=St(),b=x.useMemo(()=>W_(e,_),[e,_]),j=x.useMemo(()=>b.filter(C=>(l==="All"||Number(C.rowYear)===Number(l))&&(c==="All"||eh(C,C.rowYear)===c)&&(d.length<2||[C.group,C.client,C.entity].join(" ").toLowerCase().includes(d.toLowerCase()))),[b,l,c,d]);x.useEffect(()=>{var A,W;if(!w)return;if(!b.find(H=>H.id===w.id&&H.rowYear===S)){const H=w.year||((W=(A=_.find(M=>M.id===w.id))==null?void 0:A.years)==null?void 0:W[0]);f(Number(H||new Date().getFullYear()))}},[w,b,S,_]);const k=x.useMemo(()=>w?e.find(C=>C.id===w.id)||w:null,[e,w]),[P,L]=x.useState(""),[R,V]=x.useState("Clarity");x.useEffect(()=>{if(!k||!S)return;const C=us(k,S);L(String(C??0)),V(Yl(k,S))},[k,S]);function ke(){if(!k)return;const C=Number(String(P).replace(/[, ]/g,""));if(!Number.isFinite(C)){L(String(us(k,S)??0));return}U_(t,k.id,S,C)}function Ue(C){k&&(V(C),m(()=>{F_(t,k.id,S,C)}))}function nt(){const C=prompt("Client/Group name (e.g., CB Direct, LLC):");if(!C)return;const A=prompt("Primary contact (e.g., Michael Cain):")||"",W=prompt("Entity type (Individual / S Corp / Partnership / C Corp):")||"Individual",H=prompt("Tax Year (e.g., 2024):",String(new Date().getFullYear()))||String(new Date().getFullYear()),M=Number(H)||new Date().getFullYear(),se=prompt("Service Level (Clarity / On Demand / Elevate):")||"Clarity",K={id:`${Date.now()}`,group:C,client:A,entity:W,serviceLevel:se,risk:"Low",status:"Active",year:M,safeHarbor:0,safeHarborByYear:{[M]:0},serviceLevelByYear:{[M]:se},deliverablesProgress:0,strategies:[],deliverables:[],estimateOwner:"",meetingOwner:"",requestOwner:"",paymentRequests:[{quarter:"Q1",requestDate:null,amount:null,status:"Pending",ownerId:null,owner:null,taxYear:M},{quarter:"Q2",requestDate:null,amount:null,status:"Pending",ownerId:null,owner:null,taxYear:M},{quarter:"Q3",requestDate:null,amount:null,status:"Pending",ownerId:null,owner:null,taxYear:M},{quarter:"Q4",requestDate:null,amount:null,status:"Pending",ownerId:null,owner:null,taxYear:M},{quarter:"Extension",requestDate:null,amount:null,status:"Pending",ownerId:null,owner:null,taxYear:M}]};m(()=>{t(ge=>[K,...ge]),Hm({name:C,entityType:W,notes:"",taxYear:M}),y(K),f(M),a("dashboard")})}function me(C){confirm("Delete this client? This action cannot be undone.")&&m(()=>{t(W=>W.filter(H=>H.id!==C)),y(null);const A=_.filter(W=>W.id!==C);Ar(A),a("dashboard")})}function oe(C){let A=prompt("Quarter to add/update (Q1, Q2, Q3, Q4, Extension or EXT):");if(!A)return;if(A=A.trim().toUpperCase(),A==="EXT"&&(A="EXTENSION"),!["Q1","Q2","Q3","Q4","EXTENSION"].includes(A))return alert("Please enter Q1/Q2/Q3/Q4/Extension (or EXT)");const H=A==="EXTENSION"?"Extension":A,M=prompt("Request date (YYYY-MM-DD):",bt()),se=Number(prompt("Amount (just numbers):","0")||0),Y=prompt("Status (Pending / Sent / Paid):","Pending")||"Pending",K=prompt("Owner (name, optional – will map to SST):","")||"",ge=K&&s.get(K.toLowerCase())||null,It=Number(S||C.year||new Date().getFullYear());m(()=>{t(st=>st.map(N=>{if(N.id!==C.id)return N;const $t=(it=>it.some(Ym=>Ym.quarter==="Extension")?it:[...it,{quarter:"Extension",requestDate:null,amount:null,status:"Pending",ownerId:null,owner:null,taxYear:It}])(N.paymentRequests||[]).map(it=>it.quarter===H?{quarter:H,requestDate:M,amount:se,status:Y,ownerId:ge,owner:K||null,taxYear:It}:it);return{...N,paymentRequests:$t}}))})}function rt(C,A,W){m(()=>{t(H=>H.map(M=>{if(M.id!==C)return M;const se=M.paymentRequests.map(Y=>Y.quarter===A?{...Y,status:W}:Y);return{...M,paymentRequests:se}}))})}function O(C,A){var N;const W=Number(S||C.year||new Date().getFullYear()),H=(A==null?void 0:A.type)||prompt(`Type (${zl.join(" / ")}):`,"Estimate")||"Estimate",M=(A==null?void 0:A.date)||prompt("Date (YYYY-MM-DD):",bt())||bt(),se=((N=n[0])==null?void 0:N.name)||"",Y=(A==null?void 0:A.owner)||prompt("Owner (name, optional – will map to SST):",se)||"",K=Y&&s.get(Y.toLowerCase())||null,ge=(A==null?void 0:A.status)||prompt(`Status (${Wl.join(" / ")}):`,"Planned")||"Planned",It=(A==null?void 0:A.notes)??(prompt("Notes (optional):","")||""),st={id:`${Date.now()}`,type:H,date:M,ownerId:K,status:ge,notes:It,taxYear:W};m(()=>{t($e=>$e.map(X=>X.id!==C.id?X:{...X,deliverables:[st,...X.deliverables||[]]}))})}function U(C,A){m(()=>{t(W=>W.map(H=>H.id!==C?H:{...H,deliverables:(H.deliverables||[]).filter(M=>M.id!==A)}))})}function F(C,A,W){m(()=>{t(H=>H.map(M=>{if(M.id!==C)return M;const se=(M.deliverables||[]).map(Y=>{if(Y.id!==A)return Y;const K=Y.taxYear??S??M.year,ge=W.owner&&!W.ownerId?s.get(String(W.owner).toLowerCase())||null:void 0;return{...Y,...W,...ge!==void 0?{ownerId:ge}:{},taxYear:K}});return{...M,deliverables:se}}))})}function te(C,A){const W=e.find(H=>H.id===C);W&&(y(W),f(A),a("dashboard"))}return v.jsxs("div",{className:"p-0 font-sans max-w-7xl mx-auto",children:[v.jsxs("div",{className:"app-hero px-6 pt-8 pb-6",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("h1",{className:"text-3xl font-semibold tracking-tight",children:"JAG — Client-Level Tax Planning"}),p&&v.jsx("span",{className:"text-xs opacity-60",children:"Updating…"})]}),v.jsxs("div",{className:"mt-4 flex flex-wrap gap-3 items-center",children:[v.jsxs("div",{className:"flex gap-2",children:[v.jsx(_e,{variant:o==="dashboard"?"default":"outline",onClick:()=>a("dashboard"),children:"Main"}),v.jsx(_e,{variant:o==="ownerBoard"?"default":"outline",onClick:()=>a("ownerBoard"),children:"Owner Board"}),v.jsx(_e,{variant:o==="owners"?"default":"outline",onClick:()=>a("owners"),children:"Owners (SST)"})]}),o==="dashboard"&&!k&&v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"relative w-full md:w-96",children:[v.jsx(Ap,{className:"w-4 h-4 absolute left-3 top-3 text-gray-400"}),v.jsx(_s,{placeholder:"Search client or entity...",className:"pl-9",value:d,onChange:C=>g(C.target.value)})]}),v.jsxs("select",{className:"border rounded-xl px-3 py-2 bg-white",value:l,onChange:C=>u(C.target.value),disabled:!!k,children:[v.jsx("option",{value:"All",children:"All Tax Years"}),[...new Set(b.map(C=>C.rowYear))].sort((C,A)=>C-A).map(C=>v.jsx("option",{value:C,children:C},C))]}),v.jsx("select",{className:"border rounded-xl px-3 py-2 bg-white",value:c,onChange:C=>h(C.target.value),disabled:!!k,children:["All","Low","Medium","High"].map(C=>v.jsx("option",{value:C,children:C},C))}),!k&&v.jsx(_e,{onClick:nt,children:"+ Add Client"}),k&&v.jsxs(v.Fragment,{children:[v.jsx(_e,{className:"btn-soft",onClick:()=>{y(null),f(null)},children:"← Back to Dashboard"}),v.jsx(_e,{className:"btn-soft",onClick:()=>me(k.id),title:"Delete client",children:"🗑 Delete Client"})]})]})]})]}),o==="owners"&&v.jsx(q_,{owners:n,setOwners:C=>{r(C),qi(C)},onGoBoard:()=>a("ownerBoard")}),o==="ownerBoard"&&v.jsx(Y_,{owners:n,clients:e,onDrill:te}),o==="dashboard"&&v.jsxs(v.Fragment,{children:[!k&&v.jsx("div",{className:"px-6 -mt-6",children:v.jsx(br,{className:"rounded-2xl",children:v.jsxs(zs,{className:"p-4 space-y-3",children:[v.jsxs("div",{className:"grid grid-cols-12 text-xs text-gray-500 font-medium border-b pb-2",children:[v.jsx("div",{className:"col-span-2",children:"Client"}),v.jsx("div",{className:"col-span-1",children:"Tax Year"}),v.jsx("div",{className:"col-span-1",children:"Entity"}),v.jsx("div",{className:"col-span-1",children:"Service Level"}),v.jsx("div",{className:"col-span-1",children:"Risk"}),v.jsx("div",{className:"col-span-1",children:"Safe Harbor"}),v.jsx("div",{className:"col-span-1",children:"Estimates Sent"}),v.jsx("div",{className:"col-span-1",children:"Meetings Held"}),v.jsx("div",{className:"col-span-1",children:"Requests Sent"}),v.jsx("div",{className:"col-span-1",children:"YTD Paid"}),v.jsx("div",{className:"col-span-1 text-right pr-2",children:"Actions"})]}),j.map(C=>{const{estimatesSent:A,meetingsHeld:W,requestsSent:H}=Hl(C,C.rowYear),M=Vl(C,C.rowYear),se=M.some(st=>st.level==="error")?"bg-red-50":M.some(st=>st.level==="warn")?"bg-amber-50":"bg-white",Y=ql(C,C.rowYear),K=us(C,C.rowYear),ge=eh(C,C.rowYear),It=Yl(C,C.rowYear);return v.jsxs("div",{className:`grid grid-cols-12 items-center border-b py-2 text-sm hover:bg-gray-50 rounded-lg ${se}`,children:[v.jsx("div",{className:"col-span-2 font-medium cursor-pointer",onClick:()=>{y(C),f(C.rowYear)},children:C.group}),v.jsx("div",{className:"col-span-1 text-gray-700 cursor-pointer",onClick:()=>{y(C),f(C.rowYear)},children:C.rowYear}),v.jsx("div",{className:"col-span-1 text-gray-600 cursor-pointer",onClick:()=>{y(C),f(C.rowYear)},children:C.entity}),v.jsx("div",{className:"col-span-1 text-gray-600 cursor-pointer",onClick:()=>{y(C),f(C.rowYear)},children:It}),v.jsx("div",{className:"col-span-1",children:v.jsx(Hy,{className:ge==="High"?"pill-err":ge==="Medium"?"pill-warn":"pill-okay",children:ge})}),v.jsxs("div",{className:"col-span-1",children:["$",(K??0).toLocaleString()]}),v.jsx("div",{className:"col-span-1 text-center",children:A}),v.jsx("div",{className:"col-span-1 text-center",children:W}),v.jsx("div",{className:"col-span-1 text-center",children:H}),v.jsxs("div",{className:"col-span-1 text-center font-semibold",children:["$",Y.toLocaleString()]}),v.jsx("div",{className:"col-span-1 flex justify-end pr-2",children:v.jsx("button",{className:"rounded-md px-2 py-1 hover:bg-red-50 border border-transparent hover:border-red-200 inline-flex items-center justify-center",title:"Delete client",onClick:st=>{st.stopPropagation(),me(C.id)},children:v.jsx(vd,{className:"w-4 h-4"})})})]},C.rowId)})]})})}),k&&(()=>{var It,st;const C=Vl(k,S),A=C.some(N=>N.level==="error")?"err":C.some(N=>N.level==="warn")?"warn":"ok",W=A==="err"?"Issues detected":A==="warn"?"Action recommended":"All good",{estimatesSent:H,meetingsHeld:M,requestsSent:se}=Hl(k,S),Y=(k.paymentRequests||[]).filter(N=>{const $e=N.taxYear??ln(N.requestDate)??k.year??null;return Number($e)===Number(S)}),K=(k.deliverables||[]).filter(N=>{const $e=N.taxYear??ln(N.date)??k.year??null;return Number($e)===Number(S)}),ge=us(k,S);return v.jsxs("div",{className:"px-6 mt-6 space-y-4",children:[v.jsxs("div",{className:"text-sm text-gray-500",children:["Editing for ",v.jsx("span",{className:"font-semibold",children:k.group})," · ",v.jsxs("span",{className:"font-semibold",children:["Tax Year ",S]})]}),v.jsx(Yy,{tone:A,title:W,children:C.length===0?"Client is meeting baseline targets.":v.jsx("ul",{className:"list-disc ml-5",children:C.map(N=>v.jsx("li",{children:N.text},N.id))})}),v.jsx(br,{children:v.jsxs(zs,{className:"flex flex-wrap gap-3 items-center",children:[v.jsxs("div",{className:"text-sm text-gray-600",children:["Safe Harbor Target ($):",v.jsx("input",{type:"text",className:"border rounded-xl px-3 py-2 w-40 ml-2",value:P,onChange:N=>L(N.target.value),onBlur:ke,onKeyDown:N=>{N.key==="Enter"&&ke()}}),v.jsxs("span",{className:"ml-2 text-xs opacity-60",children:["Canonical: ",(ge??0).toLocaleString()]})]}),v.jsxs("div",{className:"text-sm text-gray-600",children:["Service Level:",v.jsx("select",{className:"border rounded-xl px-2 py-1 ml-2 bg-white",value:R,onChange:N=>Ue(N.target.value),children:qm.map(N=>v.jsx("option",{value:N,children:N},N))})]}),v.jsxs("div",{className:"text-sm text-gray-600",children:["Estimates Sent: ",v.jsx("span",{className:"font-semibold",children:H})]}),v.jsx(_e,{className:"btn-soft",onClick:()=>{var N;return O(k,{type:"Estimate",status:"Sent",owner:((N=n[0])==null?void 0:N.name)||"",date:bt(),notes:"Estimate sent"})},children:"+ Estimate"}),v.jsxs("div",{className:"text-sm text-gray-600",children:["Meetings Held: ",v.jsx("span",{className:"font-semibold",children:M})]}),v.jsx(_e,{className:"btn-soft",onClick:()=>{var N;return O(k,{type:"Meeting",status:"Completed",owner:((N=n[0])==null?void 0:N.name)||"",date:bt(),notes:"Planning meeting"})},children:"+ Meeting"}),v.jsxs("div",{className:"text-sm text-gray-600",children:["Requests Sent: ",v.jsx("span",{className:"font-semibold",children:se})]}),v.jsx(_e,{className:"btn-soft",onClick:()=>{var N;return O(k,{type:"Info Request",status:"Requested",owner:((N=n[0])==null?void 0:N.name)||"",date:bt(),notes:"Docs requested"})},children:"+ Info Request"}),v.jsxs("div",{className:"ml-auto text-sm text-gray-600",children:["YTD Paid: ",v.jsxs("span",{className:"font-semibold",children:["$",ql(k,S).toLocaleString()]})]})]})}),v.jsxs(Vy,{defaultValue:"payments",children:[v.jsxs(Rp,{className:"mt-2",children:[v.jsx(Wi,{value:"payments",children:"Payments"}),v.jsx(Wi,{value:"deliverables",children:"Deliverables"}),v.jsx(Wi,{value:"strategies",children:"Strategies"})]}),v.jsxs(Hi,{value:"payments",className:"mt-2 text-sm text-gray-700 space-y-3",children:[v.jsx("div",{className:"flex gap-2",children:v.jsx(_e,{className:"btn-soft",onClick:()=>oe(k),children:"+ Add/Update Payment"})}),v.jsx("div",{className:"grid md:grid-cols-5 gap-3",children:Y.map((N,$e)=>{var $t;const X=N.ownerId?(($t=i.get(N.ownerId))==null?void 0:$t.name)||"Unassigned":N.owner||"Unassigned";return v.jsxs(br,{className:"rounded-xl p-3 text-sm",children:[v.jsx("div",{className:"font-semibold",children:N.quarter}),v.jsxs("div",{className:"text-gray-600",children:["Requested: ",N.requestDate||"—"]}),v.jsxs("div",{className:"text-gray-600",children:["Amount: ",N.amount?`$${N.amount.toLocaleString()}`:"—"]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{children:"Status:"}),v.jsx("select",{className:"border rounded-lg px-2 py-1 bg-white",value:N.status||"Pending",onChange:it=>rt(k.id,N.quarter,it.target.value),children:L_.map(it=>v.jsx("option",{value:it,children:it},it))})]}),v.jsxs("div",{className:"text-gray-600",children:["Owner: ",X]}),v.jsxs("div",{className:"text-gray-400 text-xs",children:["Tax Year: ",N.taxYear??ln(N.requestDate)??k.year]})]},$e)})})]}),v.jsxs(Hi,{value:"deliverables",className:"mt-2 text-sm text-gray-700 space-y-2",children:[v.jsxs("div",{className:"flex gap-2",children:[v.jsx(_e,{className:"btn-soft",onClick:()=>O(k),children:"+ Add Deliverable"}),v.jsx(_e,{className:"btn-soft",onClick:()=>{var N;return O(k,{type:"Estimate",status:"Sent",owner:((N=n[0])==null?void 0:N.name)||"",date:bt(),notes:"Estimate sent"})},children:"+ Quick Estimate"}),v.jsx(_e,{className:"btn-soft",onClick:()=>{var N;return O(k,{type:"Meeting",status:"Completed",owner:((N=n[0])==null?void 0:N.name)||"",date:bt(),notes:"Meeting held"})},children:"+ Quick Meeting"}),v.jsx(_e,{className:"btn-soft",onClick:()=>{var N;return O(k,{type:"Info Request",status:"Requested",owner:((N=n[0])==null?void 0:N.name)||"",date:bt(),notes:"Docs requested"})},children:"+ Quick Request"})]}),(K.length??0)===0&&v.jsxs("p",{className:"text-gray-600",children:["No deliverables for ",S," yet."]}),v.jsx("div",{className:"overflow-auto",children:v.jsxs("table",{className:"table-base w-full text-sm border rounded-xl overflow-hidden",children:[v.jsx("thead",{className:"bg-gray-50",children:v.jsxs("tr",{children:[v.jsx("th",{className:"text-left p-2 border",children:"Type"}),v.jsx("th",{className:"text-left p-2 border",children:"Date"}),v.jsx("th",{className:"text-left p-2 border",children:"Owner"}),v.jsx("th",{className:"text-left p-2 border",children:"Status"}),v.jsx("th",{className:"text-left p-2 border",children:"Notes"}),v.jsx("th",{className:"text-left p-2 border",children:"Actions"})]})}),v.jsx("tbody",{children:K.map(N=>{var $e;return v.jsxs("tr",{className:"align-top",children:[v.jsx("td",{className:"p-2 border",children:v.jsx("select",{className:"border rounded-lg px-2 py-1 bg-white",value:N.type,onChange:X=>F(k.id,N.id,{type:X.target.value}),children:zl.map(X=>v.jsx("option",{value:X,children:X},X))})}),v.jsxs("td",{className:"p-2 border",children:[v.jsx("input",{type:"date",className:"border rounded-lg px-2 py-1",value:N.date||"",onChange:X=>F(k.id,N.id,{date:X.target.value})}),v.jsxs("div",{className:"text-[10px] text-gray-400 mt-0.5",children:["Tax Year: ",N.taxYear??ln(N.date)??k.year]})]}),v.jsxs("td",{className:"p-2 border",children:[v.jsx(V_,{owners:n,value:N.ownerId||"",onChange:X=>F(k.id,N.id,{ownerId:X})}),v.jsx("div",{className:"text-[10px] text-gray-500 mt-0.5",children:N.ownerId&&(($e=i.get(N.ownerId))==null?void 0:$e.name)||"Unassigned"})]}),v.jsx("td",{className:"p-2 border",children:v.jsx("select",{className:"border rounded-lg px-2 py-1 bg-white",value:N.status,onChange:X=>F(k.id,N.id,{status:X.target.value}),children:Wl.map(X=>v.jsx("option",{value:X,children:X},X))})}),v.jsx("td",{className:"p-2 border",children:v.jsx("input",{type:"text",className:"border rounded-lg px-2 py-1 w-full",value:N.notes||"",onChange:X=>F(k.id,N.id,{notes:X.target.value}),placeholder:"Notes"})}),v.jsx("td",{className:"p-2 border",children:v.jsx("button",{className:"btn-soft px-2 py-1 rounded-lg",title:"Delete",onClick:()=>U(k.id,N.id),children:v.jsx(vd,{className:"w-4 h-4"})})})]},N.id)})})]})}),v.jsxs("div",{className:"space-y-1 mt-3",children:[v.jsx("div",{className:"text-xs text-gray-500",children:"Overall progress"}),v.jsx(qy,{value:k.deliverablesProgress})]})]}),v.jsxs(Hi,{value:"strategies",className:"mt-2 text-sm text-gray-700 space-y-3",children:[(((It=k.strategies)==null?void 0:It.length)??0)===0&&v.jsx("p",{className:"text-gray-600",children:"No strategies listed yet."}),v.jsx("ul",{className:"list-disc ml-5 space-y-1",children:(st=k.strategies)==null?void 0:st.map((N,$e)=>v.jsxs("li",{children:[v.jsxs("span",{className:"text-gray-500 mr-2",children:["[",N.date,"]"]}),N.note]},$e))}),v.jsx(_e,{className:"btn-soft",onClick:()=>{const N=prompt("Strategy note:");if(!N)return;const $e={note:N,date:bt()};m(()=>{t(X=>X.map($t=>$t.id!==k.id?$t:{...$t,strategies:[$e,...$t.strategies||[]]}))})},children:"Add Strategy"})]})]})]})})()]})]})}const th=["Individual","S-Corp","C-Corp","Partnership","LLC (Disregarded)","Sole Prop","Trust/Estate","Other"];function G_(){const[e,t]=x.useState(St());x.useEffect(()=>{const _=Vm(t);return t(St()),_},[]);const[n,r]=x.useState({entityType:"Individual",name:"",notes:"",taxYear:new Date().getFullYear()}),[s,i]=x.useState(null),[o,a]=x.useState({entityType:"",name:"",notes:""}),[l,u]=x.useState(""),[c,h]=x.useState("All"),d=_=>s===_,g=_=>{_.preventDefault(),n.name.trim()&&(Hm({name:n.name,entityType:n.entityType,notes:n.notes,taxYear:n.taxYear}),r({entityType:"Individual",name:"",notes:"",taxYear:new Date().getFullYear()}))},w=_=>{i(_.id),a({entityType:_.entityType,name:_.name,notes:_.notes||""})},y=()=>{i(null),a({entityType:"",name:"",notes:""})},S=_=>{const b=o.name.trim();b&&(I_(_,{...o,name:b}),y())},f=_=>{$_(_),s===_&&y()},p=x.useMemo(()=>{const _=new Set;return e.forEach(b=>(b.years||[]).forEach(j=>_.add(Number(j)))),["All",...Array.from(_).sort()]},[e]),m=x.useMemo(()=>{let _=e;if(l.trim()){const b=l.toLowerCase();_=_.filter(j=>[j.name,j.entityType,j.notes].some(k=>(k||"").toLowerCase().includes(b)))}return c!=="All"&&(_=_.filter(b=>(b.years||[]).map(String).includes(String(c)))),_},[e,l,c]);return v.jsxs("div",{className:"mx-auto max-w-6xl p-6",children:[v.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Client Manager"}),v.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Add clients; edit Entity Type, Client Name, Notes, and manage Tax Years."}),v.jsxs("div",{className:"mt-6 rounded-2xl border bg-white p-6 shadow-sm",children:[v.jsx("h2",{className:"mb-4 text-lg font-medium",children:"Add New Client"}),v.jsxs("form",{onSubmit:g,className:"grid gap-4 sm:grid-cols-2",children:[v.jsxs("div",{className:"flex flex-col gap-1",children:[v.jsx("label",{className:"text-sm font-medium",children:"Entity Type"}),v.jsx("select",{className:"rounded-xl border p-2 focus:outline-none focus:ring",value:n.entityType,onChange:_=>r(b=>({...b,entityType:_.target.value})),children:th.map(_=>v.jsx("option",{value:_,children:_},_))})]}),v.jsxs("div",{className:"flex flex-col gap-1",children:[v.jsx("label",{className:"text-sm font-medium",children:"Client Name"}),v.jsx("input",{className:"rounded-xl border p-2 focus:outline-none focus:ring",placeholder:"e.g., Riverstone Ventures LLC",value:n.name,onChange:_=>r(b=>({...b,name:_.target.value}))})]}),v.jsxs("div",{className:"flex flex-col gap-1",children:[v.jsx("label",{className:"text-sm font-medium",children:"Initial Tax Year"}),v.jsx("input",{type:"number",min:"2000",max:"2100",className:"rounded-xl border p-2 focus:outline-none focus:ring",value:n.taxYear,onChange:_=>r(b=>({...b,taxYear:Number(_.target.value)||new Date().getFullYear()}))})]}),v.jsxs("div",{className:"sm:col-span-2 flex flex-col gap-1",children:[v.jsx("label",{className:"text-sm font-medium",children:"Notes (optional)"}),v.jsx("textarea",{className:"min-h-[80px] rounded-xl border p-2 focus:outline-none focus:ring",placeholder:"Any general notes about this client...",value:n.notes,onChange:_=>r(b=>({...b,notes:_.target.value}))})]}),v.jsx("div",{className:"sm:col-span-2",children:v.jsx("button",{type:"submit",className:"rounded-2xl bg-black px-4 py-2 text-white shadow hover:opacity-90",children:"Add Client"})})]})]}),v.jsxs("div",{className:"mt-6 flex items-center gap-3",children:[v.jsx("input",{className:"w-full rounded-2xl border p-2 focus:outline-none focus:ring",placeholder:"Search by name, entity type, or note...",value:l,onChange:_=>u(_.target.value)}),v.jsx("select",{className:"rounded-2xl border p-2 focus:outline-none focus:ring",value:c,onChange:_=>h(_.target.value),children:p.map(_=>v.jsx("option",{value:_,children:_==="All"?"All Years":_},_))}),v.jsxs("span",{className:"text-sm text-gray-500",children:[m.length," result",m.length===1?"":"s"]})]}),v.jsx("div",{className:"mt-4 overflow-hidden rounded-2xl border bg-white shadow-sm",children:v.jsxs("table",{className:"min-w-full text-left text-sm",children:[v.jsx("thead",{className:"bg-gray-50 text-gray-700",children:v.jsxs("tr",{children:[v.jsx("th",{className:"px-4 py-3",children:"Entity Type"}),v.jsx("th",{className:"px-4 py-3",children:"Client Name"}),v.jsx("th",{className:"px-4 py-3",children:"Tax Years"}),v.jsx("th",{className:"px-4 py-3",children:"Notes"}),v.jsx("th",{className:"px-4 py-3 text-right",children:"Actions"})]})}),v.jsxs("tbody",{children:[m.length===0&&v.jsx("tr",{children:v.jsx("td",{colSpan:5,className:"px-4 py-10 text-center text-gray-500",children:"No clients yet."})}),m.map(_=>v.jsxs("tr",{className:"border-t align-top",children:[v.jsx("td",{className:"px-4 py-3",children:d(_.id)?v.jsx("select",{className:"w-full rounded-xl border p-2 focus:outline-none focus:ring",value:o.entityType,onChange:b=>a(j=>({...j,entityType:b.target.value})),children:th.map(b=>v.jsx("option",{value:b,children:b},b))}):v.jsx("span",{className:"inline-block rounded-full bg-gray-100 px-3 py-1 text-xs font-medium",children:_.entityType})}),v.jsx("td",{className:"px-4 py-3",children:d(_.id)?v.jsx("input",{className:"w-full rounded-xl border p-2 focus:outline-none focus:ring",value:o.name,onChange:b=>a(j=>({...j,name:b.target.value}))}):v.jsx("div",{className:"font-medium",children:_.name})}),v.jsx("td",{className:"px-4 py-3",children:v.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[(_.years||[]).map(b=>v.jsx("span",{className:"inline-flex items-center rounded-full bg-gray-100 px-3 py-1 text-xs font-medium",children:b},b)),v.jsx(J_,{clientId:_.id})]})}),v.jsx("td",{className:"px-4 py-3",children:d(_.id)?v.jsx("textarea",{className:"w-full min-h-[70px] rounded-xl border p-2 focus:outline-none focus:ring",value:o.notes,onChange:b=>a(j=>({...j,notes:b.target.value})),placeholder:"Add general notes..."}):v.jsx("div",{className:"max-w-prose whitespace-pre-wrap text-gray-700",children:_.notes||v.jsx("span",{className:"text-gray-400",children:"—"})})}),v.jsx("td",{className:"px-4 py-3",children:d(_.id)?v.jsxs("div",{className:"flex justify-end gap-2",children:[v.jsx("button",{onClick:()=>S(_.id),className:"rounded-xl bg-black px-3 py-1.5 text-white hover:opacity-90",children:"Save"}),v.jsx("button",{onClick:y,className:"rounded-xl border px-3 py-1.5 hover:bg-gray-50",children:"Cancel"})]}):v.jsxs("div",{className:"flex justify-end gap-2",children:[v.jsx("button",{onClick:()=>w(_),className:"rounded-xl border px-3 py-1.5 hover:bg-gray-50",children:"Edit"}),v.jsx("button",{onClick:()=>f(_.id),className:"rounded-xl border px-3 py-1.5 text-red-600 hover:bg-red-50",title:"Remove client",children:"Delete"})]})})]},_.id))]})]})}),v.jsxs("div",{className:"mt-6 grid gap-3 sm:grid-cols-2",children:[v.jsx("button",{className:"rounded-2xl border px-4 py-2 hover:bg-gray-50",onClick:()=>{const _=JSON.stringify(e,null,2);navigator.clipboard.writeText(_),alert("Client list copied to clipboard as JSON.")},children:"Copy Clients as JSON"}),v.jsx("button",{className:"rounded-2xl border px-4 py-2 hover:bg-gray-50",onClick:()=>{const _=prompt("Paste JSON to replace clients:");if(_)try{const b=JSON.parse(_);if(!Array.isArray(b))throw new Error("Invalid format");localStorage.setItem("jag_clients",JSON.stringify(b)),window.dispatchEvent(new CustomEvent("clients:updated"))}catch{alert("Invalid JSON.")}},children:"Replace from JSON"})]})]})}function J_({clientId:e}){const[t,n]=E.useState("");return v.jsxs("form",{onSubmit:r=>{r.preventDefault(),t&&(A_(e,Number(t)),n(""))},className:"flex items-center gap-2",title:"Add a tax year",children:[v.jsx("input",{type:"number",min:"2000",max:"2100",value:t,onChange:r=>n(r.target.value),className:"w-24 rounded-xl border px-2 py-1",placeholder:"Year"}),v.jsx("button",{className:"rounded-xl border px-2 py-1 text-xs hover:bg-gray-50",type:"submit",children:"+ Year"})]})}function Q_(){const{pathname:e}=bn(),t=n=>e===n?"text-black":"text-gray-600 hover:text-black";return v.jsx("header",{className:"bg-white border-b",children:v.jsxs("div",{className:"mx-auto max-w-6xl px-4 py-3 flex items-center justify-between",children:[v.jsx(ws,{to:"/",className:"font-semibold",children:"JAG Dashboard"}),v.jsxs("nav",{className:"flex items-center gap-6 text-sm",children:[v.jsx(ws,{to:"/",className:t("/"),children:"Home"}),v.jsx(ws,{to:"/clients",className:t("/clients"),children:"Clients"})]})]})})}function X_(){return v.jsx($y,{basename:"/-jag-tax-dashboard-/",children:v.jsxs("div",{className:"min-h-screen bg-gray-100",children:[v.jsx(Q_,{}),v.jsx("main",{className:"pt-4",children:v.jsxs(dy,{children:[v.jsx(kl,{path:"/",element:v.jsx(K_,{})}),v.jsx(kl,{path:"/clients",element:v.jsx(G_,{})})]})})]})})}Oa.createRoot(document.getElementById("root")).render(v.jsx(E.StrictMode,{children:v.jsx(X_,{})}));
